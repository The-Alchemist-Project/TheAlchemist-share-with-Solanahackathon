{"id":"../node_modules/lightweight-charts/dist/lightweight-charts.esm.production.js","dependencies":[{"name":"/Users/lamtnb/js/trading-FE/package.json","includedInParent":true,"mtime":1602906532260},{"name":"/Users/lamtnb/js/trading-FE/node_modules/lightweight-charts/package.json","includedInParent":true,"mtime":1602864779402},{"name":"fancy-canvas/coordinate-space","loc":{"line":7,"column":39},"parent":"/Users/lamtnb/js/trading-FE/node_modules/lightweight-charts/dist/lightweight-charts.esm.production.js","resolved":"/Users/lamtnb/js/trading-FE/node_modules/fancy-canvas/coordinate-space.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createChart = nh;\nexports.isBusinessDay = Ft;\nexports.isUTCTimestamp = Vt;\nexports.version = hh;\nexports.TickMarkType = exports.PriceScaleMode = exports.PriceLineSource = exports.LineType = exports.LineStyle = exports.CrosshairMode = void 0;\n\nvar _coordinateSpace = require(\"fancy-canvas/coordinate-space\");\n\n/*!\n * @license\n * TradingView Lightweight Charts v3.1.5\n * Copyright (c) 2020 TradingView, Inc.\n * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0\n */\nvar i, n;\nexports.LineStyle = n;\nexports.LineType = i;\n\nfunction h(t, i) {\n  var n,\n      h = ((n = {})[0] = [], n[1] = [t.lineWidth, t.lineWidth], n[2] = [2 * t.lineWidth, 2 * t.lineWidth], n[3] = [6 * t.lineWidth, 6 * t.lineWidth], n[4] = [t.lineWidth, 4 * t.lineWidth], n)[i];\n  t.setLineDash(h);\n}\n\nfunction s(t, i, n, h) {\n  t.beginPath();\n  var s = t.lineWidth % 2 ? .5 : 0;\n  t.moveTo(n, i + s), t.lineTo(h, i + s), t.stroke();\n}\n\n!function (t) {\n  t[t.Simple = 0] = \"Simple\", t[t.WithSteps = 1] = \"WithSteps\";\n}(i || (exports.LineType = i = {})), function (t) {\n  t[t.Solid = 0] = \"Solid\", t[t.Dotted = 1] = \"Dotted\", t[t.Dashed = 2] = \"Dashed\", t[t.LargeDashed = 3] = \"LargeDashed\", t[t.SparseDotted = 4] = \"SparseDotted\";\n}(n || (exports.LineStyle = n = {}));\n\nvar r = function (t, i) {\n  return (r = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (t, i) {\n    t.__proto__ = i;\n  } || function (t, i) {\n    for (var n in i) i.hasOwnProperty(n) && (t[n] = i[n]);\n  })(t, i);\n};\n\nfunction e(t, i) {\n  function n() {\n    this.constructor = t;\n  }\n\n  r(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n());\n}\n\nvar u = function () {\n  return (u = Object.assign || function (t) {\n    for (var i, n = 1, h = arguments.length; n < h; n++) for (var s in i = arguments[n]) Object.prototype.hasOwnProperty.call(i, s) && (t[s] = i[s]);\n\n    return t;\n  }).apply(this, arguments);\n};\n\nfunction a() {\n  for (var t = 0, i = 0, n = arguments.length; i < n; i++) t += arguments[i].length;\n\n  var h = Array(t),\n      s = 0;\n\n  for (i = 0; i < n; i++) for (var r = arguments[i], e = 0, u = r.length; e < u; e++, s++) h[s] = r[e];\n\n  return h;\n}\n\nfunction o(t, i) {\n  if (!t) throw new Error(\"Assertion failed\" + (i ? \": \" + i : \"\"));\n}\n\nfunction l(t) {\n  if (void 0 === t) throw new Error(\"Value is undefined\");\n  return t;\n}\n\nfunction f(t) {\n  if (null === t) throw new Error(\"Value is null\");\n  return t;\n}\n\nfunction c(t) {\n  return f(l(t));\n}\n\nfunction v(t) {\n  for (var i = [], n = 1; n < arguments.length; n++) i[n - 1] = arguments[n];\n\n  for (var h = 0, s = i; h < s.length; h++) {\n    var r = s[h];\n\n    for (var e in r) void 0 !== r[e] && (\"object\" != typeof r[e] || void 0 === t[e] ? t[e] = r[e] : v(t[e], r[e]));\n  }\n\n  return t;\n}\n\nfunction _(t) {\n  return \"number\" == typeof t && isFinite(t);\n}\n\nfunction d(t) {\n  return \"number\" == typeof t && t % 1 == 0;\n}\n\nfunction w(t) {\n  return \"string\" == typeof t;\n}\n\nfunction M(t) {\n  return \"boolean\" == typeof t;\n}\n\nfunction b(t) {\n  var i,\n      n,\n      h,\n      s = t;\n  if (!s || \"object\" != typeof s) return s;\n\n  for (n in i = Array.isArray(s) ? [] : {}, s) s.hasOwnProperty(n) && (h = s[n], i[n] = h && \"object\" == typeof h ? b(h) : h);\n\n  return i;\n}\n\nfunction m(t) {\n  return null !== t;\n}\n\nfunction g(t) {\n  return null === t ? void 0 : t;\n}\n\nvar p = function () {\n  function t() {\n    this.t = [];\n  }\n\n  return t.prototype.i = function (t) {\n    this.t = t;\n  }, t.prototype.h = function (t, i, n, h) {\n    this.t.forEach(function (s) {\n      t.save(), s.h(t, i, n, h), t.restore();\n    });\n  }, t;\n}(),\n    y = function () {\n  function t() {}\n\n  return t.prototype.h = function (t, i, n, h) {\n    t.save(), t.scale(i, i), this.s(t, n, h), t.restore();\n  }, t.prototype.u = function (t, i, n, h) {\n    t.save(), t.scale(i, i), this.o(t, n, h), t.restore();\n  }, t.prototype.o = function (t, i, n) {}, t;\n}(),\n    k = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;\n    return i.l = null, i;\n  }\n\n  return e(i, t), i.prototype.v = function (t) {\n    this.l = t;\n  }, i.prototype.s = function (t) {\n    if (null !== this.l && null !== this.l._) {\n      var i = this.l._,\n          n = this.l,\n          h = function (h) {\n        t.beginPath();\n\n        for (var s = i.to - 1; s >= i.from; --s) {\n          var r = n.M[s];\n          t.moveTo(r.m, r.g), t.arc(r.m, r.g, h, 0, 2 * Math.PI);\n        }\n\n        t.fill();\n      };\n\n      t.fillStyle = n.p, h(n.k + 2), t.fillStyle = n.N, h(n.k);\n    }\n  }, i;\n}(y);\n\nvar x,\n    N,\n    S,\n    D = {\n  from: 0,\n  to: 1\n},\n    C = function () {\n  function t(t, i) {\n    this.S = new p(), this.D = [], this.C = [], this.T = !0, this.A = t, this.L = i, this.S.i(this.D);\n  }\n\n  return t.prototype.B = function (t) {\n    var i = this,\n        n = this.A.F();\n    n.length !== this.D.length && (this.C = n.map(function () {\n      return {\n        M: [{\n          m: 0,\n          g: 0,\n          V: 0,\n          O: 0\n        }],\n        N: \"\",\n        p: i.A.P().layout.backgroundColor,\n        k: 0,\n        _: null\n      };\n    }), this.D = this.C.map(function (t) {\n      var i = new k();\n      return i.v(t), i;\n    }), this.S.i(this.D)), this.T = !0;\n  }, t.prototype.I = function (t, i, n) {\n    return this.T && (this.W(), this.T = !1), this.S;\n  }, t.prototype.W = function () {\n    var t = this,\n        i = this.A.F(),\n        n = this.L.R(),\n        h = this.A.j();\n    i.forEach(function (i, s) {\n      var r = t.C[s],\n          e = i.U(n);\n\n      if (null !== e) {\n        var u = f(i.q());\n        r.N = i.K().Y(n).H, r.p = t.A.P().layout.backgroundColor, r.k = e.k, r.M[0].O = e.O, r.M[0].g = i.X().$(e.O, u.Z), r.M[0].V = n, r.M[0].m = h.J(n), r._ = D;\n      } else r._ = null;\n    });\n  }, t;\n}(),\n    T = function () {\n  function t(t) {\n    this.G = t;\n  }\n\n  return t.prototype.h = function (t, i, n, r) {\n    if (null !== this.G) {\n      var e = this.G.it.tt,\n          u = this.G.nt.tt;\n\n      if (e || u) {\n        t.save();\n        var a = Math.round(this.G.m * i),\n            o = Math.round(this.G.g * i),\n            l = Math.ceil(this.G.ht * i),\n            f = Math.ceil(this.G.st * i);\n        t.lineCap = \"butt\", e && a >= 0 && (t.lineWidth = Math.floor(this.G.it.rt * i), t.strokeStyle = this.G.it.et, t.fillStyle = this.G.it.et, h(t, this.G.it.ut), function (t, i, n, h) {\n          t.beginPath();\n          var s = t.lineWidth % 2 ? .5 : 0;\n          t.moveTo(i + s, n), t.lineTo(i + s, h), t.stroke();\n        }(t, a, 0, f)), u && o >= 0 && (t.lineWidth = Math.floor(this.G.nt.rt * i), t.strokeStyle = this.G.nt.et, t.fillStyle = this.G.nt.et, h(t, this.G.nt.ut), s(t, o, 0, l)), t.restore();\n      }\n    }\n  }, t;\n}(),\n    A = function () {\n  function t(t) {\n    this.T = !0, this.at = {\n      it: {\n        rt: 1,\n        ut: 0,\n        et: \"\",\n        tt: !1\n      },\n      nt: {\n        rt: 1,\n        ut: 0,\n        et: \"\",\n        tt: !1\n      },\n      ht: 0,\n      st: 0,\n      m: 0,\n      g: 0\n    }, this.ot = new T(this.at), this.lt = t;\n  }\n\n  return t.prototype.B = function () {\n    this.T = !0;\n  }, t.prototype.I = function (t, i) {\n    return this.T && (this.W(), this.T = !1), this.ot;\n  }, t.prototype.W = function () {\n    var t = this.lt.tt(),\n        i = f(this.lt.ft()),\n        n = i.ct().P().crosshair,\n        h = this.at;\n    h.nt.tt = t && this.lt.vt(i), h.it.tt = t && this.lt._t(), h.nt.rt = n.horzLine.width, h.nt.ut = n.horzLine.style, h.nt.et = n.horzLine.color, h.it.rt = n.vertLine.width, h.it.ut = n.vertLine.style, h.it.et = n.vertLine.color, h.ht = i.dt(), h.st = i.wt(), h.m = this.lt.Mt(), h.g = this.lt.bt();\n  }, t;\n}(),\n    E = {\n  aliceblue: \"#f0f8ff\",\n  antiquewhite: \"#faebd7\",\n  aqua: \"#00ffff\",\n  aquamarine: \"#7fffd4\",\n  azure: \"#f0ffff\",\n  beige: \"#f5f5dc\",\n  bisque: \"#ffe4c4\",\n  black: \"#000000\",\n  blanchedalmond: \"#ffebcd\",\n  blue: \"#0000ff\",\n  blueviolet: \"#8a2be2\",\n  brown: \"#a52a2a\",\n  burlywood: \"#deb887\",\n  cadetblue: \"#5f9ea0\",\n  chartreuse: \"#7fff00\",\n  chocolate: \"#d2691e\",\n  coral: \"#ff7f50\",\n  cornflowerblue: \"#6495ed\",\n  cornsilk: \"#fff8dc\",\n  crimson: \"#dc143c\",\n  cyan: \"#00ffff\",\n  darkblue: \"#00008b\",\n  darkcyan: \"#008b8b\",\n  darkgoldenrod: \"#b8860b\",\n  darkgray: \"#a9a9a9\",\n  darkgreen: \"#006400\",\n  darkkhaki: \"#bdb76b\",\n  darkmagenta: \"#8b008b\",\n  darkolivegreen: \"#556b2f\",\n  darkorange: \"#ff8c00\",\n  darkorchid: \"#9932cc\",\n  darkred: \"#8b0000\",\n  darksalmon: \"#e9967a\",\n  darkseagreen: \"#8fbc8f\",\n  darkslateblue: \"#483d8b\",\n  darkslategray: \"#2f4f4f\",\n  darkturquoise: \"#00ced1\",\n  darkviolet: \"#9400d3\",\n  deeppink: \"#ff1493\",\n  deepskyblue: \"#00bfff\",\n  dimgray: \"#696969\",\n  dodgerblue: \"#1e90ff\",\n  feldspar: \"#d19275\",\n  firebrick: \"#b22222\",\n  floralwhite: \"#fffaf0\",\n  forestgreen: \"#228b22\",\n  fuchsia: \"#ff00ff\",\n  gainsboro: \"#dcdcdc\",\n  ghostwhite: \"#f8f8ff\",\n  gold: \"#ffd700\",\n  goldenrod: \"#daa520\",\n  gray: \"#808080\",\n  green: \"#008000\",\n  greenyellow: \"#adff2f\",\n  honeydew: \"#f0fff0\",\n  hotpink: \"#ff69b4\",\n  indianred: \"#cd5c5c\",\n  indigo: \"#4b0082\",\n  ivory: \"#fffff0\",\n  khaki: \"#f0e68c\",\n  lavender: \"#e6e6fa\",\n  lavenderblush: \"#fff0f5\",\n  lawngreen: \"#7cfc00\",\n  lemonchiffon: \"#fffacd\",\n  lightblue: \"#add8e6\",\n  lightcoral: \"#f08080\",\n  lightcyan: \"#e0ffff\",\n  lightgoldenrodyellow: \"#fafad2\",\n  lightgreen: \"#90ee90\",\n  lightgrey: \"#d3d3d3\",\n  lightpink: \"#ffb6c1\",\n  lightsalmon: \"#ffa07a\",\n  lightseagreen: \"#20b2aa\",\n  lightskyblue: \"#87cefa\",\n  lightslateblue: \"#8470ff\",\n  lightslategray: \"#778899\",\n  lightsteelblue: \"#b0c4de\",\n  lightyellow: \"#ffffe0\",\n  lime: \"#00ff00\",\n  limegreen: \"#32cd32\",\n  linen: \"#faf0e6\",\n  magenta: \"#ff00ff\",\n  maroon: \"#800000\",\n  mediumaquamarine: \"#66cdaa\",\n  mediumblue: \"#0000cd\",\n  mediumorchid: \"#ba55d3\",\n  mediumpurple: \"#9370d8\",\n  mediumseagreen: \"#3cb371\",\n  mediumslateblue: \"#7b68ee\",\n  mediumspringgreen: \"#00fa9a\",\n  mediumturquoise: \"#48d1cc\",\n  mediumvioletred: \"#c71585\",\n  midnightblue: \"#191970\",\n  mintcream: \"#f5fffa\",\n  mistyrose: \"#ffe4e1\",\n  moccasin: \"#ffe4b5\",\n  navajowhite: \"#ffdead\",\n  navy: \"#000080\",\n  oldlace: \"#fdf5e6\",\n  olive: \"#808000\",\n  olivedrab: \"#6b8e23\",\n  orange: \"#ffa500\",\n  orangered: \"#ff4500\",\n  orchid: \"#da70d6\",\n  palegoldenrod: \"#eee8aa\",\n  palegreen: \"#98fb98\",\n  paleturquoise: \"#afeeee\",\n  palevioletred: \"#d87093\",\n  papayawhip: \"#ffefd5\",\n  peachpuff: \"#ffdab9\",\n  peru: \"#cd853f\",\n  pink: \"#ffc0cb\",\n  plum: \"#dda0dd\",\n  powderblue: \"#b0e0e6\",\n  purple: \"#800080\",\n  red: \"#ff0000\",\n  rosybrown: \"#bc8f8f\",\n  royalblue: \"#4169e1\",\n  saddlebrown: \"#8b4513\",\n  salmon: \"#fa8072\",\n  sandybrown: \"#f4a460\",\n  seagreen: \"#2e8b57\",\n  seashell: \"#fff5ee\",\n  sienna: \"#a0522d\",\n  silver: \"#c0c0c0\",\n  skyblue: \"#87ceeb\",\n  slateblue: \"#6a5acd\",\n  slategray: \"#708090\",\n  snow: \"#fffafa\",\n  springgreen: \"#00ff7f\",\n  steelblue: \"#4682b4\",\n  tan: \"#d2b48c\",\n  teal: \"#008080\",\n  thistle: \"#d8bfd8\",\n  tomato: \"#ff6347\",\n  turquoise: \"#40e0d0\",\n  violet: \"#ee82ee\",\n  violetred: \"#d02090\",\n  wheat: \"#f5deb3\",\n  white: \"#ffffff\",\n  whitesmoke: \"#f5f5f5\",\n  yellow: \"#ffff00\",\n  yellowgreen: \"#9acd32\"\n};\n\nfunction L(t) {\n  return function (t, i, n) {\n    return (h = i) <= 0 || h > 0 ? i < t ? t : i > n ? n : Math.round(i) : t;\n    var h;\n  }(0, t, 255);\n}\n\nfunction B(t) {\n  if (\"transparent\" === (t = t.toLowerCase())) return [0, 0, 0];\n  t in E && (t = E[t]);\n\n  var i = function (t) {\n    var i = S.rgbaRe.exec(t) || S.rgbRe.exec(t);\n    return null !== i ? S.parse(i) : null;\n  }(t);\n\n  if (null !== i) return i;\n  var n,\n      h,\n      s = (n = t, null !== (h = N.re.exec(n)) ? N.parse(h) : null);\n  if (null !== s) return s;\n\n  var r = function (t) {\n    var i = x.re.exec(t);\n    return null !== i ? x.parse(i) : null;\n  }(t);\n\n  if (null !== r) return r;\n  throw new Error(\"Cannot parse color: \" + t);\n}\n\nfunction F(t) {\n  var i,\n      n = B(t);\n  return {\n    gt: \"rgb(\" + n[0] + \", \" + n[1] + \", \" + n[2] + \")\",\n    pt: (i = n, .199 * i[0] + .687 * i[1] + .114 * i[2] > 160 ? \"black\" : \"white\")\n  };\n}\n\nfunction V(t, i, n, h, s, r) {\n  t.fillRect(i, n, r, s), t.fillRect(i + r, n, h - 2 * r, r), t.fillRect(i + r, n + s - r, h - 2 * r, r), t.fillRect(i + h - r, n, r, s);\n}\n\nfunction z(t, i, n) {\n  t.save(), t.scale(i, i), n(), t.restore();\n}\n\nfunction O(t, i, n, h, s, r) {\n  t.save(), t.globalCompositeOperation = \"copy\", t.fillStyle = r, t.fillRect(i, n, h, s), t.restore();\n}\n\n!function (t) {\n  t.re = /^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?$/, t.parse = function (t) {\n    return [L(parseInt(t[1] + t[1], 16)), L(parseInt(t[2] + t[2], 16)), L(parseInt(t[3] + t[3], 16))];\n  };\n}(x || (x = {})), function (t) {\n  t.re = /^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?$/, t.parse = function (t) {\n    return [L(parseInt(t[1], 16)), L(parseInt(t[2], 16)), L(parseInt(t[3], 16))];\n  };\n}(N || (N = {})), function (t) {\n  t.rgbRe = /^rgb\\(\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*\\)$/, t.rgbaRe = /^rgba\\(\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*,\\s*(-?[\\d]{0,10}(?:\\.\\d+)?)\\s*\\)$/, t.parse = function (t) {\n    return [L(parseInt(t[1], 10)), L(parseInt(t[2], 10)), L(parseInt(t[3], 10))];\n  };\n}(S || (S = {}));\n\nvar P,\n    I = function () {\n  function t(t, i) {\n    this.v(t, i);\n  }\n\n  return t.prototype.v = function (t, i) {\n    this.G = t, this.yt = i;\n  }, t.prototype.h = function (t, i, n, h, s, r) {\n    if (this.G.tt) {\n      t.font = i.kt;\n      var e = this.G.xt || !this.G.Nt ? i.St : 0,\n          u = i.Dt,\n          a = i.Ct,\n          o = i.Tt,\n          l = i.At,\n          f = i.Et,\n          c = this.G.Lt,\n          v = Math.ceil(n.Bt(t, c)),\n          _ = i.Ft,\n          d = i.Vt + a + o,\n          w = Math.ceil(.5 * d),\n          M = u + v + l + f + e,\n          b = this.yt.zt;\n      this.yt.Ot && (b = this.yt.Ot);\n      var m,\n          g,\n          p = (b = Math.round(b)) - w,\n          y = p + d,\n          k = \"right\" === s,\n          x = k ? h : 0,\n          N = Math.ceil(h * r),\n          S = x;\n\n      if (t.fillStyle = this.yt.gt, t.lineWidth = 1, t.lineCap = \"butt\", c) {\n        k ? (m = x - e, g = (S = x - M) + f) : (S = x + M, m = x + e, g = x + u + e + l);\n        var D = Math.max(1, Math.floor(r)),\n            C = Math.max(1, Math.floor(u * r)),\n            T = k ? N : 0,\n            A = Math.round(p * r),\n            E = Math.round(S * r),\n            L = Math.round(b * r) - Math.floor(.5 * r),\n            B = L + D + (L - A),\n            F = Math.round(m * r);\n        t.save(), t.beginPath(), t.moveTo(T, A), t.lineTo(E, A), t.lineTo(E, B), t.lineTo(T, B), t.fill(), t.fillStyle = this.G.Pt, t.fillRect(k ? N - C : 0, A, C, B - A), this.G.xt && (t.fillStyle = this.yt.et, t.fillRect(T, L, F - T, D)), t.textAlign = \"left\", t.fillStyle = this.yt.et, z(t, r, function () {\n          t.fillText(c, g, y - o - _);\n        }), t.restore();\n      }\n    }\n  }, t.prototype.wt = function (t, i) {\n    return this.G.tt ? t.Vt + t.Ct + t.Tt : 0;\n  }, t;\n}(),\n    W = function () {\n  function t(t) {\n    this.It = {\n      zt: 0,\n      et: \"#FFF\",\n      gt: \"#000\"\n    }, this.Wt = {\n      Lt: \"\",\n      tt: !1,\n      xt: !0,\n      Nt: !1,\n      Pt: \"\"\n    }, this.Rt = {\n      Lt: \"\",\n      tt: !1,\n      xt: !1,\n      Nt: !0,\n      Pt: \"\"\n    }, this.T = !0, this.jt = new (t || I)(this.Wt, this.It), this.Ut = new (t || I)(this.Rt, this.It);\n  }\n\n  return t.prototype.Lt = function () {\n    return this.Wt.Lt;\n  }, t.prototype.zt = function () {\n    return this.qt(), this.It.zt;\n  }, t.prototype.B = function () {\n    this.T = !0;\n  }, t.prototype.wt = function (t, i) {\n    return void 0 === i && (i = !1), Math.max(this.jt.wt(t, i), this.Ut.wt(t, i));\n  }, t.prototype.Ht = function () {\n    return this.It.Ot || 0;\n  }, t.prototype.Yt = function (t) {\n    this.It.Ot = t;\n  }, t.prototype.Kt = function () {\n    return this.qt(), this.Wt.tt || this.Rt.tt;\n  }, t.prototype.$t = function () {\n    return this.qt(), this.Wt.tt;\n  }, t.prototype.I = function (t) {\n    return this.qt(), this.Wt.xt = this.Wt.xt && t.P().drawTicks, this.Rt.xt = this.Rt.xt && t.P().drawTicks, this.jt.v(this.Wt, this.It), this.Ut.v(this.Rt, this.It), this.jt;\n  }, t.prototype.Xt = function () {\n    return this.qt(), this.jt.v(this.Wt, this.It), this.Ut.v(this.Rt, this.It), this.Ut;\n  }, t.prototype.qt = function () {\n    this.T && (this.Wt.xt = !0, this.Rt.xt = !1, this.Zt(this.Wt, this.Rt, this.It));\n  }, t;\n}(),\n    R = function (t) {\n  function i(i, n, h) {\n    var s = t.call(this) || this;\n    return s.lt = i, s.Jt = n, s.Gt = h, s;\n  }\n\n  return e(i, t), i.prototype.Zt = function (t, i, n) {\n    t.tt = !1;\n    var h = this.lt.P().horzLine;\n\n    if (h.labelVisible) {\n      var s = this.Jt.q();\n\n      if (this.lt.tt() && !this.Jt.Qt() && null !== s) {\n        var r = F(h.labelBackgroundColor);\n        n.gt = r.gt, n.et = r.pt;\n        var e = this.Gt(this.Jt);\n        n.zt = e.zt, t.Lt = this.Jt.ti(e.O, s), t.tt = !0;\n      }\n    }\n  }, i;\n}(W),\n    j = /[1-9]/g,\n    U = function () {\n  function t() {\n    this.G = null;\n  }\n\n  return t.prototype.v = function (t) {\n    this.G = t;\n  }, t.prototype.h = function (t, i, n) {\n    var h = this;\n\n    if (null !== this.G && !1 !== this.G.tt && 0 !== this.G.Lt.length) {\n      t.font = i.kt;\n      var s = Math.round(i.ii.Bt(t, this.G.Lt, j));\n\n      if (!(s <= 0)) {\n        t.save();\n        var r = i.ni,\n            e = s + 2 * r,\n            u = e / 2,\n            a = this.G.dt,\n            o = this.G.zt,\n            l = Math.floor(o - u) + .5;\n        l < 0 ? (o += Math.abs(0 - l), l = Math.floor(o - u) + .5) : l + e > a && (o -= Math.abs(a - (l + e)), l = Math.floor(o - u) + .5);\n        var c = l + e,\n            v = 0 + i.Dt + i.Ct + i.Vt + i.Tt;\n        t.fillStyle = this.G.gt;\n\n        var _ = Math.round(l * n),\n            d = Math.round(0 * n),\n            w = Math.round(c * n),\n            M = Math.round(v * n);\n\n        t.fillRect(_, d, w - _, M - d);\n        var b = Math.round(this.G.zt * n),\n            m = d,\n            g = Math.round((m + i.Dt + i.St) * n);\n        t.fillStyle = this.G.et;\n        var p = Math.max(1, Math.floor(n)),\n            y = Math.floor(.5 * n);\n        t.fillRect(b - y, m, p, g - m);\n        var k = v - i.Ft - i.Tt;\n        t.textAlign = \"left\", t.fillStyle = this.G.et, z(t, n, function () {\n          t.fillText(f(h.G).Lt, l + r, k);\n        }), t.restore();\n      }\n    }\n  }, t;\n}(),\n    q = function () {\n  function t(t, i, n) {\n    this.T = !0, this.ot = new U(), this.at = {\n      tt: !1,\n      gt: \"#4c525e\",\n      et: \"white\",\n      Lt: \"\",\n      dt: 0,\n      zt: NaN\n    }, this.L = t, this.hi = i, this.Gt = n;\n  }\n\n  return t.prototype.B = function () {\n    this.T = !0;\n  }, t.prototype.I = function () {\n    return this.T && (this.W(), this.T = !1), this.ot.v(this.at), this.ot;\n  }, t.prototype.W = function () {\n    var t = this.at;\n    t.tt = !1;\n    var i = this.L.P().vertLine;\n\n    if (i.labelVisible) {\n      var n = this.hi.j();\n\n      if (!n.Qt()) {\n        var h = n.si(this.L.R());\n        t.dt = n.dt();\n        var s = this.Gt();\n\n        if (s.V) {\n          t.zt = s.zt, t.Lt = n.ri(f(h)), t.tt = !0;\n          var r = F(i.labelBackgroundColor);\n          t.gt = r.gt, t.et = r.pt;\n        }\n      }\n    }\n  }, t;\n}(),\n    H = function () {\n  function t() {\n    this.ei = null, this.ui = 0;\n  }\n\n  return t.prototype.ai = function () {\n    return this.ui;\n  }, t.prototype.oi = function (t) {\n    this.ui = t;\n  }, t.prototype.X = function () {\n    return this.ei;\n  }, t.prototype.li = function (t) {\n    this.ei = t;\n  }, t.prototype.fi = function (t, i) {\n    return [];\n  }, t.prototype.ci = function (t) {\n    return [];\n  }, t.prototype.vi = function () {\n    return [];\n  }, t;\n}();\n\nexports.CrosshairMode = P;\n!function (t) {\n  t[t.Normal = 0] = \"Normal\", t[t.Magnet = 1] = \"Magnet\";\n}(P || (exports.CrosshairMode = P = {}));\n\nvar Y = function (t) {\n  function i(i, n) {\n    var h = t.call(this) || this;\n    h._i = null, h.di = NaN, h.wi = 0, h.Mi = !0, h.bi = new Map(), h.mi = !1, h.gi = NaN, h.pi = NaN, h.yi = NaN, h.ki = NaN, h.hi = i, h.xi = n, h.Ni = new C(i, h);\n    var s, r;\n    h.Si = (s = function () {\n      return h.di;\n    }, r = function () {\n      return h.pi;\n    }, function (t) {\n      var i = r(),\n          n = s();\n      if (t === f(h._i).Di()) return {\n        O: n,\n        zt: i\n      };\n      var e = f(t.q());\n      return {\n        O: t.Ci(i, e),\n        zt: i\n      };\n    });\n\n    var e = function (t, i) {\n      return function () {\n        return {\n          V: h.hi.j().si(t()),\n          zt: i()\n        };\n      };\n    }(function () {\n      return h.wi;\n    }, function () {\n      return h.Mt();\n    });\n\n    return h.Ti = new q(h, i, e), h.Ai = new A(h), h;\n  }\n\n  return e(i, t), i.prototype.P = function () {\n    return this.xi;\n  }, i.prototype.Ei = function (t, i) {\n    this.yi = t, this.ki = i;\n  }, i.prototype.Li = function () {\n    this.yi = NaN, this.ki = NaN;\n  }, i.prototype.Bi = function () {\n    return this.yi;\n  }, i.prototype.Fi = function () {\n    return this.ki;\n  }, i.prototype.Vi = function (t, i, n) {\n    this.mi || (this.mi = !0), this.Mi = !0, this.zi(t, i, n);\n  }, i.prototype.R = function () {\n    return this.wi;\n  }, i.prototype.Mt = function () {\n    return this.gi;\n  }, i.prototype.bt = function () {\n    return this.pi;\n  }, i.prototype.tt = function () {\n    return this.Mi;\n  }, i.prototype.Oi = function () {\n    this.Mi = !1, this.Pi(), this.di = NaN, this.gi = NaN, this.pi = NaN, this._i = null, this.Li();\n  }, i.prototype.ci = function (t) {\n    return null !== this._i ? [this.Ai, this.Ni] : [];\n  }, i.prototype.vt = function (t) {\n    return t === this._i && this.xi.horzLine.visible;\n  }, i.prototype._t = function () {\n    return this.xi.vertLine.visible;\n  }, i.prototype.fi = function (t, i) {\n    this.Mi && this._i === t || this.bi.clear();\n    var n = [];\n    return this._i === t && n.push(this.Ii(this.bi, i, this.Si)), n;\n  }, i.prototype.vi = function () {\n    return this.Mi ? [this.Ti] : [];\n  }, i.prototype.ft = function () {\n    return this._i;\n  }, i.prototype.Wi = function () {\n    this.Ai.B(), this.bi.forEach(function (t) {\n      return t.B();\n    }), this.Ti.B(), this.Ni.B();\n  }, i.prototype.Ri = function (t) {\n    return t && !t.Di().Qt() ? t.Di() : null;\n  }, i.prototype.zi = function (t, i, n) {\n    this.ji(t, i, n) && this.Wi();\n  }, i.prototype.ji = function (t, i, n) {\n    var h = this.gi,\n        s = this.pi,\n        r = this.di,\n        e = this.wi,\n        u = this._i,\n        a = this.Ri(n);\n    this.wi = t, this.gi = isNaN(t) ? NaN : this.hi.j().J(t), this._i = n;\n    var o = null !== a ? a.q() : null;\n    return null !== a && null !== o ? (this.di = i, this.pi = a.$(i, o)) : (this.di = NaN, this.pi = NaN), h !== this.gi || s !== this.pi || e !== this.wi || r !== this.di || u !== this._i;\n  }, i.prototype.Pi = function () {\n    var t = this.hi.F().map(function (t) {\n      return t.qi().Ui();\n    }).filter(m),\n        i = 0 === t.length ? null : Math.max.apply(Math, t);\n    this.wi = null !== i ? i : NaN;\n  }, i.prototype.Ii = function (t, i, n) {\n    var h = t.get(i);\n    return void 0 === h && (h = new R(this, i, n), t.set(i, h)), h;\n  }, i;\n}(H),\n    K = \".\",\n    $ = \"'\";\n\nfunction X(t, i) {\n  if (!_(t)) return \"n/a\";\n  if (!d(i)) throw new TypeError(\"invalid length\");\n  if (i < 0 || i > 16) throw new TypeError(\"invalid length\");\n  if (0 === i) return t.toString();\n  return (\"0000000000000000\" + t.toString()).slice(-i);\n}\n\nvar Z = function () {\n  function t(t, i, n, h) {\n    if (i || (i = 1), _(t) && d(t) || (t = 100), t < 0) throw new TypeError(\"invalid base\");\n    this.Jt = t, this.Hi = i, this.Yi = h, n && void 0 !== h && h > 0 && 2 !== h && 4 !== h && 8 !== h || (this.Ki = n, this.$i());\n  }\n\n  return t.prototype.Xi = function (t) {\n    var i = t < 0 ? \"−\" : \"\";\n    return t = Math.abs(t), this.Ki ? i + this.Zi(t) : i + this.Ji(t);\n  }, t.prototype.$i = function () {\n    if (this.Gi = 0, this.Jt > 0 && this.Hi > 0) {\n      var t = this.Jt;\n\n      for (this.Ki && this.Yi && (t /= this.Yi); t > 1;) t /= 10, this.Gi++;\n    }\n  }, t.prototype.Ji = function (t) {\n    var i;\n    i = this.Ki ? Math.pow(10, this.Gi || 0) : this.Jt / this.Hi;\n    var n = Math.floor(t),\n        h = \"\",\n        s = void 0 !== this.Gi ? this.Gi : NaN;\n\n    if (i > 1) {\n      var r = +(Math.round(t * i) - n * i).toFixed(this.Gi);\n      r >= i && (r -= i, n += 1), h = K + X(+r.toFixed(this.Gi) * this.Hi, s);\n    } else n = Math.round(n * i) / i, s > 0 && (h = K + X(0, s));\n\n    return n.toFixed(0) + h;\n  }, t.prototype.Zi = function (t) {\n    var i = this.Jt / this.Hi,\n        n = Math.floor(t),\n        h = Math.round(t * i) - n * i;\n    if (h === i && (h = 0, n += 1), !this.Gi) throw new Error(\"_fractionalLength is not calculated\");\n    var s = \"\";\n\n    if (this.Yi) {\n      var r = h % this.Yi,\n          e = X(h = (h - r) / this.Yi, this.Gi),\n          u = 2 === this.Yi ? [\"0\", \"5\"][r] : 8 === this.Yi ? [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"][r] : [\"0\", \"2\", \"5\", \"7\"][r];\n      s = e + $ + u;\n    } else s = X(h * this.Hi, this.Gi);\n\n    return n.toString() + $ + s;\n  }, t;\n}(),\n    J = function (t) {\n  function i(i) {\n    return void 0 === i && (i = 100), t.call(this, i) || this;\n  }\n\n  return e(i, t), i.prototype.Xi = function (i) {\n    return t.prototype.Xi.call(this, i) + \"%\";\n  }, i;\n}(Z),\n    G = function () {\n  function t() {\n    this.Qi = [];\n  }\n\n  return t.prototype.tn = function (t, i, n) {\n    var h = {\n      in: t,\n      nn: i,\n      hn: !0 === n\n    };\n    this.Qi.push(h);\n  }, t.prototype.sn = function (t) {\n    var i = this.Qi.findIndex(function (i) {\n      return t === i.in;\n    });\n    i > -1 && this.Qi.splice(i, 1);\n  }, t.prototype.rn = function (t) {\n    this.Qi = this.Qi.filter(function (i) {\n      return i.nn === t;\n    });\n  }, t.prototype.en = function (t, i) {\n    var n = a(this.Qi);\n    this.Qi = this.Qi.filter(function (t) {\n      return !t.hn;\n    }), n.forEach(function (n) {\n      return n.in(t, i);\n    });\n  }, t.prototype.un = function () {\n    return this.Qi.length > 0;\n  }, t.prototype.an = function () {\n    this.Qi = [];\n  }, t;\n}(),\n    Q = function () {\n  function t(t, i) {\n    this.on = t, this.ln = i;\n  }\n\n  return t.prototype.fn = function (t) {\n    return null !== t && this.on === t.on && this.ln === t.ln;\n  }, t.prototype.cn = function () {\n    return new t(this.on, this.ln);\n  }, t.prototype.vn = function () {\n    return this.on;\n  }, t.prototype._n = function () {\n    return this.ln;\n  }, t.prototype.dn = function () {\n    return this.ln - this.on;\n  }, t.prototype.Qt = function () {\n    return this.ln === this.on || Number.isNaN(this.ln) || Number.isNaN(this.on);\n  }, t.prototype.wn = function (i) {\n    return null === i ? this : new t(Math.min(this.vn(), i.vn()), Math.max(this._n(), i._n()));\n  }, t.prototype.Mn = function (t) {\n    if (_(t) && 0 !== this.ln - this.on) {\n      var i = .5 * (this.ln + this.on),\n          n = this.ln - i,\n          h = this.on - i;\n      n *= t, h *= t, this.ln = i + n, this.on = i + h;\n    }\n  }, t.prototype.bn = function (t) {\n    _(t) && (this.ln += t, this.on += t);\n  }, t.prototype.mn = function () {\n    return {\n      minValue: this.on,\n      maxValue: this.ln\n    };\n  }, t.gn = function (i) {\n    return null === i ? null : new t(i.minValue, i.maxValue);\n  }, t;\n}();\n\nfunction tt(t, i, n) {\n  return Math.min(Math.max(t, i), n);\n}\n\nfunction it(t, i, n) {\n  return i - t <= n;\n}\n\nfunction nt(t) {\n  return t <= 0 ? NaN : Math.log(t) / Math.log(10);\n}\n\nfunction ht(t) {\n  var i = Math.ceil(t);\n  return i % 2 != 0 ? i - 1 : i;\n}\n\nfunction st(t) {\n  var i = Math.ceil(t);\n  return i % 2 == 0 ? i - 1 : i;\n}\n\nfunction rt(t, i) {\n  var n = 100 * (t - i) / i;\n  return i < 0 ? -n : n;\n}\n\nfunction et(t, i) {\n  var n = rt(t.vn(), i),\n      h = rt(t._n(), i);\n  return new Q(n, h);\n}\n\nfunction ut(t, i) {\n  var n = 100 * (t - i) / i + 100;\n  return i < 0 ? -n : n;\n}\n\nfunction at(t, i) {\n  var n = ut(t.vn(), i),\n      h = ut(t._n(), i);\n  return new Q(n, h);\n}\n\nfunction ot(t) {\n  var i = Math.abs(t);\n  if (i < 1e-8) return 0;\n  var n = nt(i + 1e-4) + 4;\n  return t < 0 ? -n : n;\n}\n\nfunction lt(t) {\n  var i = Math.abs(t);\n  if (i < 1e-8) return 0;\n  var n = Math.pow(10, i - 4) - 1e-4;\n  return t < 0 ? -n : n;\n}\n\nfunction ft(t) {\n  if (null === t) return null;\n  var i = ot(t.vn()),\n      n = ot(t._n());\n  return new Q(i, n);\n}\n\nvar ct,\n    vt = function () {\n  function t(t, i) {\n    if (this.pn = t, this.yn = i, function (t) {\n      if (t < 0) return !1;\n\n      for (var i = t; i > 1; i /= 10) if (i % 10 != 0) return !1;\n\n      return !0;\n    }(this.pn)) this.kn = [2, 2.5, 2];else {\n      this.kn = [];\n\n      for (var n = this.pn; 1 !== n;) {\n        if (n % 2 == 0) this.kn.push(2), n /= 2;else {\n          if (n % 5 != 0) throw new Error(\"unexpected base\");\n          this.kn.push(2), this.kn.push(2.5), n /= 5;\n        }\n        if (this.kn.length > 100) throw new Error(\"something wrong with base\");\n      }\n    }\n  }\n\n  return t.prototype.xn = function (t, i, n) {\n    for (var h, s, r, e = 0 === this.pn ? 0 : 1 / this.pn, u = Math.pow(10, Math.max(0, Math.ceil(nt(t - i)))), a = 0, o = this.yn[0];;) {\n      var l = it(u, e, 1e-9) && u > e + 1e-9,\n          f = it(u, n * o, 1e-9),\n          c = it(u, 1, 1e-9);\n      if (!(l && f && c)) break;\n      u /= o, o = this.yn[++a % this.yn.length];\n    }\n\n    if (u <= e + 1e-9 && (u = e), u = Math.max(1, u), this.kn.length > 0 && (h = u, s = 1, r = 1e-9, Math.abs(h - s) < r)) for (a = 0, o = this.kn[0]; it(u, n * o, 1e-9) && u > e + 1e-9;) u /= o, o = this.kn[++a % this.kn.length];\n    return u;\n  }, t;\n}(),\n    _t = function () {\n  function t(t, i, n, h) {\n    this.Nn = [], this.Jt = t, this.pn = i, this.Sn = n, this.Dn = h;\n  }\n\n  return t.prototype.xn = function (t, i) {\n    if (t < i) throw new Error(\"high < low\");\n    var n = this.Jt.wt(),\n        h = (t - i) * this.Cn() / n,\n        s = new vt(this.pn, [2, 2.5, 2]),\n        r = new vt(this.pn, [2, 2, 2.5]),\n        e = new vt(this.pn, [2.5, 2, 2]),\n        u = [];\n    return u.push(s.xn(t, i, h)), u.push(r.xn(t, i, h)), u.push(e.xn(t, i, h)), function (t) {\n      if (t.length < 1) throw Error(\"array is empty\");\n\n      for (var i = t[0], n = 1; n < t.length; ++n) t[n] < i && (i = t[n]);\n\n      return i;\n    }(u);\n  }, t.prototype.Tn = function () {\n    var t = this.Jt,\n        i = t.q();\n\n    if (null !== i) {\n      var n = t.wt(),\n          h = this.Sn(n - 1, i),\n          s = this.Sn(0, i),\n          r = this.Jt.P().entireTextOnly ? this.An() / 2 : 0,\n          e = r,\n          u = n - 1 - r,\n          a = Math.max(h, s),\n          o = Math.min(h, s);\n\n      if (a !== o) {\n        for (var l = this.xn(a, o), f = a % l, c = a >= o ? 1 : -1, v = null, _ = 0, d = a - (f += f < 0 ? l : 0); d > o; d -= l) {\n          var w = this.Dn(d, i, !0);\n          null !== v && Math.abs(w - v) < this.Cn() || w < e || w > u || (_ < this.Nn.length ? (this.Nn[_].En = w, this.Nn[_].Ln = t.Bn(d)) : this.Nn.push({\n            En: w,\n            Ln: t.Bn(d)\n          }), _++, v = w, t.Fn() && (l = this.xn(d * c, o)));\n        }\n\n        this.Nn.length = _;\n      } else this.Nn = [];\n    } else this.Nn = [];\n  }, t.prototype.Vn = function () {\n    return this.Nn;\n  }, t.prototype.An = function () {\n    return this.Jt.Vt();\n  }, t.prototype.Cn = function () {\n    return Math.ceil(2.5 * this.An());\n  }, t;\n}();\n\nexports.PriceScaleMode = ct;\n\nfunction dt(t) {\n  return t.slice().sort(function (t, i) {\n    return f(t.ai()) - f(i.ai());\n  });\n}\n\n!function (t) {\n  t[t.Normal = 0] = \"Normal\", t[t.Logarithmic = 1] = \"Logarithmic\", t[t.Percentage = 2] = \"Percentage\", t[t.IndexedTo100 = 3] = \"IndexedTo100\";\n}(ct || (exports.PriceScaleMode = ct = {}));\n\nvar wt,\n    Mt = new J(),\n    bt = new Z(100, 1),\n    mt = function () {\n  function t(t, i, n, h) {\n    this.zn = 0, this.On = null, this.Pn = null, this.In = null, this.Wn = {\n      Rn: !1,\n      jn: null\n    }, this.Un = 0, this.qn = 0, this.Hn = new G(), this.Yn = new G(), this.Kn = [], this.$n = null, this.Xn = null, this.Zn = null, this.Jn = null, this.Gn = bt, this.Qn = t, this.xi = i, this.th = n, this.ih = h, this.nh = new _t(this, 100, this.hh.bind(this), this.sh.bind(this));\n  }\n\n  return t.prototype.rh = function () {\n    return this.Qn;\n  }, t.prototype.P = function () {\n    return this.xi;\n  }, t.prototype.eh = function (t) {\n    if (v(this.xi, t), this.uh(), void 0 !== t.mode && this.ah({\n      oh: t.mode\n    }), void 0 !== t.scaleMargins) {\n      var i = l(t.scaleMargins.top),\n          n = l(t.scaleMargins.bottom);\n      if (i < 0 || i > 1) throw new Error(\"Invalid top margin - expect value between 0 and 1, given=\" + i);\n      if (n < 0 || n > 1 || i + n > 1) throw new Error(\"Invalid bottom margin - expect value between 0 and 1, given=\" + n);\n      if (i + n > 1) throw new Error(\"Invalid margins - sum of margins must be less than 1, given=\" + (i + n));\n      this.lh(), this.Xn = null;\n    }\n  }, t.prototype.fh = function () {\n    return this.xi.autoScale;\n  }, t.prototype.Fn = function () {\n    return 1 === this.xi.mode;\n  }, t.prototype.vh = function () {\n    return 2 === this.xi.mode;\n  }, t.prototype._h = function () {\n    return 3 === this.xi.mode;\n  }, t.prototype.oh = function () {\n    return {\n      dh: this.xi.autoScale,\n      wh: this.xi.invertScale,\n      oh: this.xi.mode\n    };\n  }, t.prototype.ah = function (t) {\n    var i = this.oh(),\n        n = null;\n    void 0 !== t.dh && (this.xi.autoScale = t.dh), void 0 !== t.oh && (this.xi.mode = t.oh, 2 !== t.oh && 3 !== t.oh || (this.xi.autoScale = !0), this.Wn.Rn = !1), 1 === i.oh && t.oh !== i.oh && (!function (t) {\n      if (null === t) return !1;\n      var i = lt(t.vn()),\n          n = lt(t._n());\n      return isFinite(i) && isFinite(n);\n    }(this.Pn) ? this.xi.autoScale = !0 : null !== (n = function (t) {\n      if (null === t) return null;\n      var i = lt(t.vn()),\n          n = lt(t._n());\n      return new Q(i, n);\n    }(this.Pn)) && this.Mh(n)), 1 === t.oh && t.oh !== i.oh && null !== (n = ft(this.Pn)) && this.Mh(n);\n    var h = i.oh !== this.xi.mode;\n    h && (2 === i.oh || this.vh()) && this.uh(), h && (3 === i.oh || this._h()) && this.uh(), void 0 !== t.wh && i.wh !== t.wh && (this.xi.invertScale = t.wh, this.bh()), this.Yn.en(i, this.oh());\n  }, t.prototype.mh = function () {\n    return this.Yn;\n  }, t.prototype.Vt = function () {\n    return this.th.fontSize;\n  }, t.prototype.wt = function () {\n    return this.zn;\n  }, t.prototype.gh = function (t) {\n    this.zn !== t && (this.zn = t, this.lh(), this.Xn = null);\n  }, t.prototype.ph = function () {\n    if (this.On) return this.On;\n    var t = this.wt() - this.yh() - this.kh();\n    return this.On = t, t;\n  }, t.prototype.xh = function () {\n    return this.Nh(), this.Pn;\n  }, t.prototype.Mh = function (t, i) {\n    var n = this.Pn;\n    (i || null === n && null !== t || null !== n && !n.fn(t)) && (this.Xn = null, this.Pn = t);\n  }, t.prototype.Qt = function () {\n    return this.Nh(), 0 === this.zn || !this.Pn || this.Pn.Qt();\n  }, t.prototype.Sh = function (t) {\n    return this.wh() ? t : this.wt() - 1 - t;\n  }, t.prototype.$ = function (t, i) {\n    return this.vh() ? t = rt(t, i) : this._h() && (t = ut(t, i)), this.sh(t, i);\n  }, t.prototype.Dh = function (t, i, n) {\n    this.Nh();\n\n    for (var h = this.kh(), s = f(this.xh()), r = s.vn(), e = s._n(), u = this.ph() - 1, a = this.wh(), o = u / (e - r), l = void 0 === n ? 0 : n.from, c = void 0 === n ? t.length : n.to, v = this.Ch(), _ = l; _ < c; _++) {\n      var d = t[_],\n          w = d.O;\n\n      if (!isNaN(w)) {\n        var M = w;\n        null !== v && (M = v(d.O, i));\n        var b = h + o * (M - r),\n            m = a ? b : this.zn - 1 - b;\n        d.g = m;\n      }\n    }\n  }, t.prototype.Th = function (t, i, n) {\n    this.Nh();\n\n    for (var h = this.kh(), s = f(this.xh()), r = s.vn(), e = s._n(), u = this.ph() - 1, a = this.wh(), o = u / (e - r), l = void 0 === n ? 0 : n.from, c = void 0 === n ? t.length : n.to, v = this.Ch(), _ = l; _ < c; _++) {\n      var d = t[_],\n          w = d.open,\n          M = d.high,\n          b = d.low,\n          m = d.close;\n      null !== v && (w = v(d.open, i), M = v(d.high, i), b = v(d.low, i), m = v(d.close, i));\n      var g = h + o * (w - r),\n          p = a ? g : this.zn - 1 - g;\n      d.Ah = p, g = h + o * (M - r), p = a ? g : this.zn - 1 - g, d.Eh = p, g = h + o * (b - r), p = a ? g : this.zn - 1 - g, d.Lh = p, g = h + o * (m - r), p = a ? g : this.zn - 1 - g, d.Bh = p;\n    }\n  }, t.prototype.Ci = function (t, i) {\n    var n = this.hh(t, i);\n    return this.Fh(n, i);\n  }, t.prototype.Fh = function (t, i) {\n    var n = t;\n    return this.vh() ? n = function (t, i) {\n      return i < 0 && (t = -t), t / 100 * i + i;\n    }(n, i) : this._h() && (n = function (t, i) {\n      return t -= 100, i < 0 && (t = -t), t / 100 * i + i;\n    }(n, i)), n;\n  }, t.prototype.Vh = function () {\n    return this.Kn;\n  }, t.prototype.zh = function () {\n    if (this.$n) return this.$n;\n\n    for (var t = [], i = 0; i < this.Kn.length; i++) {\n      var n = this.Kn[i];\n      null === n.ai() && n.oi(i + 1), t.push(n);\n    }\n\n    return t = dt(t), this.$n = t, this.$n;\n  }, t.prototype.Oh = function (t) {\n    -1 === this.Kn.indexOf(t) && (this.Kn.push(t), this.uh(), this.Ph());\n  }, t.prototype.Ih = function (t) {\n    var i = this.Kn.indexOf(t);\n    if (-1 === i) throw new Error(\"source is not attached to scale\");\n    this.Kn.splice(i, 1), this.Qt() && this.ah({\n      dh: !0\n    }), this.uh(), this.Ph();\n  }, t.prototype.q = function () {\n    for (var t = null, i = 0, n = this.Kn; i < n.length; i++) {\n      var h = n[i].q();\n      null !== h && (null === t || h.Wh < t.Wh) && (t = h);\n    }\n\n    return null === t ? null : t.Z;\n  }, t.prototype.wh = function () {\n    return this.xi.invertScale;\n  }, t.prototype.Vn = function () {\n    return this.Xn || (this.nh.Tn(), this.Xn = this.nh.Vn(), this.Hn.en()), this.Xn;\n  }, t.prototype.Rh = function () {\n    return this.Hn;\n  }, t.prototype.jh = function (t) {\n    this.vh() || this._h() || null === this.Zn && null === this.In && (this.Qt() || (this.Zn = this.zn - t, this.In = f(this.xh()).cn()));\n  }, t.prototype.Uh = function (t) {\n    if (!this.vh() && !this._h() && null !== this.Zn) {\n      this.ah({\n        dh: !1\n      }), (t = this.zn - t) < 0 && (t = 0);\n      var i = (this.Zn + .2 * (this.zn - 1)) / (t + .2 * (this.zn - 1)),\n          n = f(this.In).cn();\n      i = Math.max(i, .1), n.Mn(i), this.Mh(n);\n    }\n  }, t.prototype.qh = function () {\n    this.vh() || this._h() || (this.Zn = null, this.In = null);\n  }, t.prototype.Hh = function (t) {\n    this.fh() || null === this.Jn && null === this.In && (this.Qt() || (this.Jn = t, this.In = f(this.xh()).cn()));\n  }, t.prototype.Yh = function (t) {\n    if (!this.fh() && null !== this.Jn) {\n      var i = f(this.xh()).dn() / (this.ph() - 1),\n          n = t - this.Jn;\n      this.wh() && (n *= -1);\n      var h = n * i,\n          s = f(this.In).cn();\n      s.bn(h), this.Mh(s, !0), this.Xn = null;\n    }\n  }, t.prototype.Kh = function () {\n    this.fh() || null !== this.Jn && (this.Jn = null, this.In = null);\n  }, t.prototype.$h = function () {\n    return this.Gn || this.uh(), this.Gn;\n  }, t.prototype.ti = function (t, i) {\n    switch (this.xi.mode) {\n      case 2:\n        return this.$h().Xi(rt(t, i));\n\n      case 3:\n        return this.$h().Xi(ut(t, i));\n\n      default:\n        return this.Xh(t);\n    }\n  }, t.prototype.Bn = function (t) {\n    switch (this.xi.mode) {\n      case 2:\n      case 3:\n        return this.$h().Xi(t);\n\n      default:\n        return this.Xh(t);\n    }\n  }, t.prototype.Zh = function (t) {\n    return this.Xh(t, f(this.Jh()).$h());\n  }, t.prototype.Gh = function (t, i) {\n    return t = rt(t, i), Mt.Xi(t);\n  }, t.prototype.Qh = function () {\n    return this.Kn;\n  }, t.prototype.ts = function (t) {\n    this.Wn = {\n      jn: t,\n      Rn: !1\n    };\n  }, t.prototype.Wi = function () {\n    this.Kn.forEach(function (t) {\n      return t.Wi();\n    });\n  }, t.prototype.uh = function () {\n    this.Xn = null;\n    var t = this.Jh(),\n        i = 100;\n    null !== t && (i = Math.round(1 / t.ns())), this.Gn = bt, this.vh() ? (this.Gn = Mt, i = 100) : this._h() ? (this.Gn = new Z(100, 1), i = 100) : null !== t && (this.Gn = t.$h()), this.nh = new _t(this, i, this.hh.bind(this), this.sh.bind(this)), this.nh.Tn();\n  }, t.prototype.Ph = function () {\n    this.$n = null;\n  }, t.prototype.Jh = function () {\n    return this.Kn[0] || null;\n  }, t.prototype.yh = function () {\n    return this.wh() ? this.xi.scaleMargins.bottom * this.wt() + this.qn : this.xi.scaleMargins.top * this.wt() + this.Un;\n  }, t.prototype.kh = function () {\n    return this.wh() ? this.xi.scaleMargins.top * this.wt() + this.Un : this.xi.scaleMargins.bottom * this.wt() + this.qn;\n  }, t.prototype.Nh = function () {\n    this.Wn.Rn || (this.Wn.Rn = !0, this.hs());\n  }, t.prototype.lh = function () {\n    this.On = null;\n  }, t.prototype.sh = function (t, i) {\n    if (this.Nh(), this.Qt()) return 0;\n    t = this.Fn() && t ? ot(t) : t;\n    var n = f(this.xh()),\n        h = this.kh() + (this.ph() - 1) * (t - n.vn()) / n.dn();\n    return this.Sh(h);\n  }, t.prototype.hh = function (t, i) {\n    if (this.Nh(), this.Qt()) return 0;\n    var n = this.Sh(t),\n        h = f(this.xh()),\n        s = h.vn() + h.dn() * ((n - this.kh()) / (this.ph() - 1));\n    return this.Fn() ? lt(s) : s;\n  }, t.prototype.bh = function () {\n    this.Xn = null, this.nh.Tn();\n  }, t.prototype.hs = function () {\n    var t = this.Wn.jn;\n\n    if (null !== t) {\n      for (var i = null, n = 0, h = 0, s = 0, r = this.Qh(); s < r.length; s++) {\n        var e = r[s],\n            u = e.q();\n\n        if (null !== u) {\n          var a = e.ss(t.rs(), t.es()),\n              o = a && a.xh();\n\n          if (null !== o) {\n            switch (this.xi.mode) {\n              case 1:\n                o = ft(o);\n                break;\n\n              case 2:\n                o = et(o, u.Z);\n                break;\n\n              case 3:\n                o = at(o, u.Z);\n            }\n\n            if (i = null === i ? o : i.wn(f(o)), null !== a) {\n              var l = a.us();\n              null !== l && (n = Math.max(n, l.above), h = Math.max(n, l.below));\n            }\n          }\n        }\n      }\n\n      if (n === this.Un && h === this.qn || (this.Un = n, this.qn = h, this.Xn = null, this.lh()), null !== i) {\n        if (i.vn() === i._n()) {\n          var c = this.Jh(),\n              v = 5 * (null === c || this.vh() || this._h() ? 1 : c.ns());\n          i = new Q(i.vn() - v, i._n() + v);\n        }\n\n        this.Mh(i);\n      } else null === this.Pn && this.Mh(new Q(-.5, .5));\n\n      this.Wn.Rn = !0;\n    }\n  }, t.prototype.Ch = function () {\n    return this.vh() ? rt : this._h() ? ut : this.Fn() ? ot : null;\n  }, t.prototype.Xh = function (t, i) {\n    return void 0 === this.ih.priceFormatter ? (void 0 === i && (i = this.$h()), i.Xi(t)) : this.ih.priceFormatter(t);\n  }, t;\n}();\n\nexports.PriceLineSource = wt;\n\nfunction gt(t) {\n  void 0 !== t.borderColor && (t.borderUpColor = t.borderColor, t.borderDownColor = t.borderColor), void 0 !== t.wickColor && (t.wickUpColor = t.wickColor, t.wickDownColor = t.wickColor);\n}\n\n!function (t) {\n  t[t.LastBar = 0] = \"LastBar\", t[t.LastVisible = 1] = \"LastVisible\";\n}(wt || (exports.PriceLineSource = wt = {}));\n\nvar pt = function (t) {\n  return t.getUTCFullYear();\n};\n\nfunction yt(t, i, n) {\n  return i.replace(/yyyy/g, function (t) {\n    return X(pt(t), 4);\n  }(t)).replace(/yy/g, function (t) {\n    return X(pt(t) % 100, 2);\n  }(t)).replace(/MMMM/g, function (t, i) {\n    return new Date(t.getUTCFullYear(), t.getUTCMonth(), 1).toLocaleString(i, {\n      month: \"long\"\n    });\n  }(t, n)).replace(/MMM/g, function (t, i) {\n    return new Date(t.getUTCFullYear(), t.getUTCMonth(), 1).toLocaleString(i, {\n      month: \"short\"\n    });\n  }(t, n)).replace(/MM/g, function (t) {\n    return X(function (t) {\n      return t.getUTCMonth() + 1;\n    }(t), 2);\n  }(t)).replace(/dd/g, function (t) {\n    return X(function (t) {\n      return t.getUTCDate();\n    }(t), 2);\n  }(t));\n}\n\nvar kt = function () {\n  function t(t, i) {\n    void 0 === t && (t = \"yyyy-MM-dd\"), void 0 === i && (i = \"default\"), this.as = t, this.os = i;\n  }\n\n  return t.prototype.Xi = function (t) {\n    return yt(t, this.as, this.os);\n  }, t;\n}(),\n    xt = function () {\n  function t(t) {\n    this.ls = t || \"%h:%m:%s\";\n  }\n\n  return t.prototype.Xi = function (t) {\n    return this.ls.replace(\"%h\", X(t.getUTCHours(), 2)).replace(\"%m\", X(t.getUTCMinutes(), 2)).replace(\"%s\", X(t.getUTCSeconds(), 2));\n  }, t;\n}(),\n    Nt = {\n  fs: \"yyyy-MM-dd\",\n  cs: \"%h:%m:%s\",\n  vs: \" \",\n  _s: \"default\"\n},\n    St = function () {\n  function t(t) {\n    void 0 === t && (t = {});\n    var i = u(u({}, Nt), t);\n    this.ds = new kt(i.fs, i._s), this.ws = new xt(i.cs), this.Ms = i.vs;\n  }\n\n  return t.prototype.Xi = function (t) {\n    return \"\" + this.ds.Xi(t) + this.Ms + this.ws.Xi(t);\n  }, t;\n}();\n\nvar Dt = function () {\n  function t(t, i) {\n    void 0 === i && (i = 50), this.bs = 0, this.ms = 1, this.gs = 1, this.ps = new Map(), this.ys = new Map(), this.ks = t, this.xs = i;\n  }\n\n  return t.prototype.Xi = function (t) {\n    var i = void 0 === t.Ns ? new Date(1e3 * t.Ss).getTime() : new Date(Date.UTC(t.Ns.year, t.Ns.month - 1, t.Ns.day)).getTime(),\n        n = this.ps.get(i);\n    if (void 0 !== n) return n.Ds;\n\n    if (this.bs === this.xs) {\n      var h = this.ys.get(this.gs);\n      this.ys.delete(this.gs), this.ps.delete(l(h)), this.gs++, this.bs--;\n    }\n\n    var s = this.ks(t);\n    return this.ps.set(i, {\n      Ds: s,\n      Cs: this.ms\n    }), this.ys.set(this.ms, i), this.bs++, this.ms++, s;\n  }, t;\n}(),\n    Ct = function () {\n  function t(t, i) {\n    o(t <= i, \"right should be >= left\"), this.Ts = t, this.As = i;\n  }\n\n  return t.prototype.rs = function () {\n    return this.Ts;\n  }, t.prototype.es = function () {\n    return this.As;\n  }, t.prototype.Es = function () {\n    return this.As - this.Ts + 1;\n  }, t.prototype.Ls = function (t) {\n    return this.Ts <= t && t <= this.As;\n  }, t.prototype.fn = function (t) {\n    return this.Ts === t.rs() && this.As === t.es();\n  }, t;\n}();\n\nfunction Tt(t, i) {\n  return null === t || null === i ? t === i : t.fn(i);\n}\n\nvar At,\n    Et = function () {\n  function t() {\n    this.Bs = new Map(), this.ps = null;\n  }\n\n  return t.prototype.Fs = function (t) {\n    var i = this;\n    this.ps = null, this.Bs.clear(), t.forEach(function (t, n) {\n      var h = i.Bs.get(t.Vs);\n      void 0 === h && (h = [], i.Bs.set(t.Vs, h)), h.push({\n        zs: n,\n        V: t.V,\n        Os: t.Vs\n      });\n    });\n  }, t.prototype.Ps = function (t, i) {\n    var n = Math.ceil(i / t);\n    return null !== this.ps && this.ps.Is === n || (this.ps = {\n      Vn: this.Ws(n),\n      Is: n\n    }), this.ps.Vn;\n  }, t.prototype.Ws = function (t) {\n    for (var i = [], n = 0, h = Array.from(this.Bs.keys()).sort(function (t, i) {\n      return i - t;\n    }); n < h.length; n++) {\n      var s = h[n];\n\n      if (this.Bs.get(s)) {\n        var r = i;\n        i = [];\n\n        for (var e = r.length, u = 0, a = l(this.Bs.get(s)), o = a.length, f = 1 / 0, c = -1 / 0, v = 0; v < o; v++) {\n          for (var _ = a[v], d = _.zs; u < e;) {\n            var w = r[u],\n                M = w.zs;\n\n            if (!(M < d)) {\n              f = M;\n              break;\n            }\n\n            u++, i.push(w), c = M, f = 1 / 0;\n          }\n\n          f - d >= t && d - c >= t && (i.push(_), c = d);\n        }\n\n        for (; u < e; u++) i.push(r[u]);\n      }\n    }\n\n    return i;\n  }, t;\n}(),\n    Lt = function () {\n  function t(t) {\n    this.Rs = t;\n  }\n\n  return t.prototype.js = function () {\n    return null === this.Rs ? null : new Ct(Math.floor(this.Rs.rs()), Math.ceil(this.Rs.es()));\n  }, t.prototype.Us = function () {\n    return this.Rs;\n  }, t.qs = function () {\n    return new t(null);\n  }, t;\n}();\n\nexports.TickMarkType = At;\n!function (t) {\n  t[t.Year = 0] = \"Year\", t[t.Month = 1] = \"Month\", t[t.DayOfMonth = 2] = \"DayOfMonth\", t[t.Time = 3] = \"Time\", t[t.TimeWithSeconds = 4] = \"TimeWithSeconds\";\n}(At || (exports.TickMarkType = At = {}));\n\nvar Bt = function () {\n  function t(t, i, n) {\n    this.Hs = 0, this.Ys = null, this.Ks = [], this.Jn = null, this.Zn = null, this.$s = new Et(), this.Xs = new Map(), this.Zs = Lt.qs(), this.Js = !0, this.Gs = new G(), this.Qs = new G(), this.tr = new G(), this.ir = null, this.nr = null, this.hr = [], this.xi = i, this.ih = n, this.sr = i.rightOffset, this.rr = i.barSpacing, this.hi = t, this.er();\n  }\n\n  return t.prototype.P = function () {\n    return this.xi;\n  }, t.prototype.ur = function (t) {\n    v(this.ih, t), this.ar(), this.er();\n  }, t.prototype.eh = function (t, i) {\n    v(this.xi, t), this.xi.fixLeftEdge && this.or(), void 0 !== t.barSpacing && this.lr(t.barSpacing), void 0 !== t.rightOffset && this.cr(t.rightOffset), this.ar(), this.er(), this.tr.en();\n  }, t.prototype.si = function (t) {\n    var i;\n    return (null === (i = this.Ks[t]) || void 0 === i ? void 0 : i.V) || null;\n  }, t.prototype.vr = function (t, i) {\n    if (this.Ks.length < 1) return null;\n    if (t.Ss > this.Ks[this.Ks.length - 1].V.Ss) return i ? this.Ks.length - 1 : null;\n\n    for (var n = 0; n < this.Ks.length; ++n) {\n      if (t.Ss === this.Ks[n].V.Ss) return n;\n      if (t.Ss < this.Ks[n].V.Ss) return i ? n : null;\n    }\n\n    return null;\n  }, t.prototype.Qt = function () {\n    return 0 === this.Hs || 0 === this.Ks.length;\n  }, t.prototype._r = function () {\n    return this.dr(), this.Zs.js();\n  }, t.prototype.wr = function () {\n    return this.dr(), this.Zs.Us();\n  }, t.prototype.Mr = function () {\n    var t = this._r();\n\n    if (null === t) return null;\n    var i = {\n      from: t.rs(),\n      to: t.es()\n    };\n    return this.br(i);\n  }, t.prototype.br = function (t) {\n    var i = Math.round(t.from),\n        n = Math.round(t.to),\n        h = f(this.mr()),\n        s = f(this.gr());\n    return {\n      from: f(this.si(Math.max(h, i))),\n      to: f(this.si(Math.min(s, n)))\n    };\n  }, t.prototype.pr = function (t) {\n    var i = this.hi.j();\n    return {\n      from: f(i.vr(t.from, !0)),\n      to: f(i.vr(t.to, !0))\n    };\n  }, t.prototype.yr = function () {\n    return this.$s;\n  }, t.prototype.dt = function () {\n    return this.Hs;\n  }, t.prototype.kr = function (t) {\n    if (isFinite(t) && !(t <= 0) && this.Hs !== t) {\n      if (this.xi.lockVisibleTimeRangeOnResize && this.Hs) {\n        var i = this.rr * t / this.Hs;\n        this.xr(i);\n      }\n\n      if (this.xi.fixLeftEdge) {\n        var n = this._r();\n\n        if (null !== n) if (n.rs() <= 0) {\n          var h = this.Hs - t;\n          this.sr -= Math.round(h / this.rr) + 1;\n        }\n      }\n\n      this.Hs = t, this.Js = !0, this.Nr(), this.Sr();\n    }\n  }, t.prototype.J = function (t) {\n    if (this.Qt() || !d(t)) return 0;\n    var i = this.Dr() + this.sr - t;\n    return this.Hs - (i + .5) * this.rr;\n  }, t.prototype.Cr = function (t, i) {\n    for (var n = this.Dr(), h = void 0 === i ? 0 : i.from, s = void 0 === i ? t.length : i.to, r = h; r < s; r++) {\n      var e = t[r].V,\n          u = n + this.sr - e,\n          a = this.Hs - (u + .5) * this.rr;\n      t[r].m = a;\n    }\n  }, t.prototype.Tr = function (t) {\n    return Math.ceil(this.Ar(t));\n  }, t.prototype.cr = function (t) {\n    this.Js = !0, this.sr = t, this.Sr(), this.hi.Er(), this.hi.Lr();\n  }, t.prototype.Br = function () {\n    return this.rr;\n  }, t.prototype.lr = function (t) {\n    this.xr(t), this.Sr(), this.hi.Er(), this.hi.Lr();\n  }, t.prototype.Fr = function () {\n    return this.sr;\n  }, t.prototype.Vn = function () {\n    if (this.Qt()) return null;\n    if (null !== this.nr) return this.nr;\n\n    for (var t = this.rr, i = 5 * (this.hi.P().layout.fontSize + 4), n = Math.round(i / t), h = f(this._r()), s = Math.max(h.rs(), h.rs() - n), r = Math.max(h.es(), h.es() - n), e = 0, u = 0, a = this.$s.Ps(t, i); u < a.length; u++) {\n      var o = a[u];\n\n      if (s <= o.zs && o.zs <= r) {\n        var l = this.si(o.zs);\n\n        if (null !== l) {\n          if (e < this.hr.length) {\n            var c = this.hr[e];\n            c.En = this.J(o.zs), c.Ln = this.Vr(l, o.Os), c.Os = o.Os;\n          } else this.hr.push({\n            En: this.J(o.zs),\n            Ln: this.Vr(l, o.Os),\n            Os: o.Os\n          });\n\n          e++;\n        }\n      }\n    }\n\n    return this.hr.length = e, this.nr = this.hr, this.hr;\n  }, t.prototype.zr = function () {\n    this.Js = !0, this.lr(this.xi.barSpacing), this.cr(this.xi.rightOffset);\n  }, t.prototype.Or = function (t) {\n    this.Js = !0, this.Ys = t, this.Sr(), this.or();\n  }, t.prototype.Pr = function (t, i) {\n    var n = this.Ar(t),\n        h = this.Br(),\n        s = h + i * (h / 10);\n    this.lr(s), this.xi.rightBarStaysOnScroll || this.cr(this.Fr() + (n - this.Ar(t)));\n  }, t.prototype.jh = function (t) {\n    this.Jn && this.Kh(), null === this.Zn && null === this.ir && (this.Qt() || (this.Zn = t, this.Ir()));\n  }, t.prototype.Uh = function (t) {\n    if (null !== this.ir) {\n      var i = tt(this.Hs - t, 0, this.Hs),\n          n = tt(this.Hs - f(this.Zn), 0, this.Hs);\n      0 !== i && 0 !== n && this.lr(this.ir.Br * i / n);\n    }\n  }, t.prototype.qh = function () {\n    null !== this.Zn && (this.Zn = null, this.Wr());\n  }, t.prototype.Hh = function (t) {\n    null === this.Jn && null === this.ir && (this.Qt() || (this.Jn = t, this.Ir()));\n  }, t.prototype.Yh = function (t) {\n    if (null !== this.Jn) {\n      var i = (this.Jn - t) / this.Br();\n      this.sr = f(this.ir).Fr + i, this.Js = !0, this.Sr();\n    }\n  }, t.prototype.Kh = function () {\n    null !== this.Jn && (this.Jn = null, this.Wr());\n  }, t.prototype.Rr = function () {\n    this.jr(this.xi.rightOffset);\n  }, t.prototype.jr = function (t, i) {\n    var n = this;\n    if (void 0 === i && (i = 400), !isFinite(t)) throw new RangeError(\"offset is required and must be finite number\");\n    if (!isFinite(i) || i <= 0) throw new RangeError(\"animationDuration (optional) must be finite positive number\");\n\n    var h = this.sr,\n        s = new Date().getTime(),\n        r = function () {\n      var e = (new Date().getTime() - s) / i,\n          u = e >= 1,\n          a = u ? t : h + (t - h) * e;\n      n.cr(a), u || setTimeout(r, 20);\n    };\n\n    r();\n  }, t.prototype.B = function (t) {\n    this.Js = !0, this.Ks = t, this.$s.Fs(t), this.Sr();\n  }, t.prototype.Ur = function () {\n    return this.Gs;\n  }, t.prototype.qr = function () {\n    return this.Qs;\n  }, t.prototype.Hr = function () {\n    return this.tr;\n  }, t.prototype.Dr = function () {\n    return this.Ys || 0;\n  }, t.prototype.Yr = function (t) {\n    var i = t.Es();\n    this.xr(this.Hs / i), this.sr = t.es() - this.Dr(), this.Sr(), this.Js = !0, this.hi.Er(), this.hi.Lr();\n  }, t.prototype.Kr = function () {\n    var t = this.mr(),\n        i = this.gr();\n    null !== t && null !== i && this.Yr(new Ct(t, i + this.xi.rightOffset));\n  }, t.prototype.$r = function (t) {\n    var i = new Ct(t.from, t.to);\n    this.Yr(i);\n  }, t.prototype.ri = function (t) {\n    return void 0 !== this.ih.timeFormatter ? this.ih.timeFormatter(t.Ns || t.Ss) : this.Xr.Xi(new Date(1e3 * t.Ss));\n  }, t.prototype.mr = function () {\n    return 0 === this.Ks.length ? null : 0;\n  }, t.prototype.gr = function () {\n    return 0 === this.Ks.length ? null : this.Ks.length - 1;\n  }, t.prototype.Zr = function (t) {\n    return (this.Hs + 1 - t) / this.rr;\n  }, t.prototype.Ar = function (t) {\n    var i = this.Zr(t),\n        n = this.Dr() + this.sr - i;\n    return Math.round(1e6 * n) / 1e6;\n  }, t.prototype.xr = function (t) {\n    var i = this.rr;\n    this.rr = t, this.Nr(), i !== this.rr && (this.Js = !0, this.Jr());\n  }, t.prototype.dr = function () {\n    if (this.Js) if (this.Js = !1, this.Qt()) this.Gr(Lt.qs());else {\n      var t = this.Dr(),\n          i = this.Hs / this.rr,\n          n = this.sr + t,\n          h = new Ct(n - i + 1, n);\n      this.Gr(new Lt(h));\n    }\n  }, t.prototype.Nr = function () {\n    if (this.rr < .5 && (this.rr = .5, this.Js = !0), 0 !== this.Hs) {\n      var t = .5 * this.Hs;\n      this.rr > t && (this.rr = t, this.Js = !0);\n    }\n  }, t.prototype.Sr = function () {\n    var t = this.Qr();\n    this.sr > t && (this.sr = t, this.Js = !0);\n    var i = this.te();\n    null !== i && this.sr < i && (this.sr = i, this.Js = !0);\n  }, t.prototype.te = function () {\n    var t = this.mr(),\n        i = this.Ys;\n    return null === t || null === i ? null : t - i - 1 + (this.xi.fixLeftEdge ? this.Hs / this.rr : Math.min(2, this.Ks.length));\n  }, t.prototype.Qr = function () {\n    return this.Hs / this.rr - Math.min(2, this.Ks.length);\n  }, t.prototype.Ir = function () {\n    this.ir = {\n      Br: this.Br(),\n      Fr: this.Fr()\n    };\n  }, t.prototype.Wr = function () {\n    this.ir = null;\n  }, t.prototype.Vr = function (t, i) {\n    var n = this,\n        h = this.Xs.get(i);\n    return void 0 === h && (h = new Dt(function (t) {\n      return n.ie(t, i);\n    }), this.Xs.set(i, h)), h.Xi(t);\n  }, t.prototype.ie = function (t, i) {\n    var n,\n        h,\n        s = this.xi.timeVisible;\n    return h = i < 20 && s ? this.xi.secondsVisible ? 4 : 3 : i < 40 && s ? 3 : i < 50 || i < 60 ? 2 : i < 70 ? 1 : 0, void 0 !== this.xi.tickMarkFormatter ? this.xi.tickMarkFormatter(null !== (n = t.Ns) && void 0 !== n ? n : t.Ss, h, this.ih.locale) : function (t, i, n) {\n      var h = {};\n\n      switch (i) {\n        case 0:\n          h.year = \"numeric\";\n          break;\n\n        case 1:\n          h.month = \"short\";\n          break;\n\n        case 2:\n          h.day = \"numeric\";\n          break;\n\n        case 3:\n          h.hour12 = !1, h.hour = \"2-digit\", h.minute = \"2-digit\";\n          break;\n\n        case 4:\n          h.hour12 = !1, h.hour = \"2-digit\", h.minute = \"2-digit\", h.second = \"2-digit\";\n      }\n\n      var s = void 0 === t.Ns ? new Date(1e3 * t.Ss) : new Date(Date.UTC(t.Ns.year, t.Ns.month - 1, t.Ns.day));\n      return new Date(s.getUTCFullYear(), s.getUTCMonth(), s.getUTCDate(), s.getUTCHours(), s.getUTCMinutes(), s.getUTCSeconds(), s.getUTCMilliseconds()).toLocaleString(n, h);\n    }(t, h, this.ih.locale);\n  }, t.prototype.Gr = function (t) {\n    var i = this.Zs;\n    this.Zs = t, Tt(i.js(), this.Zs.js()) || this.Gs.en(), Tt(i.Us(), this.Zs.Us()) || this.Qs.en(), this.Jr();\n  }, t.prototype.Jr = function () {\n    this.nr = null;\n  }, t.prototype.ar = function () {\n    this.Jr(), this.Xs.clear();\n  }, t.prototype.er = function () {\n    var t = this.ih.dateFormat;\n    this.xi.timeVisible ? this.Xr = new St({\n      fs: t,\n      cs: this.xi.secondsVisible ? \"%h:%m:%s\" : \"%h:%m\",\n      vs: \"   \",\n      _s: this.ih.locale\n    }) : this.Xr = new kt(t, this.ih.locale);\n  }, t.prototype.or = function () {\n    if (this.xi.fixLeftEdge) {\n      var t = this.mr();\n\n      if (null !== t) {\n        var i = f(this._r()).rs() - t;\n\n        if (i < 0) {\n          var n = this.sr - i - 1;\n          this.cr(n);\n        }\n      }\n    }\n  }, t;\n}();\n\nfunction Ft(t) {\n  return !_(t) && !w(t);\n}\n\nfunction Vt(t) {\n  return _(t);\n}\n\nvar zt = \"'Trebuchet MS', Roboto, Ubuntu, sans-serif\";\n\nfunction Ot(t, i, n) {\n  return void 0 !== n ? n += \" \" : n = \"\", void 0 === i && (i = zt), \"\" + n + t + \"px \" + i;\n}\n\nvar Pt = function () {\n  function t(t) {\n    this.ne = {\n      Dt: 1,\n      St: 4,\n      Vt: NaN,\n      kt: \"\",\n      he: \"\",\n      et: \"\",\n      Tt: 0,\n      At: 0,\n      Et: 0,\n      Ct: 0,\n      Ft: 0\n    }, this.A = t;\n  }\n\n  return t.prototype.P = function () {\n    var t = this.ne,\n        i = this.se(),\n        n = this.ee();\n    return t.Vt === i && t.he === n || (t.Vt = i, t.he = n, t.kt = Ot(i, n), t.Ct = Math.floor(i / 3.5), t.Tt = t.Ct, t.At = Math.max(Math.ceil(i / 2 - t.St / 2), 0), t.Et = Math.ceil(i / 2 + t.St / 2), t.Ft = Math.round(i / 10)), t.et = this.ue(), this.ne;\n  }, t.prototype.ue = function () {\n    return this.A.P().layout.textColor;\n  }, t.prototype.se = function () {\n    return this.A.P().layout.fontSize;\n  }, t.prototype.ee = function () {\n    return this.A.P().layout.fontFamily;\n  }, t;\n}();\n\nfunction It(t) {\n  return \"left\" === t || \"right\" === t;\n}\n\nvar Wt = function () {\n  function t() {\n    this.G = null;\n  }\n\n  return t.prototype.v = function (t) {\n    this.G = t;\n  }, t.prototype.h = function (t, i, n, s) {\n    var r = this;\n\n    if (null !== this.G) {\n      var e = Math.floor(i);\n      t.lineWidth = e;\n      var u = Math.ceil(this.G.st * i),\n          a = Math.ceil(this.G.ht * i);\n      !function (t, i) {\n        t.save(), t.lineWidth % 2 && t.translate(.5, .5), i(), t.restore();\n      }(t, function () {\n        var n = f(r.G);\n\n        if (n.ae) {\n          t.strokeStyle = n.oe, h(t, n.le), t.beginPath();\n\n          for (var s = 0, o = n.fe; s < o.length; s++) {\n            var l = o[s],\n                c = Math.round(l.En * i);\n            t.moveTo(c, -e), t.lineTo(c, u + e);\n          }\n\n          t.stroke();\n        }\n\n        if (n.ce) {\n          t.strokeStyle = n.ve, h(t, n._e), t.beginPath();\n\n          for (var v = 0, _ = n.de; v < _.length; v++) {\n            var d = _[v],\n                w = Math.round(d.En * i);\n            t.moveTo(-e, w), t.lineTo(a + e, w);\n          }\n\n          t.stroke();\n        }\n      });\n    }\n  }, t;\n}(),\n    Rt = function () {\n  function t(t) {\n    this.ot = new Wt(), this.T = !0, this._i = t;\n  }\n\n  return t.prototype.B = function () {\n    this.T = !0;\n  }, t.prototype.I = function (t, i) {\n    if (this.T) {\n      var n = this._i.ct().P().grid,\n          h = {\n        st: t,\n        ht: i,\n        ce: n.horzLines.visible,\n        ae: n.vertLines.visible,\n        ve: n.horzLines.color,\n        oe: n.vertLines.color,\n        _e: n.horzLines.style,\n        le: n.vertLines.style,\n        de: this._i.Di().Vn(),\n        fe: this._i.ct().j().Vn() || []\n      };\n\n      this.ot.v(h), this.T = !1;\n    }\n\n    return this.ot;\n  }, t;\n}(),\n    jt = function () {\n  function t() {\n    this.we = new WeakMap(), this.T = !0;\n  }\n\n  return t.prototype.ci = function (t) {\n    var i = this.we.get(t);\n    return void 0 === i && (i = [new Rt(t)], this.we.set(t, i)), this.T && (i.forEach(function (t) {\n      return t.B();\n    }), this.T = !1), i;\n  }, t.prototype.Me = function () {\n    this.T = !0;\n  }, t;\n}();\n\nvar Ut = function () {\n  function t(t) {\n    this.be = new Map(), this.me = !1, this.ge = !1, this.Rs = null, this.pe = t;\n  }\n\n  return t.prototype.ye = function (t, i) {\n    var n = function (t, i) {\n      return void 0 === t ? i : {\n        ke: Math.max(t.ke, i.ke),\n        dh: t.dh || i.dh\n      };\n    }(this.be.get(t), i);\n\n    this.be.set(t, n);\n  }, t.prototype.xe = function () {\n    return this.pe;\n  }, t.prototype.Ne = function (t) {\n    var i = this.be.get(t);\n    return void 0 === i ? {\n      ke: this.pe\n    } : {\n      ke: Math.max(this.pe, i.ke),\n      dh: i.dh\n    };\n  }, t.prototype.Se = function () {\n    this.ge = !0, this.Rs = null;\n  }, t.prototype.De = function () {\n    return this.ge;\n  }, t.prototype.$r = function (t) {\n    this.Rs = t, this.ge = !1;\n  }, t.prototype.Ce = function () {\n    return this.Rs;\n  }, t.prototype.wn = function (t) {\n    var i = this;\n    this.me = this.me || t.me, t.ge && this.Se(), t.Rs && this.$r(t.Rs), this.pe = Math.max(this.pe, t.pe), t.be.forEach(function (t, n) {\n      i.ye(n, t);\n    });\n  }, t;\n}(),\n    qt = function () {\n  function t(t) {\n    this.Te = t;\n  }\n\n  return t.prototype.Xi = function (t) {\n    var i = \"\";\n    return t < 0 && (i = \"-\", t = -t), t < 995 ? i + this.Ae(t) : t < 999995 ? i + this.Ae(t / 1e3) + \"K\" : t < 999999995 ? (t = 1e3 * Math.round(t / 1e3), i + this.Ae(t / 1e6) + \"M\") : (t = 1e6 * Math.round(t / 1e6), i + this.Ae(t / 1e9) + \"B\");\n  }, t.prototype.Ae = function (t) {\n    var i = Math.pow(10, this.Te);\n    return ((t = Math.round(t * i) / i) >= 1e-15 && t < 1 ? t.toFixed(this.Te).replace(/\\.?0+$/, \"\") : String(t)).replace(/(\\.[1-9]*)0+$/, function (t, i) {\n      return i;\n    });\n  }, t;\n}();\n\nfunction Ht(t, i, n, h) {\n  if (0 !== i.length) {\n    var s = i[h.from].m,\n        r = i[h.from].g;\n    t.moveTo(s, r);\n\n    for (var e = h.from + 1; e < h.to; ++e) {\n      var u = i[e];\n\n      if (1 === n) {\n        var a = i[e - 1].g,\n            o = u.m;\n        t.lineTo(o, a);\n      }\n\n      t.lineTo(u.m, u.g);\n    }\n  }\n}\n\nvar Yt = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;\n    return i.l = null, i;\n  }\n\n  return e(i, t), i.prototype.v = function (t) {\n    this.l = t;\n  }, i.prototype.s = function (t) {\n    if (null !== this.l && 0 !== this.l.M.length && null !== this.l._) {\n      t.lineCap = \"butt\", t.strokeStyle = this.l.N, t.lineWidth = this.l.rt, h(t, this.l.ut), t.lineWidth = 1, t.beginPath(), t.moveTo(this.l.M[this.l._.from].m, this.l.Ee), t.lineTo(this.l.M[this.l._.from].m, this.l.M[this.l._.from].g), Ht(t, this.l.M, this.l.Le, this.l._), this.l._.to > this.l._.from && (t.lineTo(this.l.M[this.l._.to - 1].m, this.l.Ee), t.lineTo(this.l.M[this.l._.from].m, this.l.Ee)), t.closePath();\n      var i = t.createLinearGradient(0, 0, 0, this.l.Ee);\n      i.addColorStop(0, this.l.Be), i.addColorStop(1, this.l.Fe), t.fillStyle = i, t.fill();\n    }\n  }, i;\n}(y),\n    Kt = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;\n    return i.l = null, i;\n  }\n\n  return e(i, t), i.prototype.v = function (t) {\n    this.l = t;\n  }, i.prototype.s = function (t) {\n    null !== this.l && 0 !== this.l.M.length && null !== this.l._ && (t.lineCap = \"square\", t.lineWidth = this.l.rt, h(t, this.l.ut), t.strokeStyle = this.l.N, t.lineJoin = \"miter\", t.beginPath(), Ht(t, this.l.M, this.l.Le, this.l._), t.stroke());\n  }, i;\n}(y);\n\nfunction $t(t, i, n, h, s) {\n  void 0 === h && (h = 0), void 0 === s && (s = t.length);\n\n  for (var r = s - h; 0 < r;) {\n    var e = r >> 1,\n        u = h + e;\n    n(t[u], i) ? (h = u + 1, r -= e + 1) : r = e;\n  }\n\n  return h;\n}\n\nfunction Xt(t, i, n, h, s) {\n  void 0 === h && (h = 0), void 0 === s && (s = t.length);\n\n  for (var r = s - h; 0 < r;) {\n    var e = r >> 1,\n        u = h + e;\n    n(i, t[u]) ? r = e : (h = u + 1, r -= e + 1);\n  }\n\n  return h;\n}\n\nfunction Zt(t, i) {\n  return t.V < i;\n}\n\nfunction Jt(t, i) {\n  return t < i.V;\n}\n\nfunction Gt(t, i, n) {\n  var h = i.rs(),\n      s = i.es(),\n      r = $t(t, h, Zt),\n      e = Xt(t, s, Jt);\n  if (!n) return {\n    from: r,\n    to: e\n  };\n  var u = r,\n      a = e;\n  return r > 0 && r < t.length && t[r].V >= h && (u = r - 1), e > 0 && e < t.length && t[e - 1].V <= s && (a = e + 1), {\n    from: u,\n    to: a\n  };\n}\n\nvar Qt = function () {\n  function t(t, i, n) {\n    this.Ve = !0, this.ze = !0, this.Oe = [], this.Pe = null, this.Ie = t, this.We = i, this.Re = n;\n  }\n\n  return t.prototype.B = function (t) {\n    this.Ve = !0, \"data\" === t && (this.ze = !0);\n  }, t.prototype.je = function () {\n    this.ze && (this.Ue(), this.ze = !1), this.Ve && (this.qe(), this.Ve = !1);\n  }, t.prototype.He = function () {\n    this.Pe = null;\n  }, t.prototype.qe = function () {\n    var t = this.Ie.X(),\n        i = this.We.j();\n\n    if (this.He(), !i.Qt() && !t.Qt()) {\n      var n = i._r();\n\n      if (null !== n && 0 !== this.Ie.qi().Ye()) {\n        var h = this.Ie.q();\n        null !== h && (this.Pe = Gt(this.Oe, n, this.Re), this.Ke(t, i, h.Z));\n      }\n    }\n  }, t;\n}(),\n    ti = function (t) {\n  function i(i, n) {\n    return t.call(this, i, n, !0) || this;\n  }\n\n  return e(i, t), i.prototype.Ke = function (t, i, n) {\n    i.Cr(this.Oe, g(this.Pe)), t.Dh(this.Oe, n, g(this.Pe));\n  }, i.prototype.$e = function (t, i) {\n    return {\n      V: t,\n      O: i,\n      m: NaN,\n      g: NaN\n    };\n  }, i.prototype.Ue = function () {\n    var t = this,\n        i = this.Ie.K();\n    this.Oe = this.Ie.qi().Xe().map(function (n) {\n      var h = n.Z[3];\n      return t.Ze(n.zs, h, i);\n    });\n  }, i;\n}(Qt),\n    ii = function (t) {\n  function i(i, n) {\n    var h = t.call(this, i, n) || this;\n    return h.ot = new p(), h.Je = new Yt(), h.Ge = new Kt(), h.ot.i([h.Je, h.Ge]), h;\n  }\n\n  return e(i, t), i.prototype.I = function (t, i) {\n    this.je();\n    var n = this.Ie.P(),\n        h = {\n      Le: n.lineType,\n      M: this.Oe,\n      N: n.lineColor,\n      ut: n.lineStyle,\n      rt: n.lineWidth,\n      Be: n.topColor,\n      Fe: n.bottomColor,\n      Ee: t,\n      _: this.Pe\n    };\n    return this.Je.v(h), this.Ge.v(h), this.ot;\n  }, i.prototype.Ze = function (t, i) {\n    return this.$e(t, i);\n  }, i;\n}(ti);\n\nvar ni = function () {\n  function t() {\n    this.G = null, this.Qe = 0, this.tu = 0;\n  }\n\n  return t.prototype.v = function (t) {\n    this.G = t;\n  }, t.prototype.h = function (t, i, n, h) {\n    if (null !== this.G && 0 !== this.G.qi.length && null !== this.G._) {\n      if (this.Qe = Math.max(1, Math.floor(function (t, i) {\n        return Math.floor(.3 * t * i);\n      }(this.G.Br, i))), this.Qe >= 2) Math.floor(i) % 2 != this.Qe % 2 && this.Qe--;\n      this.tu = this.G.iu ? Math.min(this.Qe, Math.floor(i)) : this.Qe;\n\n      for (var s = null, r = this.G._.from; r < this.G._.to; ++r) {\n        var e = this.G.qi[r];\n        s !== e.et && (t.fillStyle = e.et, s = e.et);\n\n        var u = Math.floor(.5 * this.tu),\n            a = Math.round(e.m * i),\n            o = a - u,\n            l = this.tu,\n            f = o + l - 1,\n            c = Math.round(e.Eh * i) - u,\n            v = Math.round(e.Lh * i) + u,\n            _ = Math.max(v - c, this.tu);\n\n        t.fillRect(o, c, l, _);\n        var d = Math.ceil(1.5 * this.Qe);\n\n        if (this.tu <= this.Qe) {\n          if (this.G.nu) {\n            var w = a - d,\n                M = Math.max(c, Math.round(e.Ah * i) - u),\n                b = M + l - 1;\n            b > c + _ - 1 && (M = (b = c + _ - 1) - l + 1), t.fillRect(w, M, o - w, b - M + 1);\n          }\n\n          var m = a + d,\n              g = Math.max(c, Math.round(e.Bh * i) - u),\n              p = g + l - 1;\n          p > c + _ - 1 && (g = (p = c + _ - 1) - l + 1), t.fillRect(f + 1, g, m - f, p - g + 1);\n        }\n      }\n    }\n  }, t;\n}(),\n    hi = function (t) {\n  function i(i, n) {\n    return t.call(this, i, n, !1) || this;\n  }\n\n  return e(i, t), i.prototype.Ke = function (t, i, n) {\n    i.Cr(this.Oe, g(this.Pe)), t.Th(this.Oe, n, g(this.Pe));\n  }, i.prototype.hu = function (t, i, n) {\n    return {\n      V: t,\n      open: i.Z[0],\n      high: i.Z[1],\n      low: i.Z[2],\n      close: i.Z[3],\n      m: NaN,\n      Ah: NaN,\n      Eh: NaN,\n      Lh: NaN,\n      Bh: NaN\n    };\n  }, i.prototype.Ue = function () {\n    var t = this,\n        i = this.Ie.K();\n    this.Oe = this.Ie.qi().Xe().map(function (n) {\n      return t.Ze(n.zs, n, i);\n    });\n  }, i;\n}(Qt),\n    si = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;\n    return i.ot = new ni(), i;\n  }\n\n  return e(i, t), i.prototype.I = function (t, i) {\n    this.je();\n    var n = this.Ie.P(),\n        h = {\n      qi: this.Oe,\n      Br: this.We.j().Br(),\n      nu: n.openVisible,\n      iu: n.thinBars,\n      _: this.Pe\n    };\n    return this.ot.v(h), this.ot;\n  }, i.prototype.Ze = function (t, i, n) {\n    return u(u({}, this.hu(t, i, n)), {\n      et: n.Y(t).H\n    });\n  }, i;\n}(hi),\n    ri = function () {\n  function t() {\n    this.G = null, this.Qe = 0;\n  }\n\n  return t.prototype.v = function (t) {\n    this.G = t;\n  }, t.prototype.h = function (t, i, n, h) {\n    if (null !== this.G && 0 !== this.G.qi.length && null !== this.G._) {\n      if (this.Qe = function (t, i) {\n        var n = Math.floor(.8 * t * i),\n            h = Math.floor(t * i),\n            s = Math.min(n, h - 1);\n        return Math.max(1, s);\n      }(this.G.Br, i), this.Qe >= 2) Math.floor(i) % 2 != this.Qe % 2 && this.Qe--;\n      var s = this.G.qi;\n      this.G.su && this.ru(t, s, this.G._, i), this.G.eu && this.uu(t, s, this.G._, this.G.Br, i);\n      var r = this.au(i);\n      (!this.G.eu || this.Qe > 2 * r) && this.ou(t, s, this.G._, i);\n    }\n  }, t.prototype.ru = function (t, i, n, h) {\n    if (null !== this.G) {\n      var s = \"\",\n          r = Math.min(Math.floor(h), Math.floor(this.G.Br * h));\n      r = Math.min(r, this.Qe);\n\n      for (var e = Math.floor(.5 * r), u = n.from; u < n.to; u++) {\n        var a = i[u];\n        a.lu !== s && (t.fillStyle = a.lu, s = a.lu);\n        var o = Math.round(Math.min(a.Ah, a.Bh) * h),\n            l = Math.round(Math.max(a.Ah, a.Bh) * h),\n            f = Math.round(a.Eh * h),\n            c = Math.round(a.Lh * h),\n            v = Math.round(h * a.m);\n        t.fillRect(v - e, f, r, o - f), t.fillRect(v - e, l + 1, r, c - l);\n      }\n    }\n  }, t.prototype.au = function (t) {\n    var i = Math.floor(1 * t);\n    this.Qe <= 2 * i && (i = Math.floor(.5 * (this.Qe - 1)));\n    var n = Math.max(1, i);\n    return this.Qe <= 2 * n ? Math.floor(1 * t) : n;\n  }, t.prototype.uu = function (t, i, n, h, s) {\n    for (var r = \"\", e = this.au(s), u = n.from; u < n.to; u++) {\n      var a = i[u];\n      a.Pt !== r && (t.fillStyle = a.Pt, r = a.Pt);\n      var o = Math.round(a.m * s) - Math.floor(.5 * this.Qe),\n          l = o + this.Qe - 1,\n          f = Math.round(Math.min(a.Ah, a.Bh) * s),\n          c = Math.round(Math.max(a.Ah, a.Bh) * s);\n      h > 2 * e ? V(t, o, f, l - o + 1, c - f + 1, e) : t.fillRect(o, f, l - o + 1, c - f + 1);\n    }\n  }, t.prototype.ou = function (t, i, n, h) {\n    if (null !== this.G) for (var s = \"\", r = this.au(h), e = n.from; e < n.to; e++) {\n      var u = i[e],\n          a = Math.round(Math.min(u.Ah, u.Bh) * h),\n          o = Math.round(Math.max(u.Ah, u.Bh) * h),\n          l = Math.round(u.m * h) - Math.floor(.5 * this.Qe),\n          f = l + this.Qe - 1;\n\n      if (this.G.eu && (l += r, a += r, f -= r, o -= r), !(a > o)) {\n        if (u.et !== s) {\n          var c = u.et;\n          t.fillStyle = c, s = c;\n        }\n\n        t.fillRect(l, a, f - l + 1, o - a + 1);\n      }\n    }\n  }, t;\n}(),\n    ei = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;\n    return i.ot = new ri(), i;\n  }\n\n  return e(i, t), i.prototype.I = function (t, i) {\n    this.je();\n    var n = this.Ie.P(),\n        h = {\n      qi: this.Oe,\n      Br: this.We.j().Br(),\n      su: n.wickVisible,\n      eu: n.borderVisible,\n      _: this.Pe\n    };\n    return this.ot.v(h), this.ot;\n  }, i.prototype.Ze = function (t, i, n) {\n    var h = n.Y(t);\n    return u(u({}, this.hu(t, i, n)), {\n      et: h.H,\n      lu: h.fu,\n      Pt: h.cu\n    });\n  }, i;\n}(hi),\n    ui = function () {\n  function t() {\n    this.G = null, this.vu = [];\n  }\n\n  return t.prototype.v = function (t) {\n    this.G = t, this.vu = [];\n  }, t.prototype.h = function (t, i, n, h) {\n    if (null !== this.G && 0 !== this.G.M.length && null !== this.G._) {\n      this.vu.length || this._u(i);\n\n      for (var s = Math.round(this.G.du * i), r = Math.max(1, Math.floor(i)), e = this.G._.from; e < this.G._.to; e++) {\n        var u = this.G.M[e],\n            a = this.vu[e - this.G._.from],\n            o = Math.round(u.g * i);\n        t.fillStyle = u.et, t.fillRect(a.rs, o, a.es - a.rs + 1, s - o + r);\n      }\n    }\n  }, t.prototype._u = function (t) {\n    if (null !== this.G && 0 !== this.G.M.length && null !== this.G._) {\n      var i = Math.ceil(this.G.Br * t) <= 3 ? 0 : Math.max(1, Math.floor(t)),\n          n = Math.round(this.G.Br * t) - i;\n      this.vu = new Array(this.G._.to - this.G._.from);\n\n      for (var h = this.G._.from; h < this.G._.to; h++) {\n        var s,\n            r = this.G.M[h],\n            e = Math.round(r.m * t),\n            u = void 0,\n            a = void 0;\n        if (n % 2) u = e - (s = (n - 1) / 2), a = e + s;else u = e - (s = n / 2), a = e + s - 1;\n        this.vu[h - this.G._.from] = {\n          rs: u,\n          es: a,\n          wu: e,\n          Mu: r.m * t,\n          V: r.V\n        };\n      }\n\n      for (h = this.G._.from + 1; h < this.G._.to; h++) {\n        var o = this.vu[h - this.G._.from],\n            l = this.vu[h - this.G._.from - 1];\n        o.V === l.V + 1 && o.rs - l.es !== i + 1 && (l.wu > l.Mu ? l.es = o.rs - i - 1 : o.rs = l.es + i + 1);\n      }\n\n      var f = Math.ceil(this.G.Br * t);\n\n      for (h = this.G._.from; h < this.G._.to; h++) {\n        (o = this.vu[h - this.G._.from]).es < o.rs && (o.es = o.rs);\n        var c = o.es - o.rs + 1;\n        f = Math.min(c, f);\n      }\n\n      if (i > 0 && f < 4) for (h = this.G._.from; h < this.G._.to; h++) {\n        (c = (o = this.vu[h - this.G._.from]).es - o.rs + 1) > f && (o.wu > o.Mu ? o.es -= 1 : o.rs += 1);\n      }\n    } else this.vu = [];\n  }, t;\n}();\n\nfunction ai(t) {\n  return {\n    M: [],\n    Br: t,\n    du: NaN,\n    _: null\n  };\n}\n\nfunction oi(t, i, n) {\n  return {\n    V: t,\n    O: i,\n    m: NaN,\n    g: NaN,\n    et: n\n  };\n}\n\nvar li = function (t) {\n  function i(i, n) {\n    var h = t.call(this, i, n, !1) || this;\n    return h.S = new p(), h.bu = ai(0), h.ot = new ui(), h;\n  }\n\n  return e(i, t), i.prototype.I = function (t, i) {\n    return this.je(), this.S;\n  }, i.prototype.Ue = function () {\n    var t = this.We.j().Br();\n    this.bu = ai(t);\n\n    for (var i = 0, n = 0, h = this.Ie.P().color, s = 0, r = this.Ie.qi().Xe(); s < r.length; s++) {\n      var e = r[s],\n          u = e.Z[3],\n          a = void 0 !== e.et ? e.et : h,\n          o = oi(e.zs, u, a);\n      ++i < this.bu.M.length ? this.bu.M[i] = o : this.bu.M.push(o), this.Oe[n++] = {\n        V: e.zs,\n        m: 0\n      };\n    }\n\n    this.ot.v(this.bu), this.S.i([this.ot]);\n  }, i.prototype.He = function () {\n    t.prototype.He.call(this), this.bu._ = null;\n  }, i.prototype.Ke = function (t, i, n) {\n    if (null !== this.Pe) {\n      var h = i.Br(),\n          s = f(i._r()),\n          r = t.$(this.Ie.P().base, n);\n      i.Cr(this.bu.M), t.Dh(this.bu.M, n), this.bu.du = r, this.bu._ = Gt(this.bu.M, s, !1), this.bu.Br = h, this.ot.v(this.bu);\n    }\n  }, i;\n}(Qt),\n    fi = function (t) {\n  function i(i, n) {\n    var h = t.call(this, i, n) || this;\n    return h.Ge = new Kt(), h;\n  }\n\n  return e(i, t), i.prototype.I = function (t, i) {\n    this.je();\n    var n = this.Ie.P(),\n        h = {\n      M: this.Oe,\n      N: n.color,\n      ut: n.lineStyle,\n      Le: n.lineType,\n      rt: n.lineWidth,\n      _: this.Pe\n    };\n    return this.Ge.v(h), this.Ge;\n  }, i.prototype.Ze = function (t, i) {\n    return this.$e(t, i);\n  }, i;\n}(ti),\n    ci = /[2-9]/g,\n    vi = function () {\n  function t(t) {\n    void 0 === t && (t = 50), this.ps = new Map(), this.mu = 0, this.gu = Array.from(new Array(t));\n  }\n\n  return t.prototype.pu = function () {\n    this.ps.clear(), this.gu.fill(void 0);\n  }, t.prototype.Bt = function (t, i, n) {\n    var h = n || ci,\n        s = String(i).replace(h, \"0\"),\n        r = this.ps.get(s);\n\n    if (void 0 === r) {\n      if (0 === (r = t.measureText(s).width) && 0 !== i.length) return 0;\n      var e = this.gu[this.mu];\n      void 0 !== e && this.ps.delete(e), this.gu[this.mu] = s, this.mu = (this.mu + 1) % this.gu.length, this.ps.set(s, r);\n    }\n\n    return r;\n  }, t;\n}(),\n    _i = function () {\n  function t(t) {\n    this.yu = null, this.ne = null, this.ku = \"right\", this.Hs = 0, this.xu = t;\n  }\n\n  return t.prototype.Nu = function (t, i, n, h) {\n    this.yu = t, this.ne = i, this.Hs = n, this.ku = h;\n  }, t.prototype.h = function (t, i) {\n    null !== this.ne && null !== this.yu && this.yu.h(t, this.ne, this.xu, this.Hs, this.ku, i);\n  }, t;\n}(),\n    di = function () {\n  function t(t, i, n) {\n    this.Su = t, this.xu = new vi(50), this.Du = i, this.A = n, this.se = -1, this.ot = new _i(this.xu);\n  }\n\n  return t.prototype.I = function (t, i) {\n    var n = this.A.Cu(this.Du);\n    if (null === n) return null;\n    var h = n.Tu(this.Du) ? n.Di() : this.Du.X();\n    if (null === h) return null;\n    var s = n.Au(h);\n    if (\"overlay\" === s) return null;\n    var r = this.A.Eu();\n    return r.Vt !== this.se && (this.se = r.Vt, this.xu.pu()), this.ot.Nu(this.Su.Xt(), r, i, s), this.ot;\n  }, t;\n}(),\n    wi = function () {\n  function t() {\n    this.G = null;\n  }\n\n  return t.prototype.v = function (t) {\n    this.G = t;\n  }, t.prototype.h = function (t, i, n, r) {\n    if (null !== this.G && !1 !== this.G.tt) {\n      var e = Math.round(this.G.g * i);\n\n      if (!(e < 0 || e > Math.ceil(this.G.wt * i))) {\n        var u = Math.ceil(this.G.dt * i);\n        t.lineCap = \"butt\", t.strokeStyle = this.G.et, t.lineWidth = Math.floor(this.G.rt * i), h(t, this.G.ut), s(t, e, 0, u);\n      }\n    }\n  }, t;\n}(),\n    Mi = function () {\n  function t(t) {\n    this.Lu = {\n      dt: 0,\n      wt: 0,\n      g: 0,\n      et: \"rgba(0, 0, 0, 0)\",\n      rt: 1,\n      ut: 0,\n      tt: !1\n    }, this.Bu = new wi(), this.T = !0, this.Ie = t, this.We = t.ct(), this.Bu.v(this.Lu);\n  }\n\n  return t.prototype.B = function () {\n    this.T = !0;\n  }, t.prototype.I = function (t, i) {\n    return this.T && (this.Fu(t, i), this.T = !1), this.Bu;\n  }, t;\n}(),\n    bi = function (t) {\n  function i(i) {\n    return t.call(this, i) || this;\n  }\n\n  return e(i, t), i.prototype.Fu = function (t, i) {\n    this.Lu.tt = !1;\n    var n = this.Ie.X(),\n        h = n.oh().oh;\n\n    if (2 === h || 3 === h) {\n      var s = this.Ie.P();\n\n      if (s.baseLineVisible) {\n        var r = this.Ie.q();\n        null !== r && (this.Lu.tt = !0, this.Lu.g = n.$(r.Z, r.Z), this.Lu.dt = i, this.Lu.wt = t, this.Lu.et = s.baseLineColor, this.Lu.rt = s.baseLineWidth, this.Lu.ut = s.baseLineStyle);\n      }\n    }\n  }, i;\n}(Mi);\n\nfunction mi(t, i) {\n  return st(Math.min(Math.max(t, 12), 30) * i);\n}\n\nfunction gi(t, i) {\n  switch (t) {\n    case \"arrowDown\":\n    case \"arrowUp\":\n      return mi(i, 1);\n\n    case \"circle\":\n      return mi(i, .8);\n\n    case \"square\":\n      return mi(i, .7);\n  }\n}\n\nfunction pi(t) {\n  return ht(mi(t, 1));\n}\n\nfunction yi(t) {\n  return Math.max(mi(t, .1), 3);\n}\n\nfunction ki(t, i, n, h, s) {\n  var r = gi(\"square\", n),\n      e = (r - 1) / 2,\n      u = t - e,\n      a = i - e;\n  return h >= u && h <= u + r && s >= a && s <= a + r;\n}\n\nfunction xi(t, i, n, h, s) {\n  var r = (gi(\"arrowUp\", s) - 1) / 2,\n      e = (st(s / 2) - 1) / 2;\n  i.beginPath(), t ? (i.moveTo(n - r, h), i.lineTo(n, h - r), i.lineTo(n + r, h), i.lineTo(n + e, h), i.lineTo(n + e, h + r), i.lineTo(n - e, h + r), i.lineTo(n - e, h)) : (i.moveTo(n - r, h), i.lineTo(n, h + r), i.lineTo(n + r, h), i.lineTo(n + e, h), i.lineTo(n + e, h - r), i.lineTo(n - e, h - r), i.lineTo(n - e, h)), i.fill();\n}\n\nfunction Ni(t, i, n, h, s, r) {\n  return ki(i, n, h, s, r);\n}\n\nvar Si = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;\n    return i.G = null, i.xu = new vi(), i.se = -1, i.ee = \"\", i.Vu = \"\", i;\n  }\n\n  return e(i, t), i.prototype.v = function (t) {\n    this.G = t;\n  }, i.prototype.Nu = function (t, i) {\n    this.se === t && this.ee === i || (this.se = t, this.ee = i, this.Vu = Ot(t, i), this.xu.pu());\n  }, i.prototype.zu = function (t, i) {\n    if (null === this.G || null === this.G._) return null;\n\n    for (var n = this.G._.from; n < this.G._.to; n++) {\n      var h = this.G.M[n];\n      if (Ci(h, t, i)) return {\n        Ou: h.Pu,\n        Iu: h.Iu\n      };\n    }\n\n    return null;\n  }, i.prototype.s = function (t, i, n) {\n    if (null !== this.G && null !== this.G._) {\n      t.textBaseline = \"middle\", t.font = this.Vu;\n\n      for (var h = this.G._.from; h < this.G._.to; h++) {\n        var s = this.G.M[h];\n        void 0 !== s.Lt && (s.Lt.dt = this.xu.Bt(t, s.Lt.Wu), s.Lt.wt = this.se), Di(s, t);\n      }\n    }\n  }, i;\n}(y);\n\nfunction Di(t, i) {\n  i.fillStyle = t.et, void 0 !== t.Lt && function (t, i, n, h) {\n    t.fillText(i, n, h);\n  }(i, t.Lt.Wu, t.m - t.Lt.dt / 2, t.Lt.g), function (t, i) {\n    if (0 === t.Ye) return;\n\n    switch (t.Ru) {\n      case \"arrowDown\":\n        return void xi(!1, i, t.m, t.g, t.Ye);\n\n      case \"arrowUp\":\n        return void xi(!0, i, t.m, t.g, t.Ye);\n\n      case \"circle\":\n        return void function (t, i, n, h) {\n          var s = (gi(\"circle\", h) - 1) / 2;\n          t.beginPath(), t.arc(i, n, s, 0, 2 * Math.PI, !1), t.fill();\n        }(i, t.m, t.g, t.Ye);\n\n      case \"square\":\n        return void function (t, i, n, h) {\n          var s = gi(\"square\", h),\n              r = (s - 1) / 2,\n              e = i - r,\n              u = n - r;\n          t.fillRect(e, u, s, s);\n        }(i, t.m, t.g, t.Ye);\n    }\n\n    t.Ru;\n  }(t, i);\n}\n\nfunction Ci(t, i, n) {\n  return !(void 0 === t.Lt || !function (t, i, n, h, s, r) {\n    var e = h / 2;\n    return s >= t && s <= t + n && r >= i - e && r <= i + e;\n  }(t.m, t.Lt.g, t.Lt.dt, t.Lt.wt, i, n)) || function (t, i, n) {\n    if (0 === t.Ye) return !1;\n\n    switch (t.Ru) {\n      case \"arrowDown\":\n      case \"arrowUp\":\n        return Ni(0, t.m, t.g, t.Ye, i, n);\n\n      case \"circle\":\n        return function (t, i, n, h, s) {\n          var r = 2 + gi(\"circle\", n) / 2,\n              e = t - h,\n              u = i - s;\n          return Math.sqrt(e * e + u * u) <= r;\n        }(t.m, t.g, t.Ye, i, n);\n\n      case \"square\":\n        return ki(t.m, t.g, t.Ye, i, n);\n    }\n\n    t.Ru;\n  }(t, i, n);\n}\n\nfunction Ti(t, i, n, h, s, r, e, u, a) {\n  var o = _(n) ? n : n.close,\n      l = _(n) ? n : n.high,\n      f = _(n) ? n : n.low,\n      c = _(i.size) ? Math.max(i.size, 0) : 1,\n      v = pi(u.Br()) * c,\n      d = v / 2;\n\n  switch (t.Ye = v, i.position) {\n    case \"inBar\":\n      return t.g = e.$(o, a), void (void 0 !== t.Lt && (t.Lt.g = t.g + d + r + .6 * s));\n\n    case \"aboveBar\":\n      return t.g = e.$(l, a) - d - h.ju, void 0 !== t.Lt && (t.Lt.g = t.g - d - .6 * s, h.ju += 1.2 * s), void (h.ju += v + r);\n\n    case \"belowBar\":\n      return t.g = e.$(f, a) + d + h.Uu, void 0 !== t.Lt && (t.Lt.g = t.g + d + r + .6 * s, h.Uu += 1.2 * s), void (h.Uu += v + r);\n  }\n\n  i.position;\n}\n\nvar Ai = function () {\n  function t(t, i) {\n    this.T = !0, this.qu = !0, this.Hu = !0, this.Yu = null, this.ot = new Si(), this.Ku = t, this.hi = i, this.G = {\n      M: [],\n      _: null\n    };\n  }\n\n  return t.prototype.B = function (t) {\n    this.T = !0, this.Hu = !0, \"data\" === t && (this.qu = !0);\n  }, t.prototype.I = function (t, i, n) {\n    this.T && this.je();\n    var h = this.hi.P().layout;\n    return this.ot.Nu(h.fontSize, h.fontFamily), this.ot.v(this.G), this.ot;\n  }, t.prototype.$u = function () {\n    if (this.Hu) {\n      if (this.Ku.Xu().length > 0) {\n        var t = this.hi.j().Br(),\n            i = yi(t),\n            n = 1.5 * pi(t) + 2 * i;\n        this.Yu = {\n          above: n,\n          below: n\n        };\n      } else this.Yu = null;\n\n      this.Hu = !1;\n    }\n\n    return this.Yu;\n  }, t.prototype.je = function () {\n    var t = this.Ku.X(),\n        i = this.hi.j(),\n        n = this.Ku.Xu();\n    this.qu && (this.G.M = n.map(function (t) {\n      return {\n        V: t.time,\n        m: 0,\n        g: 0,\n        Ye: 0,\n        Ru: t.shape,\n        et: t.color,\n        Pu: t.Pu,\n        Iu: t.id,\n        Lt: void 0\n      };\n    }), this.qu = !1);\n    var h = this.hi.P().layout;\n    this.G._ = null;\n\n    var s = i._r();\n\n    if (null !== s) {\n      var r = this.Ku.q();\n\n      if (null !== r && 0 !== this.G.M.length) {\n        var e = NaN,\n            u = yi(i.Br()),\n            a = {\n          ju: u,\n          Uu: u\n        };\n        this.G._ = Gt(this.G.M, s, !0);\n\n        for (var o = this.G._.from; o < this.G._.to; o++) {\n          var l = n[o];\n          l.time !== e && (a.ju = u, a.Uu = u, e = l.time);\n          var f = this.G.M[o];\n          f.m = i.J(l.time), void 0 !== l.text && l.text.length > 0 && (f.Lt = {\n            Wu: l.text,\n            g: 0,\n            dt: 0,\n            wt: 0\n          });\n          var c = this.Ku.Zu(l.time);\n          null !== c && Ti(f, l, c, a, h.fontSize, u, t, i, r.Z);\n        }\n\n        this.T = !1;\n      }\n    }\n  }, t;\n}(),\n    Ei = function (t) {\n  function i(i) {\n    return t.call(this, i) || this;\n  }\n\n  return e(i, t), i.prototype.Fu = function (t, i) {\n    var n = this.Lu;\n    n.tt = !1;\n    var h = this.Ie.P();\n\n    if (h.priceLineVisible) {\n      var s = this.Ie.Ju(0 === h.priceLineSource);\n      s.Gu || (n.tt = !0, n.g = s.zt, n.et = this.Ie.Qu(s.et), n.dt = i, n.wt = t, n.rt = h.priceLineWidth, n.ut = h.priceLineStyle);\n    }\n  }, i;\n}(Mi),\n    Li = function (t) {\n  function i(i) {\n    var n = t.call(this) || this;\n    return n.lt = i, n;\n  }\n\n  return e(i, t), i.prototype.Zt = function (t, i, n) {\n    t.tt = !1, i.tt = !1;\n    var h = this.lt.P(),\n        s = h.lastValueVisible,\n        r = \"\" !== this.lt.ta(),\n        e = 0 === h.seriesLastValueMode,\n        u = this.lt.Ju(!1);\n\n    if (!u.Gu) {\n      s && (t.Lt = this.ia(u, s, e), t.tt = 0 !== t.Lt.length), (r || e) && (i.Lt = this.na(u, s, r, e), i.tt = i.Lt.length > 0);\n      var a = this.lt.Qu(u.et),\n          o = F(a);\n      n.gt = o.gt, n.et = o.pt, n.zt = u.zt, i.Pt = this.lt.ct().P().layout.backgroundColor, t.Pt = a;\n    }\n  }, i.prototype.na = function (t, i, n, h) {\n    var s = \"\",\n        r = this.lt.ta();\n    return n && 0 !== r.length && (s += r + \" \"), i && h && (s += this.lt.X().vh() ? t.ha : t.sa), s.trim();\n  }, i.prototype.ia = function (t, i, n) {\n    return i ? n ? this.lt.X().vh() ? t.sa : t.ha : t.Lt : \"\";\n  }, i;\n}(W),\n    Bi = function () {\n  function t(t, i) {\n    this.Pn = t, this.ra = i || null;\n  }\n\n  return t.prototype.xh = function () {\n    return this.Pn;\n  }, t.prototype.us = function () {\n    return this.ra;\n  }, t.prototype.mn = function () {\n    return null === this.Pn ? null : {\n      priceRange: this.Pn.mn(),\n      margins: this.ra || void 0\n    };\n  }, t.gn = function (i) {\n    return null === i ? null : new t(Q.gn(i.priceRange), i.margins);\n  }, t;\n}(),\n    Fi = function (t) {\n  function i(i, n) {\n    var h = t.call(this, i) || this;\n    return h.ea = n, h;\n  }\n\n  return e(i, t), i.prototype.Fu = function (t, i) {\n    var n = this.Lu;\n    n.tt = !1;\n    var h = this.ea.ua();\n\n    if (null !== h) {\n      var s = this.ea.P();\n      n.tt = !0, n.g = h, n.et = s.color, n.dt = i, n.wt = t, n.rt = s.lineWidth, n.ut = s.lineStyle;\n    }\n  }, i;\n}(Mi),\n    Vi = function (t) {\n  function i(i, n) {\n    var h = t.call(this) || this;\n    return h.Ku = i, h.ea = n, h;\n  }\n\n  return e(i, t), i.prototype.Zt = function (t, i, n) {\n    t.tt = !1, i.tt = !1;\n    var h = this.ea.P();\n\n    if (h.axisLabelVisible) {\n      var s = this.ea.ua();\n\n      if (null !== s) {\n        t.Lt = this.Ku.X().Zh(h.price), t.tt = !0;\n        var r = F(h.color);\n        n.gt = r.gt, n.et = r.pt, n.zt = s;\n      }\n    }\n  }, i;\n}(W),\n    zi = function () {\n  function t(t, i) {\n    this.Ku = t, this.xi = i, this.aa = new Fi(t, this), this.Su = new Vi(t, this);\n  }\n\n  return t.prototype.eh = function (t) {\n    v(this.xi, t), this.B(), this.Ku.ct().Lr();\n  }, t.prototype.P = function () {\n    return this.xi;\n  }, t.prototype.oa = function () {\n    return this.aa;\n  }, t.prototype.la = function () {\n    return this.Su;\n  }, t.prototype.B = function () {\n    this.aa.B(), this.Su.B();\n  }, t.prototype.ua = function () {\n    var t = this.Ku,\n        i = t.X();\n    if (t.ct().j().Qt() || i.Qt()) return null;\n    var n = t.q();\n    return null === n ? null : i.$(this.xi.price, n.Z);\n  }, t;\n}(),\n    Oi = function (t) {\n  function i(i) {\n    var n = t.call(this) || this;\n    return n.hi = i, n;\n  }\n\n  return e(i, t), i.prototype.ct = function () {\n    return this.hi;\n  }, i;\n}(H),\n    Pi = {\n  H: \"\",\n  cu: \"\",\n  fu: \"\"\n},\n    Ii = function () {\n  function t(t) {\n    this.Ku = t;\n  }\n\n  return t.prototype.Y = function (t, i) {\n    var n = this.Ku.fa(),\n        h = this.Ku.P();\n\n    switch (n) {\n      case \"Line\":\n        return this.ca(h);\n\n      case \"Area\":\n        return this.va(h);\n\n      case \"Bar\":\n        return this._a(h, t, i);\n\n      case \"Candlestick\":\n        return this.da(h, t, i);\n\n      case \"Histogram\":\n        return this.wa(h, t, i);\n    }\n\n    throw new Error(\"Unknown chart style\");\n  }, t.prototype._a = function (t, i, n) {\n    var h = u({}, Pi),\n        s = t.upColor,\n        r = t.downColor,\n        e = s,\n        a = r,\n        o = f(this.Ma(i, n)),\n        l = c(o.Z[0]) <= c(o.Z[3]);\n    return h.H = l ? s : r, h.cu = l ? e : a, h;\n  }, t.prototype.da = function (t, i, n) {\n    var h = u({}, Pi),\n        s = t.upColor,\n        r = t.downColor,\n        e = t.borderUpColor,\n        a = t.borderDownColor,\n        o = t.wickUpColor,\n        l = t.wickDownColor,\n        v = f(this.Ma(i, n)),\n        _ = c(v.Z[0]) <= c(v.Z[3]);\n\n    return h.H = _ ? s : r, h.cu = _ ? e : a, h.fu = _ ? o : l, h;\n  }, t.prototype.va = function (t) {\n    return u(u({}, Pi), {\n      H: t.lineColor\n    });\n  }, t.prototype.ca = function (t) {\n    return u(u({}, Pi), {\n      H: t.color\n    });\n  }, t.prototype.wa = function (t, i, n) {\n    var h = u({}, Pi),\n        s = f(this.Ma(i, n));\n    return h.H = void 0 !== s.et ? s.et : t.color, h;\n  }, t.prototype.Ma = function (t, i) {\n    return void 0 !== i ? i.Z : this.Ku.qi().ba(t);\n  }, t;\n}(),\n    Wi = function () {\n  function t() {\n    this.ma = [], this.ga = new Map(), this.pa = new Map();\n  }\n\n  return t.prototype.ya = function () {\n    this.ma = [], this.ga.clear(), this.pa.clear();\n  }, t.prototype.ka = function () {\n    return this.Ye() > 0 ? this.ma[this.ma.length - 1] : null;\n  }, t.prototype.xa = function () {\n    return this.Ye() > 0 ? this.Na(0) : null;\n  }, t.prototype.Ui = function () {\n    return this.Ye() > 0 ? this.Na(this.ma.length - 1) : null;\n  }, t.prototype.Ye = function () {\n    return this.ma.length;\n  }, t.prototype.Qt = function () {\n    return 0 === this.Ye();\n  }, t.prototype.Ls = function (t) {\n    return null !== this.Sa(t, 0);\n  }, t.prototype.ba = function (t) {\n    return this.Da(t);\n  }, t.prototype.Da = function (t, i) {\n    void 0 === i && (i = 0);\n    var n = this.Sa(t, i);\n    return null === n ? null : u(u({}, this.Ca(n)), {\n      zs: this.Na(n)\n    });\n  }, t.prototype.Xe = function () {\n    return this.ma;\n  }, t.prototype.Ta = function (t, i, n) {\n    if (this.Qt()) return null;\n\n    for (var h = null, s = 0, r = n; s < r.length; s++) {\n      var e = r[s];\n      h = Ri(h, this.Aa(t, i, e));\n    }\n\n    return h;\n  }, t.prototype.wn = function (t) {\n    0 !== t.length && (this.Qt() || t[t.length - 1].zs < this.ma[0].zs ? this.Ea(t) : t[0].zs > this.ma[this.ma.length - 1].zs ? this.La(t) : 1 !== t.length || t[0].zs !== this.ma[this.ma.length - 1].zs ? this.Ba(t) : this.Fa(t[0]));\n  }, t.prototype.Na = function (t) {\n    return this.ma[t].zs;\n  }, t.prototype.Ca = function (t) {\n    return this.ma[t];\n  }, t.prototype.Sa = function (t, i) {\n    var n = this.Va(t);\n    if (null === n && 0 !== i) switch (i) {\n      case -1:\n        return this.za(t);\n\n      case 1:\n        return this.Oa(t);\n\n      default:\n        throw new TypeError(\"Unknown search mode\");\n    }\n    return n;\n  }, t.prototype.za = function (t) {\n    var i = this.Pa(t);\n    return i > 0 && (i -= 1), i !== this.ma.length && this.Na(i) < t ? i : null;\n  }, t.prototype.Oa = function (t) {\n    var i = this.Ia(t);\n    return i !== this.ma.length && t < this.Na(i) ? i : null;\n  }, t.prototype.Va = function (t) {\n    var i = this.Pa(t);\n    return i === this.ma.length || t < this.ma[i].zs ? null : i;\n  }, t.prototype.Pa = function (t) {\n    return $t(this.ma, t, function (t, i) {\n      return t.zs < i;\n    });\n  }, t.prototype.Ia = function (t) {\n    return Xt(this.ma, t, function (t, i) {\n      return i.zs > t;\n    });\n  }, t.prototype.Wa = function (t, i, n) {\n    for (var h = null, s = t; s < i; s++) {\n      var r = this.ma[s].Z[n];\n      Number.isNaN(r) || (null === h ? h = {\n        Ra: r,\n        ja: r\n      } : (r < h.Ra && (h.Ra = r), r > h.ja && (h.ja = r)));\n    }\n\n    return h;\n  }, t.prototype.Ua = function (t) {\n    var i = Math.floor(t.zs / 30);\n    this.ga.forEach(function (t) {\n      return t.delete(i);\n    });\n  }, t.prototype.Ea = function (t) {\n    o(0 !== t.length, \"plotRows should not be empty\"), this.pa.clear(), this.ga.clear(), this.ma = t.concat(this.ma);\n  }, t.prototype.La = function (t) {\n    o(0 !== t.length, \"plotRows should not be empty\"), this.pa.clear(), this.ga.clear(), this.ma = this.ma.concat(t);\n  }, t.prototype.Fa = function (t) {\n    o(!this.Qt(), \"plot list should not be empty\"), o(this.ma[this.ma.length - 1].zs === t.zs, \"last row index should match new row index\"), this.Ua(t), this.pa.delete(t.zs), this.ma[this.ma.length - 1] = t;\n  }, t.prototype.Ba = function (t) {\n    o(0 !== t.length, \"plot rows should not be empty\"), this.pa.clear(), this.ga.clear(), this.ma = function (t, i) {\n      var n = function (t, i) {\n        var n = t.length,\n            h = i.length,\n            s = n + h,\n            r = 0,\n            e = 0;\n\n        for (; r < n && e < h;) t[r].zs < i[e].zs ? r++ : t[r].zs > i[e].zs ? e++ : (r++, e++, s--);\n\n        return s;\n      }(t, i),\n          h = new Array(n),\n          s = 0,\n          r = 0,\n          e = t.length,\n          u = i.length,\n          a = 0;\n\n      for (; s < e && r < u;) t[s].zs < i[r].zs ? (h[a] = t[s], s++) : t[s].zs > i[r].zs ? (h[a] = i[r], r++) : (h[a] = i[r], s++, r++), a++;\n\n      for (; s < e;) h[a] = t[s], s++, a++;\n\n      for (; r < u;) h[a] = i[r], r++, a++;\n\n      return h;\n    }(this.ma, t);\n  }, t.prototype.Aa = function (t, i, n) {\n    if (this.Qt()) return null;\n    var h = null,\n        s = f(this.xa()),\n        r = f(this.Ui()),\n        e = Math.max(t, s),\n        u = Math.min(i, r),\n        a = 30 * Math.ceil(e / 30),\n        o = Math.max(a, 30 * Math.floor(u / 30)),\n        l = this.Pa(e),\n        c = this.Ia(Math.min(u, a, i));\n    h = Ri(h, this.Wa(l, c, n));\n    var v = this.ga.get(n);\n    void 0 === v && (v = new Map(), this.ga.set(n, v));\n\n    for (var _ = Math.max(a + 1, e); _ < o; _ += 30) {\n      var d = Math.floor(_ / 30),\n          w = v.get(d);\n\n      if (void 0 === w) {\n        var M = this.Pa(30 * d),\n            b = this.Ia(30 * (d + 1) - 1);\n        w = this.Wa(M, b, n), v.set(d, w);\n      }\n\n      h = Ri(h, w);\n    }\n\n    l = this.Pa(o), c = this.Ia(u);\n    return h = Ri(h, this.Wa(l, c, n));\n  }, t;\n}();\n\nfunction Ri(t, i) {\n  return null === t ? i : null === i ? t : {\n    Ra: Math.min(t.Ra, i.Ra),\n    ja: Math.max(t.ja, i.ja)\n  };\n}\n\nvar ji = function (t) {\n  function i(i, n, h) {\n    var s = t.call(this, i) || this;\n    s.G = new Wi(), s.aa = new Ei(s), s.qa = [], s.Ha = new bi(s), s.Ya = null, s.Ka = [], s.$a = [], s.xi = n, s.Xa = h;\n    var r = new Li(s);\n    return s.bi = [r], s.Za = new di(r, s, i), s.Ja(), s.Ga(), s;\n  }\n\n  return e(i, t), i.prototype.an = function () {}, i.prototype.Qu = function (t) {\n    return this.xi.priceLineColor || t;\n  }, i.prototype.Ju = function (t, i) {\n    var n = {\n      Gu: !0\n    },\n        h = this.X();\n    if (this.ct().j().Qt() || h.Qt() || this.G.Qt()) return n;\n\n    var s,\n        r,\n        e = this.ct().j()._r(),\n        u = this.q();\n\n    if (null === e || null === u) return n;\n\n    if (t) {\n      var a = this.G.ka();\n      if (null === a) return n;\n      s = a, r = a.zs;\n    } else {\n      var o = this.G.Da(e.es(), -1);\n      if (null === o) return n;\n      if (null === (s = this.G.ba(o.zs))) return n;\n      r = o.zs;\n    }\n\n    var l = s.Z[3],\n        f = this.K().Y(r, {\n      Z: s\n    }),\n        c = h.$(l, u.Z);\n    return {\n      Gu: !1,\n      O: i ? l : void 0,\n      Lt: h.ti(l, u.Z),\n      ha: h.Zh(l),\n      sa: h.Gh(l, u.Z),\n      et: f.H,\n      zt: c,\n      zs: r\n    };\n  }, i.prototype.K = function () {\n    return null !== this.Ya || (this.Ya = new Ii(this)), this.Ya;\n  }, i.prototype.P = function () {\n    return this.xi;\n  }, i.prototype.eh = function (t) {\n    var i = t.priceScaleId;\n    void 0 !== i && i !== this.xi.priceScaleId && this.ct().Qa(this, i), v(this.xi, t), null !== this.ei && void 0 !== t.scaleMargins && this.ei.eh({\n      scaleMargins: t.scaleMargins\n    }), void 0 !== t.priceFormat && this.Ja(), this.ct().io(this);\n  }, i.prototype.no = function () {\n    this.G.ya(), this.Ga();\n  }, i.prototype.ho = function (t, i) {\n    i && this.G.ya(), this.G.wn(t), this.so(), this.Ai.B(\"data\"), this.Ni.B(\"data\");\n    var n = this.ct().Cu(this);\n    this.ct().ro(n), this.ct().io(this), this.ct().eo(), this.ct().Lr();\n  }, i.prototype.uo = function (t) {\n    this.Ka = t.map(function (t) {\n      return u({}, t);\n    }), this.so();\n    var i = this.ct().Cu(this);\n    this.Ni.B(\"data\"), this.ct().ro(i), this.ct().io(this), this.ct().eo(), this.ct().Lr();\n  }, i.prototype.Xu = function () {\n    return this.$a;\n  }, i.prototype.ao = function (t) {\n    var i = new zi(this, t);\n    return this.qa.push(i), this.ct().io(this), i;\n  }, i.prototype.oo = function (t) {\n    var i = this.qa.indexOf(t);\n    -1 !== i && this.qa.splice(i, 1), this.ct().io(this);\n  }, i.prototype.fa = function () {\n    return this.Xa;\n  }, i.prototype.q = function () {\n    var t = this.lo();\n    return null === t ? null : {\n      Z: t.Z[3],\n      Wh: t.V\n    };\n  }, i.prototype.lo = function () {\n    var t = this.ct().j()._r();\n\n    if (null === t) return null;\n    var i = t.rs();\n    return this.G.Da(i, 1);\n  }, i.prototype.qi = function () {\n    return this.G;\n  }, i.prototype.Zu = function (t) {\n    var i = this.G.ba(t);\n    return null === i ? null : \"Bar\" === this.Xa || \"Candlestick\" === this.Xa ? {\n      open: i.Z[0],\n      high: i.Z[1],\n      low: i.Z[2],\n      close: i.Z[3]\n    } : i.Z[3];\n  }, i.prototype.ci = function () {\n    var t = [];\n    this.fo() || t.push(this.Ha);\n\n    for (var i = 0, n = this.qa; i < n.length; i++) {\n      var h = n[i];\n      t.push(h.oa());\n    }\n\n    return t.push(this.Ai), t.push(this.aa), t.push(this.Za), t.push(this.Ni), t;\n  }, i.prototype.fi = function (t, i) {\n    for (var n = i === this.ei || this.fo() ? a(this.bi) : [], h = 0, s = this.qa; h < s.length; h++) {\n      var r = s[h];\n      n.push(r.la());\n    }\n\n    return n;\n  }, i.prototype.ss = function (t, i) {\n    var n = this;\n\n    if (void 0 !== this.xi.autoscaleInfoProvider) {\n      var h = this.xi.autoscaleInfoProvider(function () {\n        var h = n.co(t, i);\n        return null === h ? null : h.mn();\n      });\n      return Bi.gn(h);\n    }\n\n    return this.co(t, i);\n  }, i.prototype.ns = function () {\n    return this.xi.priceFormat.minMove;\n  }, i.prototype.$h = function () {\n    return this.Gn;\n  }, i.prototype.Wi = function () {\n    this.Ai.B(), this.Ni.B();\n\n    for (var t = 0, i = this.bi; t < i.length; t++) {\n      i[t].B();\n    }\n\n    for (var n = 0, h = this.qa; n < h.length; n++) {\n      h[n].B();\n    }\n\n    this.aa.B(), this.Ha.B();\n  }, i.prototype.X = function () {\n    return f(this.ei);\n  }, i.prototype.U = function (t) {\n    if (!((\"Line\" === this.Xa || \"Area\" === this.Xa) && this.xi.crosshairMarkerVisible)) return null;\n    var i = this.G.ba(t);\n    return null === i ? null : {\n      O: i.Z[3],\n      k: this.vo()\n    };\n  }, i.prototype.ta = function () {\n    return this.xi.title;\n  }, i.prototype.fo = function () {\n    return !It(this.X().rh());\n  }, i.prototype.co = function (t, i) {\n    if (!d(t) || !d(i) || this.G.Qt()) return null;\n    var n = \"Line\" === this.Xa || \"Area\" === this.Xa || \"Histogram\" === this.Xa ? [3] : [2, 1],\n        h = this.G.Ta(t, i, n),\n        s = null !== h ? new Q(h.Ra, h.ja) : null;\n\n    if (\"Histogram\" === this.fa()) {\n      var r = this.xi.base,\n          e = new Q(r, r);\n      s = null !== s ? s.wn(e) : e;\n    }\n\n    return new Bi(s, this.Ni.$u());\n  }, i.prototype.vo = function () {\n    switch (this.Xa) {\n      case \"Line\":\n      case \"Area\":\n        return this.xi.crosshairMarkerRadius;\n    }\n\n    return 0;\n  }, i.prototype.Ja = function () {\n    switch (this.xi.priceFormat.type) {\n      case \"custom\":\n        this.Gn = {\n          Xi: this.xi.priceFormat.formatter\n        };\n        break;\n\n      case \"volume\":\n        this.Gn = new qt(this.xi.priceFormat.precision);\n        break;\n\n      case \"percent\":\n        this.Gn = new J(this.xi.priceFormat.precision);\n        break;\n\n      default:\n        var t = Math.pow(10, this.xi.priceFormat.precision);\n        this.Gn = new Z(t, this.xi.priceFormat.minMove * t, !1, void 0);\n    }\n\n    null !== this.ei && this.ei.uh();\n  }, i.prototype.so = function () {\n    var t = this,\n        i = this.ct().j();\n    if (i.Qt() || 0 === this.G.Ye()) this.$a = [];else {\n      var n = f(this.G.xa());\n      this.$a = this.Ka.map(function (h, s) {\n        var r = f(i.vr(h.time, !0)),\n            e = r < n ? 1 : -1;\n        return {\n          time: f(t.G.Da(r, e)).zs,\n          position: h.position,\n          shape: h.shape,\n          color: h.color,\n          id: h.id,\n          Pu: s,\n          text: h.text,\n          size: h.size\n        };\n      });\n    }\n  }, i.prototype.Ga = function () {\n    switch (this.Ni = new Ai(this, this.ct()), this.Xa) {\n      case \"Bar\":\n        this.Ai = new si(this, this.ct());\n        break;\n\n      case \"Candlestick\":\n        this.Ai = new ei(this, this.ct());\n        break;\n\n      case \"Line\":\n        this.Ai = new fi(this, this.ct());\n        break;\n\n      case \"Area\":\n        this.Ai = new ii(this, this.ct());\n        break;\n\n      case \"Histogram\":\n        this.Ai = new li(this, this.ct());\n        break;\n\n      default:\n        throw Error(\"Unknown chart style assigned: \" + this.Xa);\n    }\n  }, i;\n}(Oi),\n    Ui = function () {\n  function t(t) {\n    this.xi = t;\n  }\n\n  return t.prototype._o = function (t, i, n) {\n    var h = t;\n    if (0 === this.xi.mode) return h;\n    var s = n.Di(),\n        r = s.q();\n    if (null === r) return h;\n    var e = s.$(t, r),\n        u = n.Vh().filter(function (t) {\n      return t instanceof ji;\n    }).reduce(function (t, h) {\n      if (n.Tu(h)) return t;\n      var s = h.X(),\n          r = h.qi();\n      if (s.Qt() || !r.Ls(i)) return t;\n      var e = r.ba(i);\n      if (null === e) return t;\n      var u = c(h.q());\n      return t.concat([s.$(e.Z[3], u.Z)]);\n    }, []);\n    if (0 === u.length) return h;\n    u.sort(function (t, i) {\n      return Math.abs(t - e) - Math.abs(i - e);\n    });\n    var a = u[0];\n    return h = s.Ci(a, r);\n  }, t;\n}(),\n    qi = function () {\n  function t(t, i) {\n    this.Kn = [], this.do = new Map(), this.zn = 0, this.Hs = 0, this.wo = 1e3, this.$n = null, this.Mo = new G(), this.bo = t, this.hi = i;\n    var n = i.P();\n    this.mo = this.po(\"left\", n.leftPriceScale), this.yo = this.po(\"right\", n.rightPriceScale), this.mo.mh().tn(this.ko.bind(this, this.mo), this), this.yo.mh().tn(this.ko.bind(this, this.mo), this), this.xo(n);\n  }\n\n  return t.prototype.xo = function (t) {\n    if (t.leftPriceScale && this.mo.eh(t.leftPriceScale), t.rightPriceScale && this.yo.eh(t.rightPriceScale), t.localization && (this.mo.uh(), this.yo.uh()), t.overlayPriceScales) for (var i = 0, n = Array.from(this.do.values()); i < n.length; i++) {\n      var h = f(n[i][0].X());\n      h.eh(t.overlayPriceScales), t.localization && h.uh();\n    }\n  }, t.prototype.No = function (t) {\n    switch (t) {\n      case \"left\":\n        return this.mo;\n\n      case \"right\":\n        return this.yo;\n    }\n\n    return this.do.has(t) ? l(this.do.get(t))[0].X() : null;\n  }, t.prototype.an = function () {\n    this.ct().So().rn(this), this.mo.mh().rn(this), this.yo.mh().rn(this), this.Kn.forEach(function (t) {\n      t.an && t.an();\n    }), this.Mo.en();\n  }, t.prototype.Do = function () {\n    return this.wo;\n  }, t.prototype.Co = function (t) {\n    this.wo = t;\n  }, t.prototype.ct = function () {\n    return this.hi;\n  }, t.prototype.dt = function () {\n    return this.Hs;\n  }, t.prototype.wt = function () {\n    return this.zn;\n  }, t.prototype.kr = function (t) {\n    this.Hs = t, this.To();\n  }, t.prototype.gh = function (t) {\n    var i = this;\n    this.zn = t, this.mo.gh(t), this.yo.gh(t), this.Kn.forEach(function (n) {\n      if (i.Tu(n)) {\n        var h = n.X();\n        null !== h && h.gh(t);\n      }\n    }), this.To();\n  }, t.prototype.Vh = function () {\n    return this.Kn;\n  }, t.prototype.Tu = function (t) {\n    var i = t.X();\n    return null === i || this.mo !== i && this.yo !== i;\n  }, t.prototype.Oh = function (t, i, n) {\n    var h = void 0 !== n ? n : this.Eo().Ao - 1;\n    this.Lo(t, i, h);\n  }, t.prototype.Ih = function (t) {\n    var i = this.Kn.indexOf(t);\n    o(-1 !== i, \"removeDataSource: invalid data source\"), this.Kn.splice(i, 1);\n    var n = f(t.X()).rh();\n\n    if (this.do.has(n)) {\n      var h = l(this.do.get(n)),\n          s = h.indexOf(t);\n      -1 !== s && (h.splice(s, 1), 0 === h.length && this.do.delete(n));\n    }\n\n    var r = t.X();\n    r && r.Vh().indexOf(t) >= 0 && r.Ih(t), null !== r && (r.Ph(), this.Bo(r)), this.$n = null;\n  }, t.prototype.Au = function (t) {\n    return t === this.mo ? \"left\" : t === this.yo ? \"right\" : \"overlay\";\n  }, t.prototype.Fo = function () {\n    return this.mo;\n  }, t.prototype.Vo = function () {\n    return this.yo;\n  }, t.prototype.zo = function (t, i) {\n    t.jh(i);\n  }, t.prototype.Oo = function (t, i) {\n    t.Uh(i), this.To();\n  }, t.prototype.Po = function (t) {\n    t.qh();\n  }, t.prototype.Io = function (t, i) {\n    t.Hh(i);\n  }, t.prototype.Wo = function (t, i) {\n    t.Yh(i), this.To();\n  }, t.prototype.Ro = function (t) {\n    t.Kh();\n  }, t.prototype.To = function () {\n    this.Kn.forEach(function (t) {\n      t.Wi();\n    });\n  }, t.prototype.Di = function () {\n    var t = null;\n    return this.hi.P().rightPriceScale.visible && 0 !== this.yo.Vh().length ? t = this.yo : this.hi.P().leftPriceScale.visible && 0 !== this.mo.Vh().length ? t = this.mo : 0 !== this.Kn.length && (t = this.Kn[0].X()), null === t && (t = this.yo), t;\n  }, t.prototype.Bo = function (t) {\n    null !== t && t.fh() && this.jo(t);\n  }, t.prototype.Uo = function (t) {\n    var i = this.bo._r();\n\n    t.ah({\n      dh: !0\n    }), null !== i && t.ts(i), this.To();\n  }, t.prototype.qo = function () {\n    this.jo(this.mo), this.jo(this.yo);\n  }, t.prototype.Ho = function () {\n    var t = this;\n    this.Bo(this.mo), this.Bo(this.yo), this.Kn.forEach(function (i) {\n      t.Tu(i) && t.Bo(i.X());\n    }), this.To(), this.hi.Lr();\n  }, t.prototype.zh = function () {\n    return null === this.$n && (this.$n = dt(this.Kn)), this.$n;\n  }, t.prototype.Yo = function () {\n    return this.Mo;\n  }, t.prototype.jo = function (t) {\n    var i = t.Qh();\n\n    if (i && i.length > 0 && !this.bo.Qt()) {\n      var n = this.bo._r();\n\n      null !== n && t.ts(n);\n    }\n\n    t.Wi();\n  }, t.prototype.Eo = function () {\n    var t = this.zh();\n    if (0 === t.length) return {\n      Ao: 0,\n      Ko: 0\n    };\n\n    for (var i = 0, n = 0, h = 0; h < t.length; h++) {\n      var s = t[h].ai();\n      null !== s && (s < i && (i = s), s > n && (n = s));\n    }\n\n    return {\n      Ao: i,\n      Ko: n\n    };\n  }, t.prototype.Lo = function (t, i, n) {\n    var h = this.No(i);\n\n    if (null === h && (h = this.po(i, this.hi.P().overlayPriceScales)), this.Kn.push(t), !It(i)) {\n      var s = this.do.get(i) || [];\n      s.push(t), this.do.set(i, s);\n    }\n\n    h.Oh(t), t.li(h), t.oi(n), this.Bo(h), this.$n = null;\n  }, t.prototype.ko = function (t, i, n) {\n    i.oh !== n.oh && this.jo(t);\n  }, t.prototype.po = function (t, i) {\n    var n = u({\n      visible: !0,\n      autoScale: !0\n    }, b(i)),\n        h = new mt(t, n, this.hi.P().layout, this.hi.P().localization);\n    return h.gh(this.wt()), h;\n  }, t;\n}(),\n    Hi = function (t) {\n  function i(i) {\n    var n = t.call(this) || this;\n    return n.$o = new Map(), n.G = i, n;\n  }\n\n  return e(i, t), i.prototype.s = function (t) {}, i.prototype.o = function (t) {\n    if (this.G.tt) {\n      t.save();\n\n      for (var i = 0, n = 0, h = this.G.Xo; n < h.length; n++) {\n        if (0 !== (a = h[n]).Lt.length) {\n          t.font = a.kt;\n          var s = this.Zo(t, a.Lt);\n          s > this.G.dt ? a.Pr = this.G.dt / s : a.Pr = 1, i += a.Jo * a.Pr;\n        }\n      }\n\n      var r = 0;\n\n      switch (this.G.Go) {\n        case \"top\":\n          r = 0;\n          break;\n\n        case \"center\":\n          r = Math.max((this.G.wt - i) / 2, 0);\n          break;\n\n        case \"bottom\":\n          r = Math.max(this.G.wt - i, 0);\n      }\n\n      t.fillStyle = this.G.et;\n\n      for (var e = 0, u = this.G.Xo; e < u.length; e++) {\n        var a = u[e];\n        t.save();\n        var o = 0;\n\n        switch (this.G.Qo) {\n          case \"left\":\n            t.textAlign = \"left\", o = a.Jo / 2;\n            break;\n\n          case \"center\":\n            t.textAlign = \"center\", o = this.G.dt / 2;\n            break;\n\n          case \"right\":\n            t.textAlign = \"right\", o = this.G.dt - 1 - a.Jo / 2;\n        }\n\n        t.translate(o, r), t.textBaseline = \"top\", t.font = a.kt, t.scale(a.Pr, a.Pr), t.fillText(a.Lt, 0, a.tl), t.restore(), r += a.Jo * a.Pr;\n      }\n\n      t.restore();\n    }\n  }, i.prototype.Zo = function (t, i) {\n    var n = this.il(t.font),\n        h = n.get(i);\n    return void 0 === h && (h = t.measureText(i).width, n.set(i, h)), h;\n  }, i.prototype.il = function (t) {\n    var i = this.$o.get(t);\n    return void 0 === i && (i = new Map(), this.$o.set(t, i)), i;\n  }, i;\n}(y),\n    Yi = function () {\n  function t(t) {\n    this.T = !0, this.at = {\n      tt: !1,\n      et: \"\",\n      wt: 0,\n      dt: 0,\n      Xo: [],\n      Go: \"center\",\n      Qo: \"center\"\n    }, this.ot = new Hi(this.at), this.lt = t;\n  }\n\n  return t.prototype.B = function () {\n    this.T = !0;\n  }, t.prototype.I = function (t, i) {\n    return this.T && (this.W(t, i), this.T = !1), this.ot;\n  }, t.prototype.W = function (t, i) {\n    var n = this.lt.P(),\n        h = this.at;\n    h.tt = n.visible, h.tt && (h.et = n.color, h.dt = i, h.wt = t, h.Qo = n.horzAlign, h.Go = n.vertAlign, h.Xo = [{\n      Lt: n.text,\n      kt: Ot(n.fontSize, n.fontFamily, n.fontStyle),\n      Jo: 1.2 * n.fontSize,\n      tl: 0,\n      Pr: 0\n    }]);\n  }, t;\n}(),\n    Ki = function (t) {\n  function i(i, n) {\n    var h = t.call(this) || this;\n    return h.xi = n, h.Ai = new Yi(h), h;\n  }\n\n  return e(i, t), i.prototype.ci = function () {\n    return [this.Ai];\n  }, i.prototype.P = function () {\n    return this.xi;\n  }, i.prototype.Wi = function () {\n    this.Ai.B();\n  }, i;\n}(H),\n    $i = function () {\n  function t(t, i) {\n    this.nl = [], this.hl = [], this.Hs = 0, this.sl = null, this.rl = null, this.el = new G(), this.ul = new G(), this.al = t, this.xi = i, this.ol = new Pt(this), this.bo = new Bt(this, i.timeScale, this.xi.localization), this.ll = new jt(), this.L = new Y(this, i.crosshair), this.fl = new Ui(i.crosshair), this.cl = new Ki(this, i.watermark), this.vl(), this.nl[0].Co(2e3);\n  }\n\n  return t.prototype._l = function () {\n    this.dl(new Ut(3));\n  }, t.prototype.Lr = function () {\n    this.dl(new Ut(2));\n  }, t.prototype.io = function (t) {\n    var i = this.wl(t);\n    this.dl(i);\n  }, t.prototype.Ml = function () {\n    return this.rl;\n  }, t.prototype.bl = function (t) {\n    var i = this.rl;\n    this.rl = t, null !== i && this.io(i.ml), null !== t && this.io(t.ml);\n  }, t.prototype.P = function () {\n    return this.xi;\n  }, t.prototype.eh = function (t) {\n    v(this.xi, t), this.nl.forEach(function (i) {\n      return i.xo(t);\n    }), void 0 !== t.timeScale && this.bo.eh(t.timeScale), void 0 !== t.localization && this.bo.ur(t.localization), (t.leftPriceScale || t.rightPriceScale) && this.el.en(), this._l();\n  }, t.prototype.gl = function (t, i) {\n    var n = this.pl(t);\n    null !== n && (n.X.eh(i), this.el.en());\n  }, t.prototype.pl = function (t) {\n    for (var i = 0, n = this.nl; i < n.length; i++) {\n      var h = n[i],\n          s = h.No(t);\n      if (null !== s) return {\n        ft: h,\n        X: s\n      };\n    }\n\n    return null;\n  }, t.prototype.j = function () {\n    return this.bo;\n  }, t.prototype.yl = function () {\n    return this.nl;\n  }, t.prototype.kl = function () {\n    return this.ll;\n  }, t.prototype.xl = function () {\n    return this.cl;\n  }, t.prototype.Nl = function () {\n    return this.L;\n  }, t.prototype.Sl = function () {\n    return this.ul;\n  }, t.prototype.Dl = function (t, i) {\n    t.gh(i), this.Er();\n  }, t.prototype.kr = function (t) {\n    this.Hs = t, this.bo.kr(this.Hs), this.nl.forEach(function (i) {\n      return i.kr(t);\n    }), this.Er();\n  }, t.prototype.vl = function (t) {\n    var i = new qi(this.bo, this);\n    void 0 !== t ? this.nl.splice(t, 0, i) : this.nl.push(i);\n    var n = void 0 === t ? this.nl.length - 1 : t,\n        h = new Ut(3);\n    return h.ye(n, {\n      ke: 0,\n      dh: !0\n    }), this.Me(h), i;\n  }, t.prototype.zo = function (t, i, n) {\n    t.zo(i, n);\n  }, t.prototype.Oo = function (t, i, n) {\n    t.Oo(i, n), this.eo(), this.dl(this.Cl(t, 2));\n  }, t.prototype.Po = function (t, i) {\n    t.Po(i), this.dl(this.Cl(t, 2));\n  }, t.prototype.Io = function (t, i, n) {\n    i.fh() || t.Io(i, n);\n  }, t.prototype.Wo = function (t, i, n) {\n    i.fh() || (t.Wo(i, n), this.eo(), this.dl(this.Cl(t, 2)));\n  }, t.prototype.Ro = function (t, i) {\n    i.fh() || (t.Ro(i), this.dl(this.Cl(t, 2)));\n  }, t.prototype.Uo = function (t, i) {\n    t.Uo(i), this.dl(this.Cl(t, 2));\n  }, t.prototype.Tl = function (t) {\n    this.bo.jh(t);\n  }, t.prototype.Al = function (t, i) {\n    var n = this.j();\n\n    if (!n.Qt() && 0 !== i) {\n      var h = n.dt();\n      t = Math.max(1, Math.min(t, h)), n.Pr(t, i), this.Er();\n    }\n  }, t.prototype.El = function (t) {\n    this.Ll(0), this.Bl(t), this.Fl();\n  }, t.prototype.Vl = function (t) {\n    this.bo.Uh(t), this.Er();\n  }, t.prototype.zl = function () {\n    this.bo.qh(), this.Lr();\n  }, t.prototype.Ll = function (t) {\n    this.sl = t, this.bo.Hh(t);\n  }, t.prototype.Bl = function (t) {\n    var i = !1;\n    return null !== this.sl && Math.abs(t - this.sl) > 20 && (this.sl = null, i = !0), this.bo.Yh(t), this.Er(), i;\n  }, t.prototype.Fl = function () {\n    this.bo.Kh(), this.Lr(), this.sl = null;\n  }, t.prototype.Ol = function () {\n    this.bo.zr(), this.Er();\n  }, t.prototype.Me = function (t) {\n    this.al && this.al(t), this.ll.Me(), this.Lr();\n  }, t.prototype.F = function () {\n    return this.hl;\n  }, t.prototype.Pl = function (t, i, n) {\n    this.L.Ei(t, i);\n\n    var h = NaN,\n        s = this.bo.Tr(t),\n        r = this.bo._r();\n\n    null !== r && (s = Math.min(Math.max(r.rs(), s), r.es()));\n    var e = n.Di(),\n        u = e.q();\n    null !== u && (h = e.Ci(i, u)), h = this.fl._o(h, s, n), this.L.Vi(s, h, n), this.Il(), this.ul.en(this.L.R(), {\n      x: t,\n      y: i\n    });\n  }, t.prototype.Wl = function () {\n    this.Nl().Oi(), this.Il(), this.ul.en(null, null);\n  }, t.prototype.eo = function () {\n    var t = this.L.ft();\n\n    if (null !== t) {\n      var i = this.L.Bi(),\n          n = this.L.Fi();\n      this.Pl(i, n, t);\n    }\n  }, t.prototype.Rl = function (t, i) {\n    void 0 !== i && this.bo.B(i);\n\n    var n = this.bo.Dr(),\n        h = this.bo._r();\n\n    if (null !== h) {\n      var s = h.Ls(n);\n\n      if (t > n && !s) {\n        var r = t - n;\n        this.bo.cr(this.bo.Fr() - r);\n      }\n    }\n\n    this.bo.Or(t);\n  }, t.prototype.ro = function (t) {\n    null !== t && t.Ho();\n  }, t.prototype.Cu = function (t) {\n    var i = this.nl.find(function (i) {\n      return i.zh().includes(t);\n    });\n    return void 0 === i ? null : i;\n  }, t.prototype.Er = function () {\n    this.cl.Wi(), this.nl.forEach(function (t) {\n      return t.Ho();\n    }), this.eo();\n  }, t.prototype.an = function () {\n    this.nl.forEach(function (t) {\n      return t.an();\n    }), this.nl.length = 0, this.xi.localization.priceFormatter = void 0, this.xi.localization.timeFormatter = void 0;\n  }, t.prototype.jl = function () {\n    return this.ol;\n  }, t.prototype.Eu = function () {\n    return this.ol.P();\n  }, t.prototype.So = function () {\n    return this.el;\n  }, t.prototype.Ul = function (t, i) {\n    var n = this.nl[0],\n        h = this.ql(i, t, n);\n    return this.hl.push(h), 1 === this.hl.length ? this._l() : this.Lr(), h;\n  }, t.prototype.Hl = function (t) {\n    var i = this.Cu(t),\n        n = this.hl.indexOf(t);\n    o(-1 !== n, \"Series not found\"), this.hl.splice(n, 1), f(i).Ih(t), t.an && t.an();\n  }, t.prototype.Qa = function (t, i) {\n    var n = f(this.Cu(t));\n    n.Ih(t);\n    var h = this.pl(i);\n\n    if (null === h) {\n      var s = t.ai();\n      n.Oh(t, i, s);\n    } else {\n      s = h.ft === n ? t.ai() : void 0;\n      h.ft.Oh(t, i, s);\n    }\n  }, t.prototype.Kr = function () {\n    var t = new Ut(2);\n    t.Se(), this.dl(t);\n  }, t.prototype.Yl = function (t) {\n    var i = new Ut(2);\n    i.$r(t), this.dl(i);\n  }, t.prototype.Kl = function () {\n    return this.xi.rightPriceScale.visible ? \"right\" : \"left\";\n  }, t.prototype.Cl = function (t, i) {\n    var n = new Ut(i);\n\n    if (null !== t) {\n      var h = this.nl.indexOf(t);\n      n.ye(h, {\n        ke: i\n      });\n    }\n\n    return n;\n  }, t.prototype.wl = function (t, i) {\n    return void 0 === i && (i = 2), this.Cl(this.Cu(t), i);\n  }, t.prototype.dl = function (t) {\n    this.al && this.al(t), this.ll.Me();\n  }, t.prototype.Il = function () {\n    this.dl(new Ut(1));\n  }, t.prototype.ql = function (t, i, n) {\n    var h = new ji(this, t, i),\n        s = void 0 !== t.priceScaleId ? t.priceScaleId : this.Kl();\n    return n.Oh(h, s), It(s) || h.eh(t), h;\n  }, t;\n}(),\n    Xi = function () {\n  function t(t, i) {\n    this.ht = t, this.st = i;\n  }\n\n  return t.prototype.fn = function (t) {\n    return this.ht === t.ht && this.st === t.st;\n  }, t;\n}();\n\nfunction Zi(t) {\n  return t.ownerDocument && t.ownerDocument.defaultView && t.ownerDocument.defaultView.devicePixelRatio || 1;\n}\n\nfunction Ji(t) {\n  var i = f(t.getContext(\"2d\"));\n  return i.setTransform(1, 0, 0, 1, 0, 0), i;\n}\n\nfunction Gi(t) {\n  var i = t.createElement(\"canvas\");\n  return function (t) {\n    t.style.userSelect = \"none\", t.style.webkitUserSelect = \"none\", t.style.msUserSelect = \"none\", t.style.MozUserSelect = \"none\", t.style.webkitTapHighlightColor = \"transparent\";\n  }(i), i;\n}\n\nfunction Qi(t, i) {\n  var n = Gi(t),\n      h = Zi(n);\n  return n.style.width = i.ht + \"px\", n.style.height = i.st + \"px\", n.width = i.ht * h, n.height = i.st * h, n;\n}\n\nfunction tn(i, n) {\n  var h = Gi(f(i.ownerDocument));\n  i.appendChild(h);\n  var s = (0, _coordinateSpace.bindToDevicePixelRatio)(h);\n  return s.resizeCanvas({\n    width: n.ht,\n    height: n.st\n  }), s;\n}\n\nvar nn = \"undefined\" != typeof window;\n\nvar hn = function () {\n  if (!nn) return !1;\n  var t = !!navigator.maxTouchPoints || !!navigator.msMaxTouchPoints || !!nn && (\"ontouchstart\" in window || Boolean(window.DocumentTouch && document instanceof window.DocumentTouch));\n  return \"onorientationchange\" in window && t;\n}();\n\nvar sn = function () {\n  if (!nn) return !1;\n  var t = /Android/i.test(navigator.userAgent),\n      i = /iPhone|iPad|iPod|AppleWebKit.+Mobile/i.test(navigator.userAgent);\n  return t || i;\n}(),\n    rn = function () {\n  function t(t, i, n) {\n    this.$l = 0, this.Xl = null, this.Zl = null, this.Jl = !1, this.Gl = null, this.Ql = !1, this.tf = !1, this.if = null, this.nf = null, this.hf = null, this.sf = null, this.rf = 0, this.ef = !1, this.uf = !1, this.af = !1, this.lf = t, this.ff = i, this.xi = n, this.cf();\n  }\n\n  return t.prototype.an = function () {\n    null !== this.if && (this.if(), this.if = null), null !== this.nf && (this.nf(), this.nf = null), null !== this.hf && (this.hf(), this.hf = null), this.vf(), this._f();\n  }, t.prototype.df = function (t) {\n    var i = this;\n    this.nf && this.nf();\n    var n = this.wf.bind(this);\n    this.nf = function () {\n      i.lf.removeEventListener(\"mousemove\", n);\n    }, this.lf.addEventListener(\"mousemove\", n), an(t) && this.wf(t);\n    var h = this.Mf(t);\n    this.bf(h, this.ff.mf);\n  }, t.prototype._f = function () {\n    null !== this.Xl && clearTimeout(this.Xl), this.$l = 0, this.Xl = null;\n  }, t.prototype.wf = function (t) {\n    if (!this.af || an(t)) {\n      var i = this.Mf(t);\n      this.bf(i, this.ff.gf);\n    }\n  }, t.prototype.pf = function (t) {\n    if ((!(\"button\" in t) || 0 === t.button) && null === this.sf) {\n      var i = an(t);\n\n      if (!this.uf || !i) {\n        this.ef = !0;\n        var n = this.Mf(t),\n            h = c(this.Gl),\n            s = Math.abs(h.m - n.yf),\n            r = Math.abs(h.g - n.kf),\n            e = s + r > 5;\n\n        if (e || !i) {\n          if (e && !this.Ql && i) {\n            var u = .5 * s,\n                a = r >= u && !this.xi.xf,\n                o = u > r && !this.xi.Nf;\n            a || o || (this.uf = !0);\n          }\n\n          e && (this.Ql = !0, this.tf = !0, i && this.vf()), this.uf || (this.bf(n, this.ff.Sf), i && on(t));\n        }\n      }\n    }\n  }, t.prototype.Df = function (t) {\n    if (!(\"button\" in t) || 0 === t.button) {\n      var i = this.Mf(t);\n      this.vf(), this.Gl = null, this.af = !1, this.hf && (this.hf(), this.hf = null), an(t) && this.Cf(t), this.bf(i, this.ff.Tf), ++this.$l, this.Xl && this.$l > 1 ? (this.bf(i, this.ff.Af), this._f()) : this.tf || this.bf(i, this.ff.Ef), an(t) && (on(t), this.Cf(t), 0 === t.touches.length && (this.Jl = !1));\n    }\n  }, t.prototype.vf = function () {\n    null !== this.Zl && (clearTimeout(this.Zl), this.Zl = null);\n  }, t.prototype.Lf = function (t) {\n    if (!(\"button\" in t) || 0 === t.button) {\n      var i = this.Mf(t);\n      this.tf = !1, this.Ql = !1, this.uf = !1, an(t) && this.df(t), this.Gl = {\n        m: i.yf,\n        g: i.kf\n      }, this.hf && (this.hf(), this.hf = null);\n      var n = this.pf.bind(this),\n          h = this.Df.bind(this),\n          s = this.lf.ownerDocument.documentElement;\n      this.hf = function () {\n        s.removeEventListener(\"touchmove\", n), s.removeEventListener(\"touchend\", h), s.removeEventListener(\"mousemove\", n), s.removeEventListener(\"mouseup\", h);\n      }, s.addEventListener(\"touchmove\", n, {\n        passive: !1\n      }), s.addEventListener(\"touchend\", h, {\n        passive: !1\n      }), this.vf(), an(t) && 1 === t.touches.length ? this.Zl = setTimeout(this.Bf.bind(this, t), 240) : (s.addEventListener(\"mousemove\", n), s.addEventListener(\"mouseup\", h)), this.af = !0, this.bf(i, this.ff.Ff), this.Xl || (this.$l = 0, this.Xl = setTimeout(this._f.bind(this), 500));\n    }\n  }, t.prototype.cf = function () {\n    var t = this;\n    this.lf.addEventListener(\"mouseenter\", this.df.bind(this)), this.lf.addEventListener(\"touchcancel\", this.vf.bind(this));\n\n    var i = this.lf.ownerDocument,\n        n = function (i) {\n      t.ff.Vf && (i.composed && t.lf.contains(i.composedPath()[0]) || i.target && t.lf.contains(i.target) || t.ff.Vf());\n    };\n\n    this.if = function () {\n      i.removeEventListener(\"mousedown\", n), i.removeEventListener(\"touchstart\", n);\n    }, i.addEventListener(\"mousedown\", n), i.addEventListener(\"touchstart\", n, {\n      passive: !0\n    }), this.lf.addEventListener(\"mouseleave\", this.Cf.bind(this)), this.lf.addEventListener(\"touchstart\", this.Lf.bind(this), {\n      passive: !0\n    }), hn || this.lf.addEventListener(\"mousedown\", this.Lf.bind(this)), this.zf(), this.lf.addEventListener(\"touchmove\", function () {}, {\n      passive: !1\n    });\n  }, t.prototype.zf = function () {\n    var t = this;\n    void 0 === this.ff.Of && void 0 === this.ff.Pf && void 0 === this.ff.If || (this.lf.addEventListener(\"touchstart\", function (i) {\n      return t.Wf(i.touches);\n    }, {\n      passive: !0\n    }), this.lf.addEventListener(\"touchmove\", function (i) {\n      if (2 === i.touches.length && null !== t.sf && void 0 !== t.ff.Pf) {\n        var n = un(i.touches[0], i.touches[1]) / t.rf;\n        t.ff.Pf(t.sf, n), on(i);\n      }\n    }, {\n      passive: !1\n    }), this.lf.addEventListener(\"touchend\", function (i) {\n      t.Wf(i.touches);\n    }));\n  }, t.prototype.Wf = function (t) {\n    1 === t.length && (this.ef = !1), 2 !== t.length || this.ef || this.Jl ? this.Rf() : this.jf(t);\n  }, t.prototype.jf = function (t) {\n    var i = en(this.lf);\n    this.sf = {\n      m: (t[0].clientX - i.left + (t[1].clientX - i.left)) / 2,\n      g: (t[0].clientY - i.top + (t[1].clientY - i.top)) / 2\n    }, this.rf = un(t[0], t[1]), void 0 !== this.ff.Of && this.ff.Of(), this.vf();\n  }, t.prototype.Rf = function () {\n    null !== this.sf && (this.sf = null, void 0 !== this.ff.If && this.ff.If());\n  }, t.prototype.Cf = function (t) {\n    this.nf && this.nf();\n    var i = this.Mf(t);\n    this.bf(i, this.ff.Uf);\n  }, t.prototype.Bf = function (t) {\n    var i = this.Mf(t);\n    this.bf(i, this.ff.qf), this.tf = !0, this.Jl = !0;\n  }, t.prototype.bf = function (t, i) {\n    i && i.call(this.ff, t);\n  }, t.prototype.Mf = function (t) {\n    var i;\n    i = \"touches\" in t && t.touches.length ? t.touches[0] : \"changedTouches\" in t && t.changedTouches.length ? t.changedTouches[0] : t;\n    var n = en(this.lf);\n    return {\n      Hf: i.clientX,\n      Yf: i.clientY,\n      yf: i.pageX,\n      kf: i.pageY,\n      Kf: i.screenX,\n      $f: i.screenY,\n      Xf: i.clientX - n.left,\n      Zf: i.clientY - n.top,\n      Jf: t.ctrlKey,\n      Gf: t.altKey,\n      Qf: t.shiftKey,\n      tc: t.metaKey,\n      ic: t.type.startsWith(\"mouse\") ? \"mouse\" : \"touch\",\n      nc: t.view\n    };\n  }, t;\n}();\n\nfunction en(t) {\n  return t.getBoundingClientRect() || {\n    left: 0,\n    top: 0\n  };\n}\n\nfunction un(t, i) {\n  var n = t.clientX - i.clientX,\n      h = t.clientY - i.clientY;\n  return Math.sqrt(n * n + h * h);\n}\n\nfunction an(t) {\n  return Boolean(t.touches);\n}\n\nfunction on(t) {\n  t.cancelable && t.preventDefault();\n}\n\nvar ln = function () {\n  function t(t, i, n, h) {\n    this.xu = new vi(200), this.se = 0, this.hc = \"\", this.Vu = \"\", this.gu = [], this.sc = new Map(), this.se = t, this.hc = i, this.Vu = Ot(t, n, h);\n  }\n\n  return t.prototype.an = function () {\n    delete this.xu, this.gu = [], this.sc.clear();\n  }, t.prototype.rc = function (t, i, n, h, s) {\n    var r = this.ec(t, i);\n\n    if (\"left\" !== s) {\n      var e = Zi(t.canvas);\n      n -= Math.floor(r.uc * e);\n    }\n\n    h -= Math.floor(r.wt / 2), t.drawImage(r.ac, n, h, r.dt, r.wt);\n  }, t.prototype.ec = function (t, i) {\n    var n,\n        h = this;\n    if (this.sc.has(i)) n = l(this.sc.get(i));else {\n      if (this.gu.length >= 200) {\n        var s = l(this.gu.shift());\n        this.sc.delete(s);\n      }\n\n      var r = Zi(t.canvas),\n          e = Math.ceil(this.se / 4.5),\n          u = Math.round(this.se / 10),\n          a = Math.ceil(this.xu.Bt(t, i)),\n          o = ht(Math.round(a + 2 * e)),\n          f = ht(this.se + 2 * e),\n          c = Qi(document, new Xi(o, f));\n      n = {\n        Lt: i,\n        uc: Math.round(Math.max(1, a)),\n        dt: Math.ceil(o * r),\n        wt: Math.ceil(f * r),\n        ac: c\n      }, 0 !== a && (this.gu.push(n.Lt), this.sc.set(n.Lt, n)), z(t = Ji(n.ac), r, function () {\n        t.font = h.Vu, t.fillStyle = h.hc, t.fillText(i, 0, f - e - u);\n      });\n    }\n    return n;\n  }, t;\n}(),\n    fn = function () {\n  function t(t, i, n, h) {\n    var s = this;\n    this.Jt = null, this.oc = null, this.lc = null, this.fc = !1, this.cc = new vi(50), this.vc = new ln(11, \"#000\"), this.hc = null, this.Vu = null, this._c = 0, this.dc = function () {\n      s.wc(s.ol.P()), s._i.Mc().ct().Lr();\n    }, this.bc = function () {\n      s._i.Mc().ct().Lr();\n    }, this._i = t, this.xi = i, this.ol = n, this.mc = \"left\" === h, this.gc = document.createElement(\"div\"), this.gc.style.height = \"100%\", this.gc.style.overflow = \"hidden\", this.gc.style.width = \"25px\", this.gc.style.left = \"0\", this.gc.style.position = \"relative\", this.pc = tn(this.gc, new Xi(16, 16)), this.pc.subscribeCanvasConfigured(this.dc);\n    var r = this.pc.canvas;\n    r.style.position = \"absolute\", r.style.zIndex = \"1\", r.style.left = \"0\", r.style.top = \"0\", this.yc = tn(this.gc, new Xi(16, 16)), this.yc.subscribeCanvasConfigured(this.bc);\n    var e = this.yc.canvas;\n    e.style.position = \"absolute\", e.style.zIndex = \"2\", e.style.left = \"0\", e.style.top = \"0\";\n    var u = {\n      Ff: this.kc.bind(this),\n      Sf: this.xc.bind(this),\n      Vf: this.Nc.bind(this),\n      Tf: this.Sc.bind(this),\n      Af: this.Dc.bind(this),\n      mf: this.Cc.bind(this),\n      Uf: this.Tc.bind(this)\n    };\n    this.Ac = new rn(this.yc.canvas, u, {\n      xf: !1,\n      Nf: !0\n    });\n  }\n\n  return t.prototype.an = function () {\n    this.Ac.an(), this.yc.unsubscribeCanvasConfigured(this.bc), this.yc.destroy(), this.pc.unsubscribeCanvasConfigured(this.dc), this.pc.destroy(), null !== this.Jt && this.Jt.Rh().rn(this), this.Jt = null, null !== this.lc && (clearTimeout(this.lc), this.lc = null), this.vc.an();\n  }, t.prototype.Ec = function () {\n    return this.gc;\n  }, t.prototype.Lc = function () {\n    return this.xi.backgroundColor;\n  }, t.prototype.N = function () {\n    return f(this.Jt).P().borderColor;\n  }, t.prototype.Bc = function () {\n    return this.xi.textColor;\n  }, t.prototype.Vt = function () {\n    return this.xi.fontSize;\n  }, t.prototype.Fc = function () {\n    return Ot(this.Vt(), this.xi.fontFamily);\n  }, t.prototype.Vc = function () {\n    var t = this.ol.P(),\n        i = this.hc !== t.et,\n        n = this.Vu !== t.kt;\n    return (i || n) && (this.wc(t), this.hc = t.et), n && (this.cc.pu(), this.Vu = t.kt), t;\n  }, t.prototype.zc = function () {\n    if (null === this.Jt) return 0;\n    var t = 34,\n        i = this.Vc(),\n        n = Ji(this.pc.canvas),\n        h = this.Jt.Vn();\n    n.font = this.Fc(), h.length > 0 && (t = Math.max(this.cc.Bt(n, h[0].Ln), this.cc.Bt(n, h[h.length - 1].Ln)));\n\n    for (var s = this.Oc(), r = s.length; r--;) {\n      var e = this.cc.Bt(n, s[r].Lt());\n      e > t && (t = e);\n    }\n\n    var u = Math.ceil(i.Dt + i.St + i.At + i.Et + t);\n    return u += u % 2;\n  }, t.prototype.Pc = function (t) {\n    if (t.ht < 0 || t.st < 0) throw new Error(\"Try to set invalid size to PriceAxisWidget \" + JSON.stringify(t));\n    null !== this.oc && this.oc.fn(t) || (this.oc = t, this.pc.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.yc.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.gc.style.width = t.ht + \"px\", this.gc.style.height = t.st + \"px\", this.gc.style.minWidth = t.ht + \"px\");\n  }, t.prototype.Ic = function () {\n    return f(this.oc).ht;\n  }, t.prototype.li = function (t) {\n    this.Jt !== t && (null !== this.Jt && this.Jt.Rh().rn(this), this.Jt = t, t.Rh().tn(this.Hn.bind(this), this));\n  }, t.prototype.X = function () {\n    return this.Jt;\n  }, t.prototype.pu = function () {\n    var t = this._i.Wc();\n\n    this._i.Mc().ct().Uo(t, f(this.X()));\n  }, t.prototype.Rc = function (t) {\n    if (null !== this.oc) {\n      if (1 !== t) {\n        var i = Ji(this.pc.canvas);\n        this.jc(), this.Uc(i, this.pc.pixelRatio), this.uu(i, this.pc.pixelRatio), this.qc(i, this.pc.pixelRatio), this.Hc(i, this.pc.pixelRatio);\n      }\n\n      var n = Ji(this.yc.canvas),\n          h = this.oc.ht,\n          s = this.oc.st;\n      z(n, this.yc.pixelRatio, function () {\n        n.clearRect(0, 0, h, s);\n      }), this.Yc(n, this.yc.pixelRatio);\n    }\n  }, t.prototype.Kc = function () {\n    return this.pc.canvas;\n  }, t.prototype.kc = function (t) {\n    if (null !== this.Jt && !this.Jt.Qt() && this._i.Mc().P().handleScale.axisPressedMouseMove.price) {\n      var i = this._i.Mc().ct(),\n          n = this._i.Wc();\n\n      this.fc = !0, i.zo(n, this.Jt, t.Zf);\n    }\n  }, t.prototype.xc = function (t) {\n    if (null !== this.Jt && this._i.Mc().P().handleScale.axisPressedMouseMove.price) {\n      var i = this._i.Mc().ct(),\n          n = this._i.Wc(),\n          h = this.Jt;\n\n      i.Oo(n, h, t.Zf);\n    }\n  }, t.prototype.Nc = function () {\n    if (null !== this.Jt && this._i.Mc().P().handleScale.axisPressedMouseMove.price) {\n      var t = this._i.Mc().ct(),\n          i = this._i.Wc(),\n          n = this.Jt;\n\n      this.fc && (this.fc = !1, t.Po(i, n));\n    }\n  }, t.prototype.Sc = function (t) {\n    if (null !== this.Jt && this._i.Mc().P().handleScale.axisPressedMouseMove.price) {\n      var i = this._i.Mc().ct(),\n          n = this._i.Wc();\n\n      this.fc = !1, i.Po(n, this.Jt);\n    }\n  }, t.prototype.Dc = function (t) {\n    this._i.Mc().P().handleScale.axisDoubleClickReset && this.pu();\n  }, t.prototype.Cc = function (t) {\n    null !== this.Jt && (!this._i.Mc().ct().P().handleScale.axisPressedMouseMove.price || this.Jt.vh() || this.Jt._h() || this.$c(1));\n  }, t.prototype.Tc = function (t) {\n    this.$c(0);\n  }, t.prototype.Oc = function () {\n    var t = this,\n        i = [],\n        n = null === this.Jt ? void 0 : this.Jt;\n    return function (h) {\n      for (var s = 0; s < h.length; ++s) for (var r = h[s].fi(t._i.Wc(), n), e = 0; e < r.length; e++) i.push(r[e]);\n    }(this._i.Wc().zh()), i;\n  }, t.prototype.Uc = function (t, i) {\n    var n = this;\n\n    if (null !== this.oc) {\n      var h = this.oc.ht,\n          s = this.oc.st;\n      z(t, i, function () {\n        O(t, 0, 0, h, s, n.Lc());\n      });\n    }\n  }, t.prototype.uu = function (t, i) {\n    if (null !== this.oc && null !== this.Jt && this.Jt.P().borderVisible) {\n      t.save(), t.fillStyle = this.N();\n      var n,\n          h = Math.max(1, Math.floor(this.Vc().Dt * i));\n      n = this.mc ? Math.floor(this.oc.ht * i) - h : 0, t.fillRect(n, 0, h, Math.ceil(this.oc.st * i)), t.restore();\n    }\n  }, t.prototype.qc = function (t, i) {\n    if (null !== this.oc && null !== this.Jt) {\n      var n = this.Jt.Vn();\n      t.save(), t.strokeStyle = this.N(), t.font = this.Fc(), t.fillStyle = this.N();\n      var h = this.Vc(),\n          s = this.Jt.P().borderVisible && this.Jt.P().drawTicks,\n          r = this.mc ? Math.floor((this.oc.ht - h.St) * i - h.Dt * i) : Math.floor(h.Dt * i),\n          e = this.mc ? Math.round(r - h.At * i) : Math.round(r + h.St * i + h.At * i),\n          u = this.mc ? \"right\" : \"left\",\n          a = Math.max(1, Math.floor(i)),\n          o = Math.floor(.5 * i);\n\n      if (s) {\n        var l = Math.round(h.St * i);\n        t.beginPath();\n\n        for (var f = 0, c = n; f < c.length; f++) {\n          var v = c[f];\n          t.rect(r, Math.round(v.En * i) - o, l, a);\n        }\n\n        t.fill();\n      }\n\n      t.fillStyle = this.Bc();\n\n      for (var _ = 0, d = n; _ < d.length; _++) {\n        v = d[_];\n        this.vc.rc(t, v.Ln, e, Math.round(v.En * i), u);\n      }\n\n      t.restore();\n    }\n  }, t.prototype.jc = function () {\n    if (null !== this.oc && null !== this.Jt) {\n      var t = this.oc.st / 2,\n          i = [],\n          n = this.Jt.zh().slice(),\n          h = this._i.Wc(),\n          s = this.Vc();\n\n      this.Jt === h.Di() && this._i.Wc().zh().forEach(function (t) {\n        h.Tu(t) && n.push(t);\n      });\n      var r = this.Jt.Vh()[0],\n          e = this.Jt;\n      n.forEach(function (n) {\n        var s = n.fi(h, e);\n        s.forEach(function (t) {\n          t.Yt(null), t.Kt() && i.push(t);\n        }), r === n && s.length > 0 && (t = s[0].zt());\n      });\n      var u = i.filter(function (i) {\n        return i.zt() <= t;\n      }),\n          a = i.filter(function (i) {\n        return i.zt() > t;\n      });\n\n      if (u.sort(function (t, i) {\n        return i.zt() - t.zt();\n      }), u.length && a.length && a.push(u[0]), a.sort(function (t, i) {\n        return t.zt() - i.zt();\n      }), i.forEach(function (t) {\n        return t.Yt(t.zt());\n      }), this.Jt.P().alignLabels) {\n        for (var o = 1; o < u.length; o++) {\n          var l = u[o],\n              f = (v = u[o - 1]).wt(s, !1);\n          l.zt() > (_ = v.Ht()) - f && l.Yt(_ - f);\n        }\n\n        for (var c = 1; c < a.length; c++) {\n          var v, _;\n\n          l = a[c], f = (v = a[c - 1]).wt(s, !0);\n          l.zt() < (_ = v.Ht()) + f && l.Yt(_ + f);\n        }\n      }\n    }\n  }, t.prototype.Hc = function (t, i) {\n    var n = this;\n\n    if (null !== this.oc) {\n      t.save();\n      var h = this.oc,\n          s = this.Oc(),\n          r = this.Vc(),\n          e = this.mc ? \"right\" : \"left\";\n      s.forEach(function (s) {\n        if (s.$t()) {\n          var u = s.I(f(n.Jt));\n          t.save(), u.h(t, r, n.cc, h.ht, e, i), t.restore();\n        }\n      }), t.restore();\n    }\n  }, t.prototype.Yc = function (t, i) {\n    var n = this;\n\n    if (null !== this.oc && null !== this.Jt) {\n      t.save();\n\n      var h = this.oc,\n          s = this._i.Mc().ct(),\n          r = [],\n          e = this._i.Wc(),\n          u = s.Nl().fi(e, this.Jt);\n\n      u.length && r.push(u);\n      var a = this.Vc(),\n          o = this.mc ? \"right\" : \"left\";\n      r.forEach(function (s) {\n        s.forEach(function (s) {\n          t.save(), s.I(f(n.Jt)).h(t, a, n.cc, h.ht, o, i), t.restore();\n        });\n      }), t.restore();\n    }\n  }, t.prototype.$c = function (t) {\n    this.gc.style.cursor = 1 === t ? \"ns-resize\" : \"default\";\n  }, t.prototype.Hn = function () {\n    var t = this,\n        i = this.zc();\n\n    if (this._c < i) {\n      var n = this._i.Mc();\n\n      null === this.lc && (this.lc = setTimeout(function () {\n        n && n.ct()._l(), t.lc = null;\n      }, 100));\n    }\n\n    this._c = i;\n  }, t.prototype.wc = function (t) {\n    this.vc.an(), this.vc = new ln(t.Vt, t.et, t.he);\n  }, t;\n}(),\n    cn = sn,\n    vn = function () {\n  function t(t, i) {\n    var n = this;\n    this.oc = new Xi(0, 0), this.Xc = null, this.Zc = null, this.Jc = null, this.Gc = !1, this.Qc = new G(), this.tv = 0, this.iv = !1, this.nv = null, this.hv = !1, this.sv = null, this.dc = function () {\n      return n.rv && n.hi().Lr();\n    }, this.bc = function () {\n      return n.rv && n.hi().Lr();\n    }, this.ev = t, this.rv = i, this.rv.Yo().tn(this.uv.bind(this), this, !0), this.av = document.createElement(\"td\"), this.av.style.padding = \"0\", this.av.style.position = \"relative\";\n    var h = document.createElement(\"div\");\n    h.style.width = \"100%\", h.style.height = \"100%\", h.style.position = \"relative\", h.style.overflow = \"hidden\", this.ov = document.createElement(\"td\"), this.ov.style.padding = \"0\", this.lv = document.createElement(\"td\"), this.lv.style.padding = \"0\", this.av.appendChild(h), this.pc = tn(h, new Xi(16, 16)), this.pc.subscribeCanvasConfigured(this.dc);\n    var s = this.pc.canvas;\n    s.style.position = \"absolute\", s.style.zIndex = \"1\", s.style.left = \"0\", s.style.top = \"0\", this.yc = tn(h, new Xi(16, 16)), this.yc.subscribeCanvasConfigured(this.bc);\n    var r = this.yc.canvas;\n    r.style.position = \"absolute\", r.style.zIndex = \"2\", r.style.left = \"0\", r.style.top = \"0\", this.fv = document.createElement(\"tr\"), this.fv.appendChild(this.ov), this.fv.appendChild(this.av), this.fv.appendChild(this.lv), this.cv();\n    var e = this.Mc().P().handleScroll;\n    this.Ac = new rn(this.yc.canvas, this, {\n      xf: !e.vertTouchDrag,\n      Nf: !e.horzTouchDrag\n    });\n  }\n\n  return t.prototype.an = function () {\n    null !== this.Xc && this.Xc.an(), null !== this.Zc && this.Zc.an(), this.yc.unsubscribeCanvasConfigured(this.bc), this.yc.destroy(), this.pc.unsubscribeCanvasConfigured(this.dc), this.pc.destroy(), null !== this.rv && this.rv.Yo().rn(this), this.Ac.an();\n  }, t.prototype.Wc = function () {\n    return f(this.rv);\n  }, t.prototype.vv = function (i) {\n    null !== this.rv && this.rv.Yo().rn(this), this.rv = i, null !== this.rv && this.rv.Yo().tn(t.prototype.uv.bind(this), this, !0), this.cv();\n  }, t.prototype.Mc = function () {\n    return this.ev;\n  }, t.prototype.Ec = function () {\n    return this.fv;\n  }, t.prototype.cv = function () {\n    if (null !== this.rv && (this._v(), 0 !== this.hi().F().length)) {\n      if (null !== this.Xc) {\n        var t = this.rv.Fo();\n        this.Xc.li(f(t));\n      }\n\n      if (null !== this.Zc) {\n        var i = this.rv.Vo();\n        this.Zc.li(f(i));\n      }\n    }\n  }, t.prototype.Do = function () {\n    return null !== this.rv ? this.rv.Do() : 0;\n  }, t.prototype.Co = function (t) {\n    this.rv && this.rv.Co(t);\n  }, t.prototype.mf = function (t) {\n    if (this.rv) {\n      var i = t.Xf,\n          n = t.Zf;\n      hn || this.dv(i, n);\n    }\n  }, t.prototype.Ff = function (t) {\n    if (this.iv = !1, this.hv = null !== this.nv, this.rv) {\n      if (document.activeElement !== document.body && document.activeElement !== document.documentElement) f(document.activeElement).blur();else {\n        var i = document.getSelection();\n        null !== i && i.removeAllRanges();\n      }\n      var n = this.hi();\n\n      if (!this.rv.Di().Qt() && !n.j().Qt()) {\n        if (null !== this.nv) {\n          var h = n.Nl();\n          this.sv = {\n            x: h.Mt(),\n            y: h.bt()\n          }, this.nv = {\n            x: t.Xf,\n            y: t.Zf\n          };\n        }\n\n        hn || this.dv(t.Xf, t.Zf);\n      }\n    }\n  }, t.prototype.gf = function (t) {\n    if (this.rv) {\n      var i = t.Xf,\n          n = t.Zf;\n\n      if (this.wv() && this.Mv(), !hn) {\n        this.dv(i, n);\n        var h = this.zu(i, n);\n        this.hi().bl(h && {\n          ml: h.ml,\n          bv: h.bv\n        }), null !== h && void 0 !== h.nc.mv && h.nc.mv(i, n);\n      }\n    }\n  }, t.prototype.Ef = function (t) {\n    if (null !== this.rv) {\n      var i = t.Xf,\n          n = t.Zf,\n          h = this.zu(i, n);\n\n      if (null !== h && void 0 !== h.nc.gv && h.nc.gv(i, n), this.Qc.un()) {\n        var s = this.hi().Nl().R();\n        this.Qc.en(s, {\n          x: i,\n          y: n\n        });\n      }\n\n      this.pv();\n    }\n  }, t.prototype.Sf = function (t) {\n    if (null !== this.rv) {\n      var i = this.hi(),\n          n = t.Xf,\n          h = t.Zf;\n\n      if (null !== this.nv) {\n        this.hv = !1;\n        var s = f(this.sv),\n            r = s.x + (n - this.nv.x),\n            e = s.y + (h - this.nv.y);\n        this.dv(r, e);\n      } else this.wv() || this.dv(n, h);\n\n      if (!i.j().Qt()) {\n        var u = this.ev.P().handleScroll;\n\n        if (u.pressedMouseMove && \"touch\" !== t.ic || (u.horzTouchDrag || u.vertTouchDrag) && \"mouse\" !== t.ic) {\n          var a = this.rv.Di();\n          null !== this.Jc || this.yv() || (this.Jc = {\n            x: t.Hf,\n            y: t.Yf\n          }), null === this.Jc || this.Jc.x === t.Hf && this.Jc.y === t.Yf || this.Gc || (a.Qt() || i.Io(this.rv, a, t.Zf), i.Ll(t.Xf), this.Gc = !0), this.Gc && (a.Qt() || i.Wo(this.rv, a, t.Zf), i.Bl(t.Xf));\n        }\n      }\n    }\n  }, t.prototype.Tf = function (t) {\n    if (null !== this.rv) {\n      this.iv = !1;\n      var i = this.hi();\n\n      if (this.Gc) {\n        var n = this.rv.Di();\n        i.Ro(this.rv, n), i.Fl(), this.Jc = null, this.Gc = !1;\n      }\n    }\n  }, t.prototype.qf = function (t) {\n    if (this.iv = !0, null === this.nv && cn) {\n      var i = {\n        x: t.Xf,\n        y: t.Zf\n      };\n      this.kv(i, i);\n    }\n  }, t.prototype.Uf = function (t) {\n    null !== this.rv && (this.rv.ct().bl(null), sn || this.Mv());\n  }, t.prototype.xv = function () {\n    return this.Qc;\n  }, t.prototype.Of = function () {\n    this.tv = 1;\n  }, t.prototype.Pf = function (t, i) {\n    if (this.ev.P().handleScale.pinch) {\n      var n = 5 * (i - this.tv);\n      this.tv = i, this.hi().Al(t.m, n);\n    }\n  }, t.prototype.zu = function (t, i) {\n    var n = this.rv;\n    if (null === n) return null;\n\n    for (var h = 0, s = n.zh(); h < s.length; h++) {\n      var r = s[h],\n          e = this.Nv(r.ci(n), t, i);\n      if (null !== e) return {\n        ml: r,\n        nc: e.nc,\n        bv: e.bv\n      };\n    }\n\n    return null;\n  }, t.prototype.Sv = function (t, i) {\n    f(\"left\" === i ? this.Xc : this.Zc).Pc(new Xi(t, this.oc.st));\n  }, t.prototype.Dv = function () {\n    return this.oc;\n  }, t.prototype.Pc = function (t) {\n    if (t.ht < 0 || t.st < 0) throw new Error(\"Try to set invalid size to PaneWidget \" + JSON.stringify(t));\n    this.oc.fn(t) || (this.oc = t, this.pc.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.yc.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.av.style.width = t.ht + \"px\", this.av.style.height = t.st + \"px\");\n  }, t.prototype.Cv = function () {\n    var t = f(this.rv);\n    t.Bo(t.Fo()), t.Bo(t.Vo());\n\n    for (var i = 0, n = t.Vh(); i < n.length; i++) {\n      var h = n[i];\n\n      if (t.Tu(h)) {\n        var s = h.X();\n        null !== s && t.Bo(s), h.Wi();\n      }\n    }\n  }, t.prototype.Kc = function () {\n    return this.pc.canvas;\n  }, t.prototype.Rc = function (t) {\n    if (0 !== t && null !== this.rv) {\n      if (t > 1 && this.Cv(), null !== this.Xc && this.Xc.Rc(t), null !== this.Zc && this.Zc.Rc(t), 1 !== t) {\n        var i = Ji(this.pc.canvas);\n        i.save(), this.Uc(i, this.Tv(), this.pc.pixelRatio), this.rv && (this.Av(i, this.pc.pixelRatio), this.Ev(i, this.pc.pixelRatio), this.Lv(i, this.pc.pixelRatio)), i.restore();\n      }\n\n      var n = Ji(this.yc.canvas);\n      n.clearRect(0, 0, Math.ceil(this.oc.ht * this.yc.pixelRatio), Math.ceil(this.oc.st * this.yc.pixelRatio)), this.Bv(n, this.yc.pixelRatio);\n    }\n  }, t.prototype.Fv = function () {\n    return this.Xc;\n  }, t.prototype.Vv = function () {\n    return this.Zc;\n  }, t.prototype.Tv = function () {\n    return this.ev.P().layout.backgroundColor;\n  }, t.prototype.uv = function () {\n    null !== this.rv && this.rv.Yo().rn(this), this.rv = null;\n  }, t.prototype.Uc = function (t, i, n) {\n    var h = this;\n    z(t, n, function () {\n      O(t, 0, 0, h.oc.ht, h.oc.st, i);\n    });\n  }, t.prototype.Av = function (t, i) {\n    for (var n = f(this.rv), h = this.hi().kl().ci(n), s = n.wt(), r = n.dt(), e = 0, u = h; e < u.length; e++) {\n      var a = u[e];\n      t.save();\n      var o = a.I(s, r);\n      null !== o && o.h(t, i, !1), t.restore();\n    }\n  }, t.prototype.Ev = function (t, i) {\n    var n = this.hi().xl();\n    this.zv(n, t, i), this.Ov(n, t, i);\n  }, t.prototype.Bv = function (t, i) {\n    this.Ov(this.hi().Nl(), t, i);\n  }, t.prototype.Lv = function (t, i) {\n    for (var n = f(this.rv).zh(), h = 0, s = n; h < s.length; h++) {\n      var r = s[h];\n      this.zv(r, t, i);\n    }\n\n    for (var e = 0, u = n; e < u.length; e++) {\n      r = u[e];\n      this.Ov(r, t, i);\n    }\n  }, t.prototype.Ov = function (t, i, n) {\n    for (var h = f(this.rv), s = t.ci(h), r = h.wt(), e = h.dt(), u = h.ct().Ml(), a = null !== u && u.ml === t, o = null !== u && a && void 0 !== u.bv ? u.bv.Ou : void 0, l = 0, c = s; l < c.length; l++) {\n      var v = c[l].I(r, e);\n      null !== v && (i.save(), v.h(i, n, a, o), i.restore());\n    }\n  }, t.prototype.zv = function (t, i, n) {\n    for (var h = f(this.rv), s = t.ci(h), r = h.wt(), e = h.dt(), u = h.ct().Ml(), a = null !== u && u.ml === t, o = null !== u && a && void 0 !== u.bv ? u.bv.Ou : void 0, l = 0, c = s; l < c.length; l++) {\n      var v = c[l].I(r, e);\n      null !== v && void 0 !== v.u && (i.save(), v.u(i, n, a, o), i.restore());\n    }\n  }, t.prototype.Nv = function (t, i, n) {\n    for (var h = 0, s = t; h < s.length; h++) {\n      var r = s[h],\n          e = r.I(this.oc.st, this.oc.ht);\n\n      if (null !== e && e.zu) {\n        var u = e.zu(i, n);\n        if (null !== u) return {\n          nc: r,\n          bv: u\n        };\n      }\n    }\n\n    return null;\n  }, t.prototype._v = function () {\n    if (null !== this.rv) {\n      var t = this.ev;\n      t.P().leftPriceScale.visible || null === this.Xc || (this.ov.removeChild(this.Xc.Ec()), this.Xc.an(), this.Xc = null), t.P().rightPriceScale.visible || null === this.Zc || (this.lv.removeChild(this.Zc.Ec()), this.Zc.an(), this.Zc = null);\n      var i = t.ct().jl();\n      t.P().leftPriceScale.visible && null === this.Xc && (this.Xc = new fn(this, t.P().layout, i, \"left\"), this.ov.appendChild(this.Xc.Ec())), t.P().rightPriceScale.visible && null === this.Zc && (this.Zc = new fn(this, t.P().layout, i, \"right\"), this.lv.appendChild(this.Zc.Ec()));\n    }\n  }, t.prototype.wv = function () {\n    return cn && null === this.nv;\n  }, t.prototype.yv = function () {\n    return cn && this.iv || null !== this.nv;\n  }, t.prototype.Pv = function (t) {\n    return Math.max(0, Math.min(t, this.oc.ht - 1));\n  }, t.prototype.Iv = function (t) {\n    return Math.max(0, Math.min(t, this.oc.st - 1));\n  }, t.prototype.dv = function (t, i) {\n    this.hi().Pl(this.Pv(t), this.Iv(i), f(this.rv));\n  }, t.prototype.Mv = function () {\n    this.hi().Wl();\n  }, t.prototype.pv = function () {\n    this.hv && (this.nv = null, this.Mv());\n  }, t.prototype.kv = function (t, i) {\n    this.nv = t, this.hv = !1, this.dv(i.x, i.y);\n    var n = this.hi().Nl();\n    this.sv = {\n      x: n.Mt(),\n      y: n.bt()\n    };\n  }, t.prototype.hi = function () {\n    return this.ev.ct();\n  }, t;\n}(),\n    _n = function () {\n  function t(t, i, n, h) {\n    var s = this;\n    this.T = !0, this.oc = new Xi(0, 0), this.dc = function () {\n      return s.Rc(3);\n    }, this.mc = \"left\" === t, this.ol = n.jl, this.xi = i, this.Wv = h, this.gc = document.createElement(\"div\"), this.gc.style.width = \"25px\", this.gc.style.height = \"100%\", this.gc.style.overflow = \"hidden\", this.pc = tn(this.gc, new Xi(16, 16)), this.pc.subscribeCanvasConfigured(this.dc);\n  }\n\n  return t.prototype.an = function () {\n    this.pc.unsubscribeCanvasConfigured(this.dc), this.pc.destroy();\n  }, t.prototype.Ec = function () {\n    return this.gc;\n  }, t.prototype.Dv = function () {\n    return this.oc;\n  }, t.prototype.Pc = function (t) {\n    if (t.ht < 0 || t.st < 0) throw new Error(\"Try to set invalid size to PriceAxisStub \" + JSON.stringify(t));\n    this.oc.fn(t) || (this.oc = t, this.pc.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.gc.style.width = t.ht + \"px\", this.gc.style.minWidth = t.ht + \"px\", this.gc.style.height = t.st + \"px\", this.T = !0);\n  }, t.prototype.Rc = function (t) {\n    if ((!(t < 3) || this.T) && 0 !== this.oc.ht && 0 !== this.oc.st) {\n      this.T = !1;\n      var i = Ji(this.pc.canvas);\n      this.Uc(i, this.pc.pixelRatio), this.uu(i, this.pc.pixelRatio);\n    }\n  }, t.prototype.Kc = function () {\n    return this.pc.canvas;\n  }, t.prototype.uu = function (t, i) {\n    if (this.Wv()) {\n      var n = this.oc.ht;\n      t.save(), t.fillStyle = this.xi.timeScale.borderColor;\n      var h = Math.floor(this.ol.P().Dt * i),\n          s = this.mc ? Math.round(n * i) - h : 0;\n      t.fillRect(s, 0, h, h), t.restore();\n    }\n  }, t.prototype.Uc = function (t, i) {\n    var n = this;\n    z(t, i, function () {\n      O(t, 0, 0, n.oc.ht, n.oc.st, n.xi.layout.backgroundColor);\n    });\n  }, t;\n}();\n\nfunction dn(t, i) {\n  return t.Os > i.Os ? t : i;\n}\n\nvar wn = function () {\n  function t(t) {\n    var i = this;\n    this.Rv = null, this.jv = null, this.ne = null, this.Uv = !1, this.oc = new Xi(0, 0), this.dc = function () {\n      return i.ev.ct().Lr();\n    }, this.bc = function () {\n      return i.ev.ct().Lr();\n    }, this.ev = t, this.xi = t.P().layout, this.qv = document.createElement(\"tr\"), this.Hv = document.createElement(\"td\"), this.Hv.style.padding = \"0\", this.Yv = document.createElement(\"td\"), this.Yv.style.padding = \"0\", this.gc = document.createElement(\"td\"), this.gc.style.height = \"25px\", this.gc.style.padding = \"0\", this.Kv = document.createElement(\"div\"), this.Kv.style.width = \"100%\", this.Kv.style.height = \"100%\", this.Kv.style.position = \"relative\", this.Kv.style.overflow = \"hidden\", this.gc.appendChild(this.Kv), this.pc = tn(this.Kv, new Xi(16, 16)), this.pc.subscribeCanvasConfigured(this.dc);\n    var n = this.pc.canvas;\n    n.style.position = \"absolute\", n.style.zIndex = \"1\", n.style.left = \"0\", n.style.top = \"0\", this.yc = tn(this.Kv, new Xi(16, 16)), this.yc.subscribeCanvasConfigured(this.bc);\n    var h = this.yc.canvas;\n    h.style.position = \"absolute\", h.style.zIndex = \"2\", h.style.left = \"0\", h.style.top = \"0\", this.qv.appendChild(this.Hv), this.qv.appendChild(this.gc), this.qv.appendChild(this.Yv), this.$v(), this.ev.ct().So().tn(this.$v.bind(this), this), this.Ac = new rn(this.yc.canvas, this, {\n      xf: !0,\n      Nf: !1\n    });\n  }\n\n  return t.prototype.an = function () {\n    this.Ac.an(), null !== this.Rv && this.Rv.an(), null !== this.jv && this.jv.an(), this.yc.unsubscribeCanvasConfigured(this.bc), this.yc.destroy(), this.pc.unsubscribeCanvasConfigured(this.dc), this.pc.destroy();\n  }, t.prototype.Ec = function () {\n    return this.qv;\n  }, t.prototype.Xv = function () {\n    return this.Rv;\n  }, t.prototype.Zv = function () {\n    return this.jv;\n  }, t.prototype.Ff = function (t) {\n    if (!this.Uv) {\n      this.Uv = !0;\n      var i = this.ev.ct();\n      !i.j().Qt() && this.ev.P().handleScale.axisPressedMouseMove.time && i.Tl(t.Xf);\n    }\n  }, t.prototype.Vf = function () {\n    var t = this.ev.ct();\n    !t.j().Qt() && this.Uv && (this.Uv = !1, this.ev.P().handleScale.axisPressedMouseMove.time && t.zl());\n  }, t.prototype.Sf = function (t) {\n    var i = this.ev.ct();\n    !i.j().Qt() && this.ev.P().handleScale.axisPressedMouseMove.time && i.Vl(t.Xf);\n  }, t.prototype.Tf = function (t) {\n    this.Uv = !1;\n    var i = this.ev.ct();\n    i.j().Qt() && !this.ev.P().handleScale.axisPressedMouseMove.time || i.zl();\n  }, t.prototype.Af = function () {\n    this.ev.P().handleScale.axisDoubleClickReset && this.ev.ct().Ol();\n  }, t.prototype.mf = function (t) {\n    this.ev.ct().P().handleScale.axisPressedMouseMove.time && this.$c(1);\n  }, t.prototype.Uf = function (t) {\n    this.$c(0);\n  }, t.prototype.Dv = function () {\n    return this.oc;\n  }, t.prototype.Jv = function (t, i, n) {\n    this.oc && this.oc.fn(t) || (this.oc = t, this.pc.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.yc.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.gc.style.width = t.ht + \"px\", this.gc.style.height = t.st + \"px\"), null !== this.Rv && this.Rv.Pc(new Xi(i, t.st)), null !== this.jv && this.jv.Pc(new Xi(n, t.st));\n  }, t.prototype.Gv = function () {\n    var t = this.Qv();\n    return Math.ceil(t.Dt + t.St + t.Vt + t.Ct + t.Tt);\n  }, t.prototype.B = function () {\n    this.ev.ct().j().Vn();\n  }, t.prototype.Kc = function () {\n    return this.pc.canvas;\n  }, t.prototype.Rc = function (t) {\n    if (0 !== t) {\n      if (1 !== t) {\n        var i = Ji(this.pc.canvas);\n        this.Uc(i, this.pc.pixelRatio), this.uu(i, this.pc.pixelRatio), this.qc(i, this.pc.pixelRatio), null !== this.Rv && this.Rv.Rc(t), null !== this.jv && this.jv.Rc(t);\n      }\n\n      var n = Ji(this.yc.canvas),\n          h = this.yc.pixelRatio;\n      n.clearRect(0, 0, Math.ceil(this.oc.ht * h), Math.ceil(this.oc.st * h)), this.t_([this.ev.ct().Nl()], n, h);\n    }\n  }, t.prototype.Uc = function (t, i) {\n    var n = this;\n    z(t, i, function () {\n      O(t, 0, 0, n.oc.ht, n.oc.st, n.Tv());\n    });\n  }, t.prototype.uu = function (t, i) {\n    if (this.ev.P().timeScale.borderVisible) {\n      t.save(), t.fillStyle = this.i_();\n      var n = Math.max(1, Math.floor(this.Qv().Dt * i));\n      t.fillRect(0, 0, Math.ceil(this.oc.ht * i), n), t.restore();\n    }\n  }, t.prototype.qc = function (t, i) {\n    var n = this,\n        h = this.ev.ct().j().Vn();\n\n    if (h && 0 !== h.length) {\n      var s = h.reduce(dn, h[0]).Os;\n      s > 30 && s < 40 && (s = 30), t.save(), t.strokeStyle = this.i_();\n      var r = this.Qv(),\n          e = r.Dt + r.St + r.Ct + r.Vt - r.Ft;\n      t.textAlign = \"center\", t.fillStyle = this.i_();\n      var u = Math.floor(this.Qv().Dt * i),\n          a = Math.max(1, Math.floor(i)),\n          o = Math.floor(.5 * i);\n\n      if (this.ev.ct().j().P().borderVisible) {\n        t.beginPath();\n\n        for (var l = Math.round(r.St * i), f = h.length; f--;) {\n          var c = Math.round(h[f].En * i);\n          t.rect(c - o, u, a, l);\n        }\n\n        t.fill();\n      }\n\n      t.fillStyle = this.ue(), z(t, i, function () {\n        t.font = n.n_();\n\n        for (var i = 0, r = h; i < r.length; i++) {\n          (o = r[i]).Os < s && t.fillText(o.Ln, o.En, e);\n        }\n\n        t.font = n.h_();\n\n        for (var u = 0, a = h; u < a.length; u++) {\n          var o;\n          (o = a[u]).Os >= s && t.fillText(o.Ln, o.En, e);\n        }\n      });\n    }\n  }, t.prototype.t_ = function (t, i, n) {\n    for (var h = this.Qv(), s = 0, r = t; s < r.length; s++) for (var e = 0, u = r[s].vi(); e < u.length; e++) {\n      var a = u[e];\n      i.save(), a.I().h(i, h, n), i.restore();\n    }\n  }, t.prototype.Tv = function () {\n    return this.xi.backgroundColor;\n  }, t.prototype.i_ = function () {\n    return this.ev.P().timeScale.borderColor;\n  }, t.prototype.ue = function () {\n    return this.xi.textColor;\n  }, t.prototype.se = function () {\n    return this.xi.fontSize;\n  }, t.prototype.n_ = function () {\n    return Ot(this.se(), this.xi.fontFamily);\n  }, t.prototype.h_ = function () {\n    return Ot(this.se(), this.xi.fontFamily, \"bold\");\n  }, t.prototype.Qv = function () {\n    null === this.ne && (this.ne = {\n      Dt: 1,\n      Ft: NaN,\n      Ct: NaN,\n      Tt: NaN,\n      ni: NaN,\n      St: 3,\n      Vt: NaN,\n      kt: \"\",\n      ii: new vi()\n    });\n    var t = this.ne,\n        i = this.n_();\n\n    if (t.kt !== i) {\n      var n = this.se();\n      t.Vt = n, t.kt = i, t.Ct = Math.ceil(n / 2.5), t.Tt = t.Ct, t.ni = Math.ceil(n / 2), t.Ft = Math.round(this.se() / 5), t.ii.pu();\n    }\n\n    return this.ne;\n  }, t.prototype.$c = function (t) {\n    this.gc.style.cursor = 1 === t ? \"ew-resize\" : \"default\";\n  }, t.prototype.$v = function () {\n    var t = this.ev.ct(),\n        i = t.P();\n    i.leftPriceScale.visible || null === this.Rv || (this.Hv.removeChild(this.Rv.Ec()), this.Rv.an(), this.Rv = null), i.rightPriceScale.visible || null === this.jv || (this.Yv.removeChild(this.jv.Ec()), this.jv.an(), this.jv = null);\n    var n = {\n      jl: this.ev.ct().jl()\n    };\n\n    if (i.leftPriceScale.visible && null === this.Rv) {\n      var h = function () {\n        return i.leftPriceScale.borderVisible && t.j().P().borderVisible;\n      };\n\n      this.Rv = new _n(\"left\", this.ev.P(), n, h), this.Hv.appendChild(this.Rv.Ec());\n    }\n\n    if (i.rightPriceScale.visible && null === this.jv) {\n      h = function () {\n        return i.rightPriceScale.borderVisible && t.j().P().borderVisible;\n      };\n\n      this.jv = new _n(\"right\", this.ev.P(), n, h), this.Yv.appendChild(this.jv.Ec());\n    }\n  }, t;\n}(),\n    Mn = function () {\n  function t(t, i) {\n    this.s_ = [], this.r_ = 0, this.zn = 0, this.Hs = 0, this.e_ = 0, this.u_ = 0, this.a_ = null, this.o_ = !1, this.Qc = new G(), this.ul = new G(), this.xi = i, this.qv = document.createElement(\"div\"), this.qv.classList.add(\"tv-lightweight-charts\"), this.qv.style.overflow = \"hidden\", this.qv.style.width = \"100%\", this.qv.style.height = \"100%\", this.l_ = document.createElement(\"table\"), this.l_.setAttribute(\"cellspacing\", \"0\"), this.qv.appendChild(this.l_), this.f_ = this.c_.bind(this), this.qv.addEventListener(\"wheel\", this.f_, {\n      passive: !1\n    }), this.hi = new $i(this.al.bind(this), this.xi), this.ct().Sl().tn(this.v_.bind(this), this), this.__ = new wn(this), this.l_.appendChild(this.__.Ec());\n    var n = this.xi.width,\n        h = this.xi.height;\n\n    if (0 === n || 0 === h) {\n      var s = t.getBoundingClientRect();\n      0 === n && (n = Math.floor(s.width), n -= n % 2), 0 === h && (h = Math.floor(s.height), h -= h % 2);\n    }\n\n    n = Math.max(70, n), h = Math.max(50, h), this.d_(n, h), this.w_(), t.appendChild(this.qv), this.M_(), this.hi.j().Hr().tn(this.hi._l.bind(this.hi), this), this.hi.So().tn(this.hi._l.bind(this.hi), this);\n  }\n\n  return t.prototype.ct = function () {\n    return this.hi;\n  }, t.prototype.P = function () {\n    return this.xi;\n  }, t.prototype.b_ = function () {\n    return this.s_;\n  }, t.prototype.an = function () {\n    this.qv.removeEventListener(\"wheel\", this.f_), 0 !== this.r_ && window.cancelAnimationFrame(this.r_), this.hi.Sl().rn(this), this.hi.j().Hr().rn(this), this.hi.So().rn(this), this.hi.an();\n\n    for (var t = 0, i = this.s_; t < i.length; t++) {\n      var n = i[t];\n      this.l_.removeChild(n.Ec()), n.xv().rn(this), n.an();\n    }\n\n    this.s_ = [], f(this.__).an(), null !== this.qv.parentElement && this.qv.parentElement.removeChild(this.qv), this.ul.an(), this.Qc.an(), delete this.qv;\n  }, t.prototype.d_ = function (t, i, n) {\n    if (void 0 === n && (n = !1), this.zn !== i || this.Hs !== t) {\n      this.zn = i, this.Hs = t;\n      var h = i + \"px\",\n          s = t + \"px\";\n      f(this.qv).style.height = h, f(this.qv).style.width = s, this.l_.style.height = h, this.l_.style.width = s, n ? this.m_(new Ut(3)) : this.hi._l();\n    }\n  }, t.prototype.Rc = function (t) {\n    void 0 === t && (t = new Ut(3));\n\n    for (var i = 0; i < this.s_.length; i++) this.s_[i].Rc(t.Ne(i).ke);\n\n    this.__.Rc(t.xe());\n  }, t.prototype.eh = function (t) {\n    this.hi.eh(t), this.M_();\n    var i = t.width || this.Hs,\n        n = t.height || this.zn;\n    this.d_(i, n);\n  }, t.prototype.xv = function () {\n    return this.Qc;\n  }, t.prototype.Sl = function () {\n    return this.ul;\n  }, t.prototype.g_ = function () {\n    var t = this;\n    null !== this.a_ && (this.m_(this.a_), this.a_ = null);\n    var i = this.s_[0],\n        n = Qi(document, new Xi(this.Hs, this.zn)),\n        h = Ji(n),\n        s = Zi(n);\n    return z(h, s, function () {\n      var n = 0,\n          s = 0,\n          r = function (i) {\n        for (var r = 0; r < t.s_.length; r++) {\n          var e = t.s_[r],\n              u = e.Dv().st,\n              a = f(\"left\" === i ? e.Fv() : e.Vv()),\n              o = a.Kc();\n          h.drawImage(o, n, s, a.Ic(), u), s += u;\n        }\n      };\n\n      t.p_() && (r(\"left\"), n = f(i.Fv()).Ic()), s = 0;\n\n      for (var e = 0; e < t.s_.length; e++) {\n        var u = t.s_[e],\n            a = u.Dv(),\n            o = u.Kc();\n        h.drawImage(o, n, s, a.ht, a.st), s += a.st;\n      }\n\n      n += i.Dv().ht, t.y_() && (s = 0, r(\"right\"));\n\n      var l = function (i) {\n        var r = f(\"left\" === i ? t.__.Xv() : t.__.Zv()),\n            e = r.Dv(),\n            u = r.Kc();\n        h.drawImage(u, n, s, e.ht, e.st);\n      };\n\n      if (t.xi.timeScale.visible) {\n        n = 0, t.p_() && (l(\"left\"), n = f(i.Fv()).Ic());\n\n        var c = t.__.Dv();\n\n        o = t.__.Kc();\n        h.drawImage(o, n, s, c.ht, c.st), t.y_() && (n = i.Dv().ht, l(\"right\"), h.restore());\n      }\n    }), n;\n  }, t.prototype.k_ = function (t) {\n    return \"none\" === t ? 0 : (\"left\" !== t || this.p_()) && (\"right\" !== t || this.y_()) ? 0 === this.s_.length ? 0 : f(\"left\" === t ? this.s_[0].Fv() : this.s_[0].Vv()).Ic() : 0;\n  }, t.prototype.x_ = function () {\n    for (var t = 0, i = 0, n = 0, h = 0, s = this.s_; h < s.length; h++) {\n      var r = s[h];\n      this.p_() && (i = Math.max(i, f(r.Fv()).zc())), this.y_() && (n = Math.max(n, f(r.Vv()).zc())), t += r.Do();\n    }\n\n    var e = this.Hs,\n        u = this.zn,\n        a = Math.max(e - i - n, 0),\n        o = this.xi.timeScale.visible ? this.__.Gv() : 0;\n    o % 2 && (o += 1);\n\n    for (var l = 0 + o, c = u < l ? 0 : u - l, v = c / t, _ = 0, d = 0; d < this.s_.length; ++d) {\n      (r = this.s_[d]).vv(this.hi.yl()[d]);\n      var w,\n          M = 0;\n      M = d === this.s_.length - 1 ? c - _ : Math.round(r.Do() * v), _ += w = Math.max(M, 2), r.Pc(new Xi(a, w)), this.p_() && r.Sv(i, \"left\"), this.y_() && r.Sv(n, \"right\"), r.Wc() && this.hi.Dl(r.Wc(), w);\n    }\n\n    this.__.Jv(new Xi(a, o), i, n), this.hi.kr(a), this.e_ !== i && (this.e_ = i), this.u_ !== n && (this.u_ = n);\n  }, t.prototype.c_ = function (t) {\n    var i = t.deltaX / 100,\n        n = -t.deltaY / 100;\n\n    if (0 !== i && this.xi.handleScroll.mouseWheel || 0 !== n && this.xi.handleScale.mouseWheel) {\n      switch (t.cancelable && t.preventDefault(), t.deltaMode) {\n        case t.DOM_DELTA_PAGE:\n          i *= 120, n *= 120;\n          break;\n\n        case t.DOM_DELTA_LINE:\n          i *= 32, n *= 32;\n      }\n\n      if (0 !== n && this.xi.handleScale.mouseWheel) {\n        var h = Math.sign(n) * Math.min(1, Math.abs(n)),\n            s = t.clientX - this.qv.getBoundingClientRect().left;\n        this.ct().Al(s, h);\n      }\n\n      0 !== i && this.xi.handleScroll.mouseWheel && this.ct().El(-80 * i);\n    }\n  }, t.prototype.m_ = function (t) {\n    var i = t.xe();\n\n    if (3 === i && this.N_(), 3 === i || 2 === i) {\n      for (var n = this.hi.yl(), h = 0; h < n.length; h++) t.Ne(h).dh && n[h].qo();\n\n      t.De() && this.hi.j().Kr();\n      var s = t.Ce();\n      null !== s && this.hi.j().$r(s), this.__.B();\n    }\n\n    this.Rc(t);\n  }, t.prototype.al = function (t) {\n    var i = this;\n    null !== this.a_ ? this.a_.wn(t) : this.a_ = t, this.o_ || (this.o_ = !0, this.r_ = window.requestAnimationFrame(function () {\n      i.o_ = !1, i.r_ = 0, null !== i.a_ && (i.m_(i.a_), i.a_ = null);\n    }));\n  }, t.prototype.N_ = function () {\n    this.w_();\n  }, t.prototype.w_ = function () {\n    for (var t = this.hi.yl(), i = t.length, n = this.s_.length, h = i; h < n; h++) {\n      var s = l(this.s_.pop());\n      this.l_.removeChild(s.Ec()), s.xv().rn(this), s.an();\n    }\n\n    for (h = n; h < i; h++) {\n      (s = new vn(this, t[h])).xv().tn(this.S_.bind(this), this), this.s_.push(s), this.l_.insertBefore(s.Ec(), this.__.Ec());\n    }\n\n    for (h = 0; h < i; h++) {\n      var r = t[h];\n      (s = this.s_[h]).Wc() !== r ? s.vv(r) : s.cv();\n    }\n\n    this.M_(), this.x_();\n  }, t.prototype.D_ = function (t, i) {\n    var n,\n        h = new Map();\n    null !== t && this.hi.F().forEach(function (i) {\n      var n = i.Zu(t);\n      null !== n && h.set(i, n);\n    });\n\n    if (null !== t) {\n      var s = this.hi.j().si(t);\n      null !== s && (n = s);\n    }\n\n    var r = this.ct().Ml(),\n        e = null !== r && r.ml instanceof ji ? r.ml : void 0,\n        u = null !== r && void 0 !== r.bv ? r.bv.Iu : void 0;\n    return {\n      V: n,\n      C_: i || void 0,\n      T_: e,\n      A_: h,\n      E_: u\n    };\n  }, t.prototype.S_ = function (t, i) {\n    var n = this;\n    this.Qc.en(function () {\n      return n.D_(t, i);\n    });\n  }, t.prototype.v_ = function (t, i) {\n    var n = this;\n    this.ul.en(function () {\n      return n.D_(t, i);\n    });\n  }, t.prototype.M_ = function () {\n    var t = this.xi.timeScale.visible ? \"\" : \"none\";\n    this.__.Ec().style.display = t;\n  }, t.prototype.p_ = function () {\n    return this.xi.leftPriceScale.visible;\n  }, t.prototype.y_ = function () {\n    return this.xi.rightPriceScale.visible;\n  }, t;\n}();\n\nfunction bn(t, i, n) {\n  var h = n.value,\n      s = {\n    zs: i,\n    V: t,\n    Z: [h, h, h, h]\n  };\n  return \"color\" in n && void 0 !== n.color && (s.et = n.color), s;\n}\n\nfunction mn(t, i, n) {\n  return {\n    zs: i,\n    V: t,\n    Z: [n.open, n.high, n.low, n.close]\n  };\n}\n\nfunction gn(t) {\n  return void 0 !== t.Z;\n}\n\nfunction pn(t) {\n  return function (i, n, h) {\n    return void 0 === (s = h).open && void 0 === s.value ? {\n      V: i,\n      zs: n\n    } : t(i, n, h);\n    var s;\n  };\n}\n\nvar yn = {\n  Candlestick: pn(mn),\n  Bar: pn(mn),\n  Area: pn(bn),\n  Histogram: pn(bn),\n  Line: pn(bn)\n};\n\nfunction kn(t) {\n  return yn[t];\n}\n\nfunction xn(t) {\n  return 60 * t * 60 * 1e3;\n}\n\nfunction Nn(t) {\n  return 60 * t * 1e3;\n}\n\nvar Sn,\n    Dn = [{\n  L_: 1,\n  Os: 20\n}, {\n  L_: (Sn = 1, 1e3 * Sn),\n  Os: 19\n}, {\n  L_: Nn(1),\n  Os: 20\n}, {\n  L_: Nn(5),\n  Os: 21\n}, {\n  L_: Nn(30),\n  Os: 22\n}, {\n  L_: xn(1),\n  Os: 30\n}, {\n  L_: xn(3),\n  Os: 31\n}, {\n  L_: xn(6),\n  Os: 32\n}, {\n  L_: xn(12),\n  Os: 33\n}];\n\nfunction Cn(t, i) {\n  if (null !== i) {\n    var n = new Date(1e3 * i),\n        h = new Date(1e3 * t);\n    if (h.getUTCFullYear() !== n.getUTCFullYear()) return 70;\n    if (h.getUTCMonth() !== n.getUTCMonth()) return 60;\n    if (h.getUTCDate() !== n.getUTCDate()) return 50;\n\n    for (var s = Dn.length - 1; s >= 0; --s) if (Math.floor(n.getTime() / Dn[s].L_) !== Math.floor(h.getTime() / Dn[s].L_)) return Dn[s].Os;\n  }\n\n  return 20;\n}\n\nfunction Tn(t) {\n  if (!Ft(t)) throw new Error(\"time must be of type BusinessDay\");\n  var i = new Date(Date.UTC(t.year, t.month - 1, t.day, 0, 0, 0, 0));\n  return {\n    Ss: Math.round(i.getTime() / 1e3),\n    Ns: t\n  };\n}\n\nfunction An(t) {\n  if (!Vt(t)) throw new Error(\"time must be of type isUTCTimestamp\");\n  return {\n    Ss: t\n  };\n}\n\nfunction En(t) {\n  return 0 === t.length ? null : Ft(t[0].time) ? Tn : An;\n}\n\nfunction Ln(t) {\n  return Vt(t) ? An(t) : Ft(t) ? Tn(t) : Tn(Bn(t));\n}\n\nfunction Bn(t) {\n  var i = new Date(t);\n  if (isNaN(i.getTime())) throw new Error(\"Invalid date string=\" + t + \", expected format=yyyy-mm-dd\");\n  return {\n    day: i.getUTCDate(),\n    month: i.getUTCMonth() + 1,\n    year: i.getUTCFullYear()\n  };\n}\n\nfunction Fn(t) {\n  w(t.time) && (t.time = Bn(t.time));\n}\n\nfunction Vn(t) {\n  return {\n    zs: 0,\n    B_: new Map(),\n    Wh: t\n  };\n}\n\nvar zn = function () {\n  function t() {\n    this.F_ = new Map(), this.V_ = new Map(), this.z_ = new Map(), this.O_ = [];\n  }\n\n  return t.prototype.an = function () {\n    this.F_.clear(), this.V_.clear(), this.z_.clear(), this.O_ = [];\n  }, t.prototype.P_ = function (t, i) {\n    var n = this;\n    this.z_.has(t) && this.F_.forEach(function (i) {\n      return i.B_.delete(t);\n    });\n    var h = [];\n\n    if (0 !== i.length) {\n      !function (t) {\n        t.forEach(Fn);\n      }(i);\n      var s = f(En(i)),\n          r = kn(t.fa());\n      h = i.map(function (i) {\n        var h = s(i.time),\n            e = n.F_.get(h.Ss);\n        void 0 === e && (e = Vn(h), n.F_.set(h.Ss, e));\n        var u = r(h, e.zs, i);\n        return e.B_.set(t, u), u;\n      });\n    }\n\n    return this.I_(), this.W_(t, h), this.R_(t);\n  }, t.prototype.Hl = function (t) {\n    return this.P_(t, []);\n  }, t.prototype.j_ = function (t, i) {\n    Fn(i);\n    var n = f(En([i]))(i.time),\n        h = this.z_.get(t);\n    if (void 0 !== h && n.Ss < h.Ss) throw new Error(\"Cannot update oldest data, last time=\" + h.Ss + \", new time=\" + n.Ss);\n    var s = this.F_.get(n.Ss),\n        r = void 0 === s;\n    void 0 === s && (s = Vn(n), this.F_.set(n.Ss, s));\n    var e = kn(t.fa())(n, s.zs, i);\n    s.B_.set(t, e);\n    var u = this.U_(t, e);\n\n    if (!r) {\n      var a = new Map();\n      return null !== u && a.set(t, u), {\n        q_: a,\n        j: {\n          Dr: this.H_()\n        }\n      };\n    }\n\n    return this.R_(t);\n  }, t.prototype.U_ = function (t, i) {\n    var n = this.V_.get(t);\n    void 0 === n && (n = [], this.V_.set(t, n));\n    var h = 0 !== n.length ? n[n.length - 1] : null,\n        s = null;\n    return null === h || i.V.Ss > h.V.Ss ? gn(i) && (n.push(i), s = {\n      _l: !1,\n      Y_: [i]\n    }) : gn(i) ? (n[n.length - 1] = i, s = {\n      _l: !1,\n      Y_: [i]\n    }) : (n.splice(-1, 1), s = {\n      _l: !0,\n      Y_: n\n    }), this.z_.set(t, i.V), s;\n  }, t.prototype.W_ = function (t, i) {\n    0 !== i.length ? (this.V_.set(t, i.filter(gn)), this.z_.set(t, i[i.length - 1].V)) : (this.V_.delete(t), this.z_.delete(t));\n  }, t.prototype.I_ = function () {\n    var t = new Map();\n    this.F_.forEach(function (i, n) {\n      i.B_.size > 0 && t.set(n, i);\n    }), this.F_ = t;\n  }, t.prototype.K_ = function (t) {\n    for (var i = -1, n = 0; n < this.O_.length && n < t.length; ++n) {\n      var h = this.O_[n],\n          s = t[n];\n\n      if (h.V.Ss !== s.V.Ss) {\n        i = n;\n        break;\n      }\n\n      s.Vs = h.Vs;\n    }\n\n    if (-1 === i && this.O_.length !== t.length && (i = Math.min(this.O_.length, t.length)), -1 === i) return -1;\n\n    var r = function (i) {\n      var n = l(e.F_.get(t[i].V.Ss));\n      n.zs = i, n.B_.forEach(function (t) {\n        t.zs = i;\n      });\n    },\n        e = this;\n\n    for (n = i; n < t.length; ++n) r(n);\n\n    return function (t, i) {\n      void 0 === i && (i = 0);\n\n      for (var n = 0 === i || 0 === t.length ? null : t[i - 1].V.Ss, h = 0, s = i; s < t.length; ++s) {\n        var r = t[s];\n        r.Vs = Cn(r.V.Ss, n), h += r.V.Ss - (n || r.V.Ss), n = r.V.Ss;\n      }\n\n      if (0 === i && t.length > 1) {\n        var e = Math.ceil(h / (t.length - 1)),\n            u = t[0].V.Ss - e;\n        t[0].Vs = Cn(t[0].V.Ss, u);\n      }\n    }(t, i), this.O_ = t, i;\n  }, t.prototype.H_ = function () {\n    var t = 0;\n    return this.V_.forEach(function (i) {\n      0 !== i.length && (t = Math.max(t, i[i.length - 1].zs));\n    }), t;\n  }, t.prototype.R_ = function (t) {\n    var i = Array.from(this.F_.values()).map(function (t) {\n      return {\n        Vs: 0,\n        V: t.Wh\n      };\n    });\n    i.sort(function (t, i) {\n      return t.V.Ss - i.V.Ss;\n    });\n    var n = this.K_(i),\n        h = {\n      q_: new Map(),\n      j: {\n        Dr: this.H_()\n      }\n    };\n    if (-1 !== n) this.V_.forEach(function (t, i) {\n      h.q_.set(i, {\n        Y_: t,\n        _l: !0\n      });\n    }), h.j.X_ = this.O_;else {\n      var s = this.V_.get(t);\n      h.q_.set(t, {\n        Y_: s || [],\n        _l: !0\n      });\n    }\n    return h;\n  }, t;\n}(),\n    On = {\n  color: \"#FF0000\",\n  price: 0,\n  lineStyle: 2,\n  lineWidth: 1,\n  axisLabelVisible: !0\n},\n    Pn = function () {\n  function t(t) {\n    this.ea = t;\n  }\n\n  return t.prototype.applyOptions = function (t) {\n    this.ea.eh(t);\n  }, t.prototype.options = function () {\n    return this.ea.P();\n  }, t.prototype.Z_ = function () {\n    return this.ea;\n  }, t;\n}();\n\nfunction In(t) {\n  var i = t.overlay,\n      n = function (t, i) {\n    var n = {};\n\n    for (var h in t) Object.prototype.hasOwnProperty.call(t, h) && i.indexOf(h) < 0 && (n[h] = t[h]);\n\n    if (null != t && \"function\" == typeof Object.getOwnPropertySymbols) {\n      var s = 0;\n\n      for (h = Object.getOwnPropertySymbols(t); s < h.length; s++) i.indexOf(h[s]) < 0 && Object.prototype.propertyIsEnumerable.call(t, h[s]) && (n[h[s]] = t[h[s]]);\n    }\n\n    return n;\n  }(t, [\"overlay\"]);\n\n  return i && (n.priceScaleId = \"\"), n;\n}\n\nvar Wn = function () {\n  function t(t, i, n) {\n    this.Ie = t, this.J_ = i, this.G_ = n;\n  }\n\n  return t.prototype.an = function () {\n    delete this.Ie, delete this.J_;\n  }, t.prototype.priceFormatter = function () {\n    return this.Ie.$h();\n  }, t.prototype.q_ = function () {\n    return this.Ie;\n  }, t.prototype.priceToCoordinate = function (t) {\n    var i = this.Ie.q();\n    return null === i ? null : this.Ie.X().$(t, i.Z);\n  }, t.prototype.coordinateToPrice = function (t) {\n    var i = this.Ie.q();\n    return null === i ? null : this.Ie.X().Ci(t, i.Z);\n  }, t.prototype.barsInLogicalRange = function (t) {\n    if (null === t) return null;\n    var i = new Lt(new Ct(t.from, t.to)).js(),\n        n = this.Ie.qi();\n    if (n.Qt()) return null;\n    var h = n.Da(i.rs(), 1),\n        s = n.Da(i.es(), -1),\n        r = f(n.xa()),\n        e = f(n.Ui());\n    if (null !== h && null !== s && h.zs > s.zs) return {\n      barsBefore: t.from - r,\n      barsAfter: e - t.to\n    };\n    var u = {\n      barsBefore: null === h || h.zs === r ? t.from - r : h.zs - r,\n      barsAfter: null === s || s.zs === e ? e - t.to : e - s.zs\n    };\n    return null !== h && null !== s && (u.from = h.V.Ns || h.V.Ss, u.to = s.V.Ns || s.V.Ss), u;\n  }, t.prototype.setData = function (t) {\n    this.J_.Q_(this.Ie, t);\n  }, t.prototype.update = function (t) {\n    this.J_.ho(this.Ie, t);\n  }, t.prototype.setMarkers = function (t) {\n    var i = t.map(function (t) {\n      return u(u({}, t), {\n        time: Ln(t.time)\n      });\n    });\n    this.Ie.uo(i);\n  }, t.prototype.applyOptions = function (t) {\n    var i = In(t);\n    this.Ie.eh(i);\n  }, t.prototype.options = function () {\n    return b(this.Ie.P());\n  }, t.prototype.priceScale = function () {\n    return this.G_.priceScale(this.Ie.X().rh());\n  }, t.prototype.createPriceLine = function (t) {\n    var i = v(b(On), t),\n        n = this.Ie.ao(i);\n    return new Pn(n);\n  }, t.prototype.removePriceLine = function (t) {\n    this.Ie.oo(t.Z_());\n  }, t;\n}(),\n    Rn = function (t) {\n  function i() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(i, t), i.prototype.applyOptions = function (i) {\n    gt(i), t.prototype.applyOptions.call(this, i);\n  }, i;\n}(Wn),\n    jn = {\n  autoScale: !0,\n  mode: 0,\n  invertScale: !1,\n  alignLabels: !0,\n  borderVisible: !0,\n  borderColor: \"#2B2B43\",\n  entireTextOnly: !1,\n  visible: !1,\n  drawTicks: !0,\n  scaleMargins: {\n    bottom: .1,\n    top: .2\n  }\n},\n    Un = {\n  color: \"rgba(0, 0, 0, 0)\",\n  visible: !1,\n  fontSize: 48,\n  fontFamily: zt,\n  fontStyle: \"\",\n  text: \"\",\n  horzAlign: \"center\",\n  vertAlign: \"center\"\n},\n    qn = {\n  width: 0,\n  height: 0,\n  layout: {\n    backgroundColor: \"#FFFFFF\",\n    textColor: \"#191919\",\n    fontSize: 11,\n    fontFamily: zt\n  },\n  crosshair: {\n    vertLine: {\n      color: \"#758696\",\n      width: 1,\n      style: 3,\n      visible: !0,\n      labelVisible: !0,\n      labelBackgroundColor: \"#4c525e\"\n    },\n    horzLine: {\n      color: \"#758696\",\n      width: 1,\n      style: 3,\n      visible: !0,\n      labelVisible: !0,\n      labelBackgroundColor: \"#4c525e\"\n    },\n    mode: 1\n  },\n  grid: {\n    vertLines: {\n      color: \"#D6DCDE\",\n      style: 0,\n      visible: !0\n    },\n    horzLines: {\n      color: \"#D6DCDE\",\n      style: 0,\n      visible: !0\n    }\n  },\n  overlayPriceScales: u({}, jn),\n  leftPriceScale: u(u({}, jn), {\n    visible: !1\n  }),\n  rightPriceScale: u(u({}, jn), {\n    visible: !0\n  }),\n  timeScale: {\n    rightOffset: 0,\n    barSpacing: 6,\n    fixLeftEdge: !1,\n    lockVisibleTimeRangeOnResize: !1,\n    rightBarStaysOnScroll: !1,\n    borderVisible: !0,\n    borderColor: \"#2B2B43\",\n    visible: !0,\n    timeVisible: !1,\n    secondsVisible: !0\n  },\n  watermark: Un,\n  localization: {\n    locale: nn ? navigator.language : \"\",\n    dateFormat: \"dd MMM 'yy\"\n  },\n  handleScroll: {\n    mouseWheel: !0,\n    pressedMouseMove: !0,\n    horzTouchDrag: !0,\n    vertTouchDrag: !0\n  },\n  handleScale: {\n    axisPressedMouseMove: {\n      time: !0,\n      price: !0\n    },\n    axisDoubleClickReset: !0,\n    mouseWheel: !0,\n    pinch: !0\n  }\n},\n    Hn = {\n  upColor: \"#26a69a\",\n  downColor: \"#ef5350\",\n  wickVisible: !0,\n  borderVisible: !0,\n  borderColor: \"#378658\",\n  borderUpColor: \"#26a69a\",\n  borderDownColor: \"#ef5350\",\n  wickColor: \"#737375\",\n  wickUpColor: \"#26a69a\",\n  wickDownColor: \"#ef5350\"\n},\n    Yn = {\n  upColor: \"#26a69a\",\n  downColor: \"#ef5350\",\n  openVisible: !0,\n  thinBars: !0\n},\n    Kn = {\n  color: \"#2196f3\",\n  lineStyle: 0,\n  lineWidth: 3,\n  lineType: 0,\n  crosshairMarkerVisible: !0,\n  crosshairMarkerRadius: 4\n},\n    $n = {\n  topColor: \"rgba( 46, 220, 135, 0.4)\",\n  bottomColor: \"rgba( 40, 221, 100, 0)\",\n  lineColor: \"#33D778\",\n  lineStyle: 0,\n  lineWidth: 3,\n  lineType: 0,\n  crosshairMarkerVisible: !0,\n  crosshairMarkerRadius: 4\n},\n    Xn = {\n  color: \"#26a69a\",\n  base: 0\n},\n    Zn = {\n  title: \"\",\n  lastValueVisible: !0,\n  priceLineVisible: !0,\n  priceLineSource: 0,\n  priceLineWidth: 1,\n  priceLineColor: \"\",\n  priceLineStyle: 2,\n  baseLineVisible: !0,\n  baseLineWidth: 1,\n  baseLineColor: \"#B2B5BE\",\n  baseLineStyle: 0,\n  priceFormat: {\n    type: \"price\",\n    precision: 2,\n    minMove: .01\n  }\n},\n    Jn = function () {\n  function t(t, i) {\n    this.td = t, this.nd = i;\n  }\n\n  return t.prototype.an = function () {\n    delete this.td;\n  }, t.prototype.applyOptions = function (t) {\n    this.td.ct().gl(this.nd, t);\n  }, t.prototype.options = function () {\n    return this.Jt().P();\n  }, t.prototype.width = function () {\n    return It(this.nd) ? this.td.k_(\"left\" === this.nd ? \"left\" : \"right\") : 0;\n  }, t.prototype.Jt = function () {\n    return f(this.td.ct().pl(this.nd)).X;\n  }, t;\n}(),\n    Gn = function () {\n  function t(t) {\n    this.hd = new G(), this.Qs = new G(), this.hi = t, this.bo().Ur().tn(this.sd.bind(this)), this.bo().qr().tn(this.rd.bind(this));\n  }\n\n  return t.prototype.an = function () {\n    this.bo().Ur().rn(this), this.bo().qr().rn(this), this.hd.an(), delete this.hi;\n  }, t.prototype.scrollPosition = function () {\n    return this.bo().Fr();\n  }, t.prototype.scrollToPosition = function (t, i) {\n    i ? this.bo().jr(t, 1e3) : this.bo().cr(t);\n  }, t.prototype.scrollToRealTime = function () {\n    this.bo().Rr();\n  }, t.prototype.getVisibleRange = function () {\n    var t,\n        i,\n        n = this.bo().Mr();\n    return null === n ? null : {\n      from: null !== (t = n.from.Ns) && void 0 !== t ? t : n.from.Ss,\n      to: null !== (i = n.to.Ns) && void 0 !== i ? i : n.to.Ss\n    };\n  }, t.prototype.setVisibleRange = function (t) {\n    var i = {\n      from: Ln(t.from),\n      to: Ln(t.to)\n    },\n        n = this.bo().pr(i);\n    this.hi.Yl(n);\n  }, t.prototype.getVisibleLogicalRange = function () {\n    var t = this.bo().wr();\n    return null === t ? null : {\n      from: t.rs(),\n      to: t.es()\n    };\n  }, t.prototype.setVisibleLogicalRange = function (t) {\n    o(t.from <= t.to, \"The from index cannot be after the to index.\"), this.hi.Yl(t);\n  }, t.prototype.resetTimeScale = function () {\n    this.hi.Ol();\n  }, t.prototype.fitContent = function () {\n    this.hi.Kr();\n  }, t.prototype.timeToCoordinate = function (t) {\n    var i = Ln(t),\n        n = this.hi.j(),\n        h = n.vr(i, !1);\n    return null === h ? null : n.J(h);\n  }, t.prototype.coordinateToTime = function (t) {\n    var i,\n        n = this.hi.j(),\n        h = n.Tr(t),\n        s = n.si(h);\n    return null === s ? null : null !== (i = s.Ns) && void 0 !== i ? i : s.Ss;\n  }, t.prototype.subscribeVisibleTimeRangeChange = function (t) {\n    this.hd.tn(t);\n  }, t.prototype.unsubscribeVisibleTimeRangeChange = function (t) {\n    this.hd.sn(t);\n  }, t.prototype.subscribeVisibleLogicalRangeChange = function (t) {\n    this.Qs.tn(t);\n  }, t.prototype.unsubscribeVisibleLogicalRangeChange = function (t) {\n    this.Qs.sn(t);\n  }, t.prototype.applyOptions = function (t) {\n    this.bo().eh(t);\n  }, t.prototype.options = function () {\n    return b(this.bo().P());\n  }, t.prototype.bo = function () {\n    return this.hi.j();\n  }, t.prototype.sd = function () {\n    this.hd.un() && this.hd.en(this.getVisibleRange());\n  }, t.prototype.rd = function () {\n    this.Qs.un() && this.Qs.en(this.getVisibleLogicalRange());\n  }, t;\n}();\n\nfunction Qn(t) {\n  if (void 0 !== t && \"custom\" !== t.type) {\n    var i = t;\n    void 0 !== i.minMove && void 0 === i.precision && (i.precision = function (t) {\n      if (t >= 1) return 0;\n\n      for (var i = 0; i < 8; i++) {\n        var n = Math.round(t);\n        if (Math.abs(n - t) < 1e-8) return i;\n        t *= 10;\n      }\n\n      return i;\n    }(i.minMove));\n  }\n}\n\nfunction th(t) {\n  return function (t) {\n    if (M(t.handleScale)) {\n      var i = t.handleScale;\n      t.handleScale = {\n        axisDoubleClickReset: i,\n        axisPressedMouseMove: {\n          time: i,\n          price: i\n        },\n        mouseWheel: i,\n        pinch: i\n      };\n    } else if (void 0 !== t.handleScale && M(t.handleScale.axisPressedMouseMove)) {\n      var n = t.handleScale.axisPressedMouseMove;\n      t.handleScale.axisPressedMouseMove = {\n        time: n,\n        price: n\n      };\n    }\n\n    var h = t.handleScroll;\n    M(h) && (t.handleScroll = {\n      horzTouchDrag: h,\n      vertTouchDrag: h,\n      mouseWheel: h,\n      pressedMouseMove: h\n    });\n  }(t), function (t) {\n    if (t.priceScale) {\n      t.leftPriceScale = t.leftPriceScale || {}, t.rightPriceScale = t.rightPriceScale || {};\n      var i = t.priceScale.position;\n      delete t.priceScale.position, t.leftPriceScale = v(t.leftPriceScale, t.priceScale), t.rightPriceScale = v(t.rightPriceScale, t.priceScale), \"left\" === i && (t.leftPriceScale.visible = !0, t.rightPriceScale.visible = !1), \"right\" === i && (t.leftPriceScale.visible = !1, t.rightPriceScale.visible = !0), \"none\" === i && (t.leftPriceScale.visible = !1, t.rightPriceScale.visible = !1), t.overlayPriceScales = t.overlayPriceScales || {}, void 0 !== t.priceScale.invertScale && (t.overlayPriceScales.invertScale = t.priceScale.invertScale), void 0 !== t.priceScale.scaleMargins && (t.overlayPriceScales.scaleMargins = t.priceScale.scaleMargins);\n    }\n  }(t), t;\n}\n\nvar ih = function () {\n  function t(t, i) {\n    var n = this;\n    this.ed = new zn(), this.ud = new Map(), this.ad = new Map(), this.od = new G(), this.ld = new G();\n    var h = void 0 === i ? b(qn) : v(b(qn), th(i));\n    this.td = new Mn(t, h), this.td.xv().tn(function (t) {\n      n.od.un() && n.od.en(n.fd(t()));\n    }, this), this.td.Sl().tn(function (t) {\n      n.ld.un() && n.ld.en(n.fd(t()));\n    }, this);\n    var s = this.td.ct();\n    this.vd = new Gn(s);\n  }\n\n  return t.prototype.remove = function () {\n    this.td.xv().rn(this), this.td.Sl().rn(this), this.vd.an(), this.td.an(), delete this.td, this.ud.forEach(function (t, i) {\n      i.an();\n    }), this.ud.clear(), this.ad.clear(), this.od.an(), this.ld.an(), this.ed.an(), delete this.ed;\n  }, t.prototype.resize = function (t, i, n) {\n    this.td.d_(t, i, n);\n  }, t.prototype.addAreaSeries = function (t) {\n    void 0 === t && (t = {}), Qn((t = In(t)).priceFormat);\n    var i = v(b(Zn), $n, t),\n        n = this.td.ct().Ul(\"Area\", i),\n        h = new Wn(n, this, this);\n    return this.ud.set(h, n), this.ad.set(n, h), h;\n  }, t.prototype.addBarSeries = function (t) {\n    void 0 === t && (t = {}), Qn((t = In(t)).priceFormat);\n    var i = v(b(Zn), Yn, t),\n        n = this.td.ct().Ul(\"Bar\", i),\n        h = new Wn(n, this, this);\n    return this.ud.set(h, n), this.ad.set(n, h), h;\n  }, t.prototype.addCandlestickSeries = function (t) {\n    void 0 === t && (t = {}), gt(t = In(t)), Qn(t.priceFormat);\n    var i = v(b(Zn), Hn, t),\n        n = this.td.ct().Ul(\"Candlestick\", i),\n        h = new Rn(n, this, this);\n    return this.ud.set(h, n), this.ad.set(n, h), h;\n  }, t.prototype.addHistogramSeries = function (t) {\n    void 0 === t && (t = {}), Qn((t = In(t)).priceFormat);\n    var i = v(b(Zn), Xn, t),\n        n = this.td.ct().Ul(\"Histogram\", i),\n        h = new Wn(n, this, this);\n    return this.ud.set(h, n), this.ad.set(n, h), h;\n  }, t.prototype.addLineSeries = function (t) {\n    void 0 === t && (t = {}), Qn((t = In(t)).priceFormat);\n    var i = v(b(Zn), Kn, t),\n        n = this.td.ct().Ul(\"Line\", i),\n        h = new Wn(n, this, this);\n    return this.ud.set(h, n), this.ad.set(n, h), h;\n  }, t.prototype.removeSeries = function (t) {\n    var i = l(this.ud.get(t)),\n        n = this.ed.Hl(i);\n    this.td.ct().Hl(i), this._d(n), this.ud.delete(t), this.ad.delete(i);\n  }, t.prototype.Q_ = function (t, i) {\n    this._d(this.ed.P_(t, i));\n  }, t.prototype.ho = function (t, i) {\n    this._d(this.ed.j_(t, i));\n  }, t.prototype.subscribeClick = function (t) {\n    this.od.tn(t);\n  }, t.prototype.unsubscribeClick = function (t) {\n    this.od.sn(t);\n  }, t.prototype.subscribeCrosshairMove = function (t) {\n    this.ld.tn(t);\n  }, t.prototype.unsubscribeCrosshairMove = function (t) {\n    this.ld.sn(t);\n  }, t.prototype.priceScale = function (t) {\n    return t = t || this.td.ct().Kl(), new Jn(this.td, t);\n  }, t.prototype.timeScale = function () {\n    return this.vd;\n  }, t.prototype.applyOptions = function (t) {\n    this.td.eh(th(t));\n  }, t.prototype.options = function () {\n    return this.td.P();\n  }, t.prototype.takeScreenshot = function () {\n    return this.td.g_();\n  }, t.prototype._d = function (t) {\n    var i = this.td.ct();\n    i.Rl(t.j.Dr, t.j.X_), t.q_.forEach(function (t, i) {\n      return i.ho(t.Y_, t._l);\n    }), i.Er();\n  }, t.prototype.dd = function (t) {\n    return l(this.ad.get(t));\n  }, t.prototype.fd = function (t) {\n    var i = this,\n        n = new Map();\n    t.A_.forEach(function (t, h) {\n      n.set(i.dd(h), t);\n    });\n    var h = void 0 === t.T_ ? void 0 : this.dd(t.T_);\n    return {\n      time: t.V && (t.V.Ns || t.V.Ss),\n      point: t.C_,\n      hoveredSeries: h,\n      hoveredMarkerId: t.E_,\n      seriesPrices: n\n    };\n  }, t;\n}();\n\nfunction nh(t, i) {\n  var n = f(w(t) ? document.getElementById(t) : t);\n  return new ih(n, i);\n}\n\nfunction hh() {\n  return \"3.1.5\";\n}"},"sourceMaps":null,"error":null,"hash":"0336df6dc9c187c9ca1deab79bb81c72","cacheData":{"env":{}}}